{
  "version": 3,
  "sources": ["../../cos-js-sdk-v5/lib/md5.js", "../../cos-js-sdk-v5/lib/crypto.js", "../../@xmldom/xmldom/lib/conventions.js", "../../@xmldom/xmldom/lib/dom.js", "../../@xmldom/xmldom/lib/entities.js", "../../@xmldom/xmldom/lib/sax.js", "../../@xmldom/xmldom/lib/dom-parser.js", "../../@xmldom/xmldom/lib/index.js", "../../cos-js-sdk-v5/lib/xml2json.js", "../../cos-js-sdk-v5/lib/json2xml.js", "../../cos-js-sdk-v5/src/util.js", "../../cos-js-sdk-v5/src/event.js", "../../cos-js-sdk-v5/src/session.js", "../../cos-js-sdk-v5/src/task.js", "../../cos-js-sdk-v5/lib/request.js", "../../cos-js-sdk-v5/src/base.js", "../../cos-js-sdk-v5/src/async.js", "../../cos-js-sdk-v5/src/advance.js", "../../cos-js-sdk-v5/src/cos.js", "../../cos-js-sdk-v5/index.js", "dep:cos-js-sdk-v5"],
  "sourcesContent": ["/* https://github.com/emn178/js-md5 */\n(function () {\n    'use strict';\n\n    var ERROR = 'input is invalid type';\n    var WINDOW = typeof window === 'object';\n    var root = WINDOW ? window : {};\n    if (root.JS_MD5_NO_WINDOW) {\n        WINDOW = false;\n    }\n    var WEB_WORKER = !WINDOW && typeof self === 'object';\n    var NODE_JS = !root.JS_MD5_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n    if (NODE_JS) {\n        root = global;\n    } else if (WEB_WORKER) {\n        root = self;\n    }\n    var COMMON_JS = !root.JS_MD5_NO_COMMON_JS && typeof module === 'object' && module.exports;\n    var AMD = typeof define === 'function' && define.amd;\n    var ARRAY_BUFFER = !root.JS_MD5_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n    var HEX_CHARS = '0123456789abcdef'.split('');\n    var EXTRA = [128, 32768, 8388608, -2147483648];\n    var SHIFT = [0, 8, 16, 24];\n    var OUTPUT_TYPES = ['hex', 'array', 'digest', 'buffer', 'arrayBuffer', 'base64'];\n    var BASE64_ENCODE_CHAR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n    var blocks = [], buffer8;\n    if (ARRAY_BUFFER) {\n        var buffer = new ArrayBuffer(68);\n        buffer8 = new Uint8Array(buffer);\n        blocks = new Uint32Array(buffer);\n    }\n\n    if (root.JS_MD5_NO_NODE_JS || !Array.isArray) {\n        Array.isArray = function (obj) {\n            return Object.prototype.toString.call(obj) === '[object Array]';\n        };\n    }\n\n    if (ARRAY_BUFFER && (root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n        ArrayBuffer.isView = function (obj) {\n            return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n        };\n    }\n\n    /**\n     * @method hex\n     * @memberof md5\n     * @description Output hash as hex string\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n     * @returns {String} Hex string\n     * @example\n     * md5.hex('The quick brown fox jumps over the lazy dog');\n     * // equal to\n     * md5('The quick brown fox jumps over the lazy dog');\n     */\n    /**\n     * @method digest\n     * @memberof md5\n     * @description Output hash as bytes array\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n     * @returns {Array} Bytes array\n     * @example\n     * md5.digest('The quick brown fox jumps over the lazy dog');\n     */\n    /**\n     * @method array\n     * @memberof md5\n     * @description Output hash as bytes array\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n     * @returns {Array} Bytes array\n     * @example\n     * md5.array('The quick brown fox jumps over the lazy dog');\n     */\n    /**\n     * @method arrayBuffer\n     * @memberof md5\n     * @description Output hash as ArrayBuffer\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n     * @returns {ArrayBuffer} ArrayBuffer\n     * @example\n     * md5.arrayBuffer('The quick brown fox jumps over the lazy dog');\n     */\n    /**\n     * @method buffer\n     * @deprecated This maybe confuse with Buffer in node.js. Please use arrayBuffer instead.\n     * @memberof md5\n     * @description Output hash as ArrayBuffer\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n     * @returns {ArrayBuffer} ArrayBuffer\n     * @example\n     * md5.buffer('The quick brown fox jumps over the lazy dog');\n     */\n    /**\n     * @method base64\n     * @memberof md5\n     * @description Output hash as base64 string\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n     * @returns {String} base64 string\n     * @example\n     * md5.base64('The quick brown fox jumps over the lazy dog');\n     */\n    var createOutputMethod = function (outputType) {\n        return function (message, isBinStr) {\n            return new Md5(true).update(message, isBinStr)[outputType]();\n        };\n    };\n\n    /**\n     * @method create\n     * @memberof md5\n     * @description Create Md5 object\n     * @returns {Md5} Md5 object.\n     * @example\n     * var hash = md5.create();\n     */\n    /**\n     * @method update\n     * @memberof md5\n     * @description Create and update Md5 object\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n     * @returns {Md5} Md5 object.\n     * @example\n     * var hash = md5.update('The quick brown fox jumps over the lazy dog');\n     * // equal to\n     * var hash = md5.create();\n     * hash.update('The quick brown fox jumps over the lazy dog');\n     */\n    var createMethod = function () {\n        var method = createOutputMethod('hex');\n        if (NODE_JS) {\n            method = nodeWrap(method);\n        }\n        method.getCtx = method.create = function () {\n            return new Md5();\n        };\n        method.update = function (message) {\n            return method.create().update(message);\n        };\n        for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n            var type = OUTPUT_TYPES[i];\n            method[type] = createOutputMethod(type);\n        }\n        return method;\n    };\n\n    var nodeWrap = function (method) {\n        var crypto = eval(\"require('crypto')\");\n        var Buffer = eval(\"require('buffer').Buffer\");\n        var nodeMethod = function (message) {\n            if (typeof message === 'string') {\n                return crypto.createHash('md5').update(message, 'utf8').digest('hex');\n            } else {\n                if (message === null || message === undefined) {\n                    throw ERROR;\n                } else if (message.constructor === ArrayBuffer) {\n                    message = new Uint8Array(message);\n                }\n            }\n            if (Array.isArray(message) || ArrayBuffer.isView(message) ||\n                message.constructor === Buffer) {\n                return crypto.createHash('md5').update(new Buffer(message)).digest('hex');\n            } else {\n                return method(message);\n            }\n        };\n        return nodeMethod;\n    };\n\n    /**\n     * Md5 class\n     * @class Md5\n     * @description This is internal class.\n     * @see {@link md5.create}\n     */\n    function Md5(sharedMemory) {\n        if (sharedMemory) {\n            blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n                blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n                    blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n                        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n            this.blocks = blocks;\n            this.buffer8 = buffer8;\n        } else {\n            if (ARRAY_BUFFER) {\n                var buffer = new ArrayBuffer(68);\n                this.buffer8 = new Uint8Array(buffer);\n                this.blocks = new Uint32Array(buffer);\n            } else {\n                this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n            }\n        }\n        this.h0 = this.h1 = this.h2 = this.h3 = this.start = this.bytes = this.hBytes = 0;\n        this.finalized = this.hashed = false;\n        this.first = true;\n    }\n\n    /**\n     * @method update\n     * @memberof Md5\n     * @instance\n     * @description Update hash\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n     * @returns {Md5} Md5 object.\n     * @see {@link md5.update}\n     */\n    Md5.prototype.update = function (message, isBinStr) {\n        if (this.finalized) {\n            return;\n        }\n\n        var code, index = 0, i, length = message.length, blocks = this.blocks;\n        var buffer8 = this.buffer8;\n\n        while (index < length) {\n            if (this.hashed) {\n                this.hashed = false;\n                blocks[0] = blocks[16];\n                blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n                    blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n                        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n                            blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n            }\n\n            if (ARRAY_BUFFER) {\n                for (i = this.start; index < length && i < 64; ++index) {\n                    code = message.charCodeAt(index);\n                    if (isBinStr || code < 0x80) {\n                        buffer8[i++] = code;\n                    } else if (code < 0x800) {\n                        buffer8[i++] = 0xc0 | (code >> 6);\n                        buffer8[i++] = 0x80 | (code & 0x3f);\n                    } else if (code < 0xd800 || code >= 0xe000) {\n                        buffer8[i++] = 0xe0 | (code >> 12);\n                        buffer8[i++] = 0x80 | ((code >> 6) & 0x3f);\n                        buffer8[i++] = 0x80 | (code & 0x3f);\n                    } else {\n                        code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n                        buffer8[i++] = 0xf0 | (code >> 18);\n                        buffer8[i++] = 0x80 | ((code >> 12) & 0x3f);\n                        buffer8[i++] = 0x80 | ((code >> 6) & 0x3f);\n                        buffer8[i++] = 0x80 | (code & 0x3f);\n                    }\n                }\n            } else {\n                for (i = this.start; index < length && i < 64; ++index) {\n                    code = message.charCodeAt(index);\n                    if (isBinStr || code < 0x80) {\n                        blocks[i >> 2] |= code << SHIFT[i++ & 3];\n                    } else if (code < 0x800) {\n                        blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n                        blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n                    } else if (code < 0xd800 || code >= 0xe000) {\n                        blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n                        blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n                        blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n                    } else {\n                        code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n                        blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n                        blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n                        blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n                        blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n                    }\n                }\n            }\n            this.lastByteIndex = i;\n            this.bytes += i - this.start;\n            if (i >= 64) {\n                this.start = i - 64;\n                this.hash();\n                this.hashed = true;\n            } else {\n                this.start = i;\n            }\n        }\n        if (this.bytes > 4294967295) {\n            this.hBytes += this.bytes / 4294967296 << 0;\n            this.bytes = this.bytes % 4294967296;\n        }\n        return this;\n    };\n\n    Md5.prototype.finalize = function () {\n        if (this.finalized) {\n            return;\n        }\n        this.finalized = true;\n        var blocks = this.blocks, i = this.lastByteIndex;\n        blocks[i >> 2] |= EXTRA[i & 3];\n        if (i >= 56) {\n            if (!this.hashed) {\n                this.hash();\n            }\n            blocks[0] = blocks[16];\n            blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n                blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n                    blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n                        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n        }\n        blocks[14] = this.bytes << 3;\n        blocks[15] = this.hBytes << 3 | this.bytes >>> 29;\n        this.hash();\n    };\n\n    Md5.prototype.hash = function () {\n        var a, b, c, d, bc, da, blocks = this.blocks;\n\n        if (this.first) {\n            a = blocks[0] - 680876937;\n            a = (a << 7 | a >>> 25) - 271733879 << 0;\n            d = (-1732584194 ^ a & 2004318071) + blocks[1] - 117830708;\n            d = (d << 12 | d >>> 20) + a << 0;\n            c = (-271733879 ^ (d & (a ^ -271733879))) + blocks[2] - 1126478375;\n            c = (c << 17 | c >>> 15) + d << 0;\n            b = (a ^ (c & (d ^ a))) + blocks[3] - 1316259209;\n            b = (b << 22 | b >>> 10) + c << 0;\n        } else {\n            a = this.h0;\n            b = this.h1;\n            c = this.h2;\n            d = this.h3;\n            a += (d ^ (b & (c ^ d))) + blocks[0] - 680876936;\n            a = (a << 7 | a >>> 25) + b << 0;\n            d += (c ^ (a & (b ^ c))) + blocks[1] - 389564586;\n            d = (d << 12 | d >>> 20) + a << 0;\n            c += (b ^ (d & (a ^ b))) + blocks[2] + 606105819;\n            c = (c << 17 | c >>> 15) + d << 0;\n            b += (a ^ (c & (d ^ a))) + blocks[3] - 1044525330;\n            b = (b << 22 | b >>> 10) + c << 0;\n        }\n\n        a += (d ^ (b & (c ^ d))) + blocks[4] - 176418897;\n        a = (a << 7 | a >>> 25) + b << 0;\n        d += (c ^ (a & (b ^ c))) + blocks[5] + 1200080426;\n        d = (d << 12 | d >>> 20) + a << 0;\n        c += (b ^ (d & (a ^ b))) + blocks[6] - 1473231341;\n        c = (c << 17 | c >>> 15) + d << 0;\n        b += (a ^ (c & (d ^ a))) + blocks[7] - 45705983;\n        b = (b << 22 | b >>> 10) + c << 0;\n        a += (d ^ (b & (c ^ d))) + blocks[8] + 1770035416;\n        a = (a << 7 | a >>> 25) + b << 0;\n        d += (c ^ (a & (b ^ c))) + blocks[9] - 1958414417;\n        d = (d << 12 | d >>> 20) + a << 0;\n        c += (b ^ (d & (a ^ b))) + blocks[10] - 42063;\n        c = (c << 17 | c >>> 15) + d << 0;\n        b += (a ^ (c & (d ^ a))) + blocks[11] - 1990404162;\n        b = (b << 22 | b >>> 10) + c << 0;\n        a += (d ^ (b & (c ^ d))) + blocks[12] + 1804603682;\n        a = (a << 7 | a >>> 25) + b << 0;\n        d += (c ^ (a & (b ^ c))) + blocks[13] - 40341101;\n        d = (d << 12 | d >>> 20) + a << 0;\n        c += (b ^ (d & (a ^ b))) + blocks[14] - 1502002290;\n        c = (c << 17 | c >>> 15) + d << 0;\n        b += (a ^ (c & (d ^ a))) + blocks[15] + 1236535329;\n        b = (b << 22 | b >>> 10) + c << 0;\n        a += (c ^ (d & (b ^ c))) + blocks[1] - 165796510;\n        a = (a << 5 | a >>> 27) + b << 0;\n        d += (b ^ (c & (a ^ b))) + blocks[6] - 1069501632;\n        d = (d << 9 | d >>> 23) + a << 0;\n        c += (a ^ (b & (d ^ a))) + blocks[11] + 643717713;\n        c = (c << 14 | c >>> 18) + d << 0;\n        b += (d ^ (a & (c ^ d))) + blocks[0] - 373897302;\n        b = (b << 20 | b >>> 12) + c << 0;\n        a += (c ^ (d & (b ^ c))) + blocks[5] - 701558691;\n        a = (a << 5 | a >>> 27) + b << 0;\n        d += (b ^ (c & (a ^ b))) + blocks[10] + 38016083;\n        d = (d << 9 | d >>> 23) + a << 0;\n        c += (a ^ (b & (d ^ a))) + blocks[15] - 660478335;\n        c = (c << 14 | c >>> 18) + d << 0;\n        b += (d ^ (a & (c ^ d))) + blocks[4] - 405537848;\n        b = (b << 20 | b >>> 12) + c << 0;\n        a += (c ^ (d & (b ^ c))) + blocks[9] + 568446438;\n        a = (a << 5 | a >>> 27) + b << 0;\n        d += (b ^ (c & (a ^ b))) + blocks[14] - 1019803690;\n        d = (d << 9 | d >>> 23) + a << 0;\n        c += (a ^ (b & (d ^ a))) + blocks[3] - 187363961;\n        c = (c << 14 | c >>> 18) + d << 0;\n        b += (d ^ (a & (c ^ d))) + blocks[8] + 1163531501;\n        b = (b << 20 | b >>> 12) + c << 0;\n        a += (c ^ (d & (b ^ c))) + blocks[13] - 1444681467;\n        a = (a << 5 | a >>> 27) + b << 0;\n        d += (b ^ (c & (a ^ b))) + blocks[2] - 51403784;\n        d = (d << 9 | d >>> 23) + a << 0;\n        c += (a ^ (b & (d ^ a))) + blocks[7] + 1735328473;\n        c = (c << 14 | c >>> 18) + d << 0;\n        b += (d ^ (a & (c ^ d))) + blocks[12] - 1926607734;\n        b = (b << 20 | b >>> 12) + c << 0;\n        bc = b ^ c;\n        a += (bc ^ d) + blocks[5] - 378558;\n        a = (a << 4 | a >>> 28) + b << 0;\n        d += (bc ^ a) + blocks[8] - 2022574463;\n        d = (d << 11 | d >>> 21) + a << 0;\n        da = d ^ a;\n        c += (da ^ b) + blocks[11] + 1839030562;\n        c = (c << 16 | c >>> 16) + d << 0;\n        b += (da ^ c) + blocks[14] - 35309556;\n        b = (b << 23 | b >>> 9) + c << 0;\n        bc = b ^ c;\n        a += (bc ^ d) + blocks[1] - 1530992060;\n        a = (a << 4 | a >>> 28) + b << 0;\n        d += (bc ^ a) + blocks[4] + 1272893353;\n        d = (d << 11 | d >>> 21) + a << 0;\n        da = d ^ a;\n        c += (da ^ b) + blocks[7] - 155497632;\n        c = (c << 16 | c >>> 16) + d << 0;\n        b += (da ^ c) + blocks[10] - 1094730640;\n        b = (b << 23 | b >>> 9) + c << 0;\n        bc = b ^ c;\n        a += (bc ^ d) + blocks[13] + 681279174;\n        a = (a << 4 | a >>> 28) + b << 0;\n        d += (bc ^ a) + blocks[0] - 358537222;\n        d = (d << 11 | d >>> 21) + a << 0;\n        da = d ^ a;\n        c += (da ^ b) + blocks[3] - 722521979;\n        c = (c << 16 | c >>> 16) + d << 0;\n        b += (da ^ c) + blocks[6] + 76029189;\n        b = (b << 23 | b >>> 9) + c << 0;\n        bc = b ^ c;\n        a += (bc ^ d) + blocks[9] - 640364487;\n        a = (a << 4 | a >>> 28) + b << 0;\n        d += (bc ^ a) + blocks[12] - 421815835;\n        d = (d << 11 | d >>> 21) + a << 0;\n        da = d ^ a;\n        c += (da ^ b) + blocks[15] + 530742520;\n        c = (c << 16 | c >>> 16) + d << 0;\n        b += (da ^ c) + blocks[2] - 995338651;\n        b = (b << 23 | b >>> 9) + c << 0;\n        a += (c ^ (b | ~d)) + blocks[0] - 198630844;\n        a = (a << 6 | a >>> 26) + b << 0;\n        d += (b ^ (a | ~c)) + blocks[7] + 1126891415;\n        d = (d << 10 | d >>> 22) + a << 0;\n        c += (a ^ (d | ~b)) + blocks[14] - 1416354905;\n        c = (c << 15 | c >>> 17) + d << 0;\n        b += (d ^ (c | ~a)) + blocks[5] - 57434055;\n        b = (b << 21 | b >>> 11) + c << 0;\n        a += (c ^ (b | ~d)) + blocks[12] + 1700485571;\n        a = (a << 6 | a >>> 26) + b << 0;\n        d += (b ^ (a | ~c)) + blocks[3] - 1894986606;\n        d = (d << 10 | d >>> 22) + a << 0;\n        c += (a ^ (d | ~b)) + blocks[10] - 1051523;\n        c = (c << 15 | c >>> 17) + d << 0;\n        b += (d ^ (c | ~a)) + blocks[1] - 2054922799;\n        b = (b << 21 | b >>> 11) + c << 0;\n        a += (c ^ (b | ~d)) + blocks[8] + 1873313359;\n        a = (a << 6 | a >>> 26) + b << 0;\n        d += (b ^ (a | ~c)) + blocks[15] - 30611744;\n        d = (d << 10 | d >>> 22) + a << 0;\n        c += (a ^ (d | ~b)) + blocks[6] - 1560198380;\n        c = (c << 15 | c >>> 17) + d << 0;\n        b += (d ^ (c | ~a)) + blocks[13] + 1309151649;\n        b = (b << 21 | b >>> 11) + c << 0;\n        a += (c ^ (b | ~d)) + blocks[4] - 145523070;\n        a = (a << 6 | a >>> 26) + b << 0;\n        d += (b ^ (a | ~c)) + blocks[11] - 1120210379;\n        d = (d << 10 | d >>> 22) + a << 0;\n        c += (a ^ (d | ~b)) + blocks[2] + 718787259;\n        c = (c << 15 | c >>> 17) + d << 0;\n        b += (d ^ (c | ~a)) + blocks[9] - 343485551;\n        b = (b << 21 | b >>> 11) + c << 0;\n\n        if (this.first) {\n            this.h0 = a + 1732584193 << 0;\n            this.h1 = b - 271733879 << 0;\n            this.h2 = c - 1732584194 << 0;\n            this.h3 = d + 271733878 << 0;\n            this.first = false;\n        } else {\n            this.h0 = this.h0 + a << 0;\n            this.h1 = this.h1 + b << 0;\n            this.h2 = this.h2 + c << 0;\n            this.h3 = this.h3 + d << 0;\n        }\n    };\n\n    /**\n     * @method hex\n     * @memberof Md5\n     * @instance\n     * @description Output hash as hex string\n     * @returns {String} Hex string\n     * @see {@link md5.hex}\n     * @example\n     * hash.hex();\n     */\n    Md5.prototype.hex = function () {\n        this.finalize();\n\n        var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3;\n\n        return HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\n            HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\n            HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\n            HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\n            HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\n            HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\n            HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\n            HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\n            HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\n            HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\n            HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\n            HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\n            HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\n            HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\n            HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\n            HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F];\n    };\n\n    /**\n     * @method toString\n     * @memberof Md5\n     * @instance\n     * @description Output hash as hex string\n     * @returns {String} Hex string\n     * @see {@link md5.hex}\n     * @example\n     * hash.toString();\n     */\n    Md5.prototype.toString = Md5.prototype.hex;\n\n    /**\n     * @method digest\n     * @memberof Md5\n     * @instance\n     * @description Output hash as bytes array\n     * @returns {Array} Bytes array\n     * @see {@link md5.digest}\n     * @example\n     * hash.digest();\n     */\n    Md5.prototype.digest = function (format) {\n        if (format === 'hex') return this.hex();\n        this.finalize();\n\n        var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3;\n        var res = [\n            h0 & 0xFF, (h0 >> 8) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 24) & 0xFF,\n            h1 & 0xFF, (h1 >> 8) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 24) & 0xFF,\n            h2 & 0xFF, (h2 >> 8) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 24) & 0xFF,\n            h3 & 0xFF, (h3 >> 8) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 24) & 0xFF\n        ];\n        return res;\n    };\n\n    /**\n     * @method array\n     * @memberof Md5\n     * @instance\n     * @description Output hash as bytes array\n     * @returns {Array} Bytes array\n     * @see {@link md5.array}\n     * @example\n     * hash.array();\n     */\n    Md5.prototype.array = Md5.prototype.digest;\n\n    /**\n     * @method arrayBuffer\n     * @memberof Md5\n     * @instance\n     * @description Output hash as ArrayBuffer\n     * @returns {ArrayBuffer} ArrayBuffer\n     * @see {@link md5.arrayBuffer}\n     * @example\n     * hash.arrayBuffer();\n     */\n    Md5.prototype.arrayBuffer = function () {\n        this.finalize();\n\n        var buffer = new ArrayBuffer(16);\n        var blocks = new Uint32Array(buffer);\n        blocks[0] = this.h0;\n        blocks[1] = this.h1;\n        blocks[2] = this.h2;\n        blocks[3] = this.h3;\n        return buffer;\n    };\n\n    /**\n     * @method buffer\n     * @deprecated This maybe confuse with Buffer in node.js. Please use arrayBuffer instead.\n     * @memberof Md5\n     * @instance\n     * @description Output hash as ArrayBuffer\n     * @returns {ArrayBuffer} ArrayBuffer\n     * @see {@link md5.buffer}\n     * @example\n     * hash.buffer();\n     */\n    Md5.prototype.buffer = Md5.prototype.arrayBuffer;\n\n    /**\n     * @method base64\n     * @memberof Md5\n     * @instance\n     * @description Output hash as base64 string\n     * @returns {String} base64 string\n     * @see {@link md5.base64}\n     * @example\n     * hash.base64();\n     */\n    Md5.prototype.base64 = function () {\n        var v1, v2, v3, base64Str = '', bytes = this.array();\n        for (var i = 0; i < 15;) {\n            v1 = bytes[i++];\n            v2 = bytes[i++];\n            v3 = bytes[i++];\n            base64Str += BASE64_ENCODE_CHAR[v1 >>> 2] +\n                BASE64_ENCODE_CHAR[(v1 << 4 | v2 >>> 4) & 63] +\n                BASE64_ENCODE_CHAR[(v2 << 2 | v3 >>> 6) & 63] +\n                BASE64_ENCODE_CHAR[v3 & 63];\n        }\n        v1 = bytes[i];\n        base64Str += BASE64_ENCODE_CHAR[v1 >>> 2] +\n            BASE64_ENCODE_CHAR[(v1 << 4) & 63] +\n            '==';\n        return base64Str;\n    };\n\n    var exports = createMethod();\n\n    if (COMMON_JS) {\n        module.exports = exports;\n    } else {\n        /**\n         * @method md5\b\n         * @description Md5 hash function, export to global in browsers.\n         * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n         * @returns {String} md5 hashes\n         * @example\n         * md5(''); // d41d8cd98f00b204e9800998ecf8427e\n         * md5('The quick brown fox jumps over the lazy dog'); // 9e107d9d372bb6826bd81d3542a419d6\n         * md5('The quick brown fox jumps over the lazy dog.'); // e4d909c290d0fb1ca068ffaddf22cbd0\n         *\n         * // It also supports UTF-8 encoding\n         * md5('\u4E2D\u6587'); // a7bac2239fcdcb3a067903d8077c4a07\n         *\n         * // It also supports byte `Array`, `Uint8Array`, `ArrayBuffer`\n         * md5([]); // d41d8cd98f00b204e9800998ecf8427e\n         * md5(new Uint8Array([])); // d41d8cd98f00b204e9800998ecf8427e\n         */\n        root.md5 = exports;\n        if (AMD) {\n            define(function () {\n                return exports;\n            });\n        }\n    }\n})();\n", "/*\n CryptoJS v3.1.2\n code.google.com/p/crypto-js\n (c) 2009-2013 by Jeff Mott. All rights reserved.\n code.google.com/p/crypto-js/wiki/License\n */\nvar CryptoJS=CryptoJS||function(g,l){var e={},d=e.lib={},m=function(){},k=d.Base={extend:function(a){m.prototype=this;var c=new m;a&&c.mixIn(a);c.hasOwnProperty(\"init\")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty(\"toString\")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},\n        p=d.WordArray=k.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=l?c:4*a.length},toString:function(a){return(a||n).stringify(this)},concat:function(a){var c=this.words,q=a.words,f=this.sigBytes;a=a.sigBytes;this.clamp();if(f%4)for(var b=0;b<a;b++)c[f+b>>>2]|=(q[b>>>2]>>>24-8*(b%4)&255)<<24-8*((f+b)%4);else if(65535<q.length)for(b=0;b<a;b+=4)c[f+b>>>2]=q[b>>>2];else c.push.apply(c,q);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<\n            32-8*(c%4);a.length=g.ceil(c/4)},clone:function(){var a=k.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],b=0;b<a;b+=4)c.push(4294967296*g.random()|0);return new p.init(c,a)}}),b=e.enc={},n=b.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],f=0;f<a;f++){var d=c[f>>>2]>>>24-8*(f%4)&255;b.push((d>>>4).toString(16));b.push((d&15).toString(16))}return b.join(\"\")},parse:function(a){for(var c=a.length,b=[],f=0;f<c;f+=2)b[f>>>3]|=parseInt(a.substr(f,\n                2),16)<<24-4*(f%8);return new p.init(b,c/2)}},j=b.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],f=0;f<a;f++)b.push(String.fromCharCode(c[f>>>2]>>>24-8*(f%4)&255));return b.join(\"\")},parse:function(a){for(var c=a.length,b=[],f=0;f<c;f++)b[f>>>2]|=(a.charCodeAt(f)&255)<<24-8*(f%4);return new p.init(b,c)}},h=b.Utf8={stringify:function(a){try{return decodeURIComponent(escape(j.stringify(a)))}catch(c){throw Error(\"Malformed UTF-8 data\");}},parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},\n        r=d.BufferedBlockAlgorithm=k.extend({reset:function(){this._data=new p.init;this._nDataBytes=0},_append:function(a){\"string\"==typeof a&&(a=h.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,b=c.words,f=c.sigBytes,d=this.blockSize,e=f/(4*d),e=a?g.ceil(e):g.max((e|0)-this._minBufferSize,0);a=e*d;f=g.min(4*a,f);if(a){for(var k=0;k<a;k+=d)this._doProcessBlock(b,k);k=b.splice(0,a);c.sigBytes-=f}return new p.init(k,f)},clone:function(){var a=k.clone.call(this);\n            a._data=this._data.clone();return a},_minBufferSize:0});d.Hasher=r.extend({cfg:k.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){r.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,d){return(new a.init(d)).finalize(b)}},_createHmacHelper:function(a){return function(b,d){return(new s.HMAC.init(a,\n        d)).finalize(b)}}});var s=e.algo={};return e}(Math);\n(function(){var g=CryptoJS,l=g.lib,e=l.WordArray,d=l.Hasher,m=[],l=g.algo.SHA1=d.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,e){for(var b=this._hash.words,n=b[0],j=b[1],h=b[2],g=b[3],l=b[4],a=0;80>a;a++){if(16>a)m[a]=d[e+a]|0;else{var c=m[a-3]^m[a-8]^m[a-14]^m[a-16];m[a]=c<<1|c>>>31}c=(n<<5|n>>>27)+l+m[a];c=20>a?c+((j&h|~j&g)+1518500249):40>a?c+((j^h^g)+1859775393):60>a?c+((j&h|j&g|h&g)-1894007588):c+((j^h^\ng)-899497514);l=g;g=h;h=j<<30|j>>>2;j=n;n=c}b[0]=b[0]+n|0;b[1]=b[1]+j|0;b[2]=b[2]+h|0;b[3]=b[3]+g|0;b[4]=b[4]+l|0},_doFinalize:function(){var d=this._data,e=d.words,b=8*this._nDataBytes,g=8*d.sigBytes;e[g>>>5]|=128<<24-g%32;e[(g+64>>>9<<4)+14]=Math.floor(b/4294967296);e[(g+64>>>9<<4)+15]=b;d.sigBytes=4*e.length;this._process();return this._hash},clone:function(){var e=d.clone.call(this);e._hash=this._hash.clone();return e}});g.SHA1=d._createHelper(l);g.HmacSHA1=d._createHmacHelper(l)})();\n(function(){var g=CryptoJS,l=g.enc.Utf8;g.algo.HMAC=g.lib.Base.extend({init:function(e,d){e=this._hasher=new e.init;\"string\"==typeof d&&(d=l.parse(d));var g=e.blockSize,k=4*g;d.sigBytes>k&&(d=e.finalize(d));d.clamp();for(var p=this._oKey=d.clone(),b=this._iKey=d.clone(),n=p.words,j=b.words,h=0;h<g;h++)n[h]^=1549556828,j[h]^=909522486;p.sigBytes=b.sigBytes=k;this.reset()},reset:function(){var e=this._hasher;e.reset();e.update(this._iKey)},update:function(e){this._hasher.update(e);return this},finalize:function(e){var d=\n    this._hasher;e=d.finalize(e);d.reset();return d.finalize(this._oKey.clone().concat(e))}})})();\n\n\n(function () {\n    // Shortcuts\n    var C = CryptoJS;\n    var C_lib = C.lib;\n    var WordArray = C_lib.WordArray;\n    var C_enc = C.enc;\n\n    /**\n     * Base64 encoding strategy.\n     */\n    var Base64 = C_enc.Base64 = {\n        /**\n         * Converts a word array to a Base64 string.\n         *\n         * @param {WordArray} wordArray The word array.\n         *\n         * @return {string} The Base64 string.\n         *\n         * @static\n         *\n         * @example\n         *\n         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n         */\n        stringify: function (wordArray) {\n            // Shortcuts\n            var words = wordArray.words;\n            var sigBytes = wordArray.sigBytes;\n            var map = this._map;\n\n            // Clamp excess bits\n            wordArray.clamp();\n\n            // Convert\n            var base64Chars = [];\n            for (var i = 0; i < sigBytes; i += 3) {\n                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\n                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n                }\n            }\n\n            // Add padding\n            var paddingChar = map.charAt(64);\n            if (paddingChar) {\n                while (base64Chars.length % 4) {\n                    base64Chars.push(paddingChar);\n                }\n            }\n\n            return base64Chars.join('');\n        },\n\n        /**\n         * Converts a Base64 string to a word array.\n         *\n         * @param {string} base64Str The Base64 string.\n         *\n         * @return {WordArray} The word array.\n         *\n         * @static\n         *\n         * @example\n         *\n         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n         */\n        parse: function (base64Str) {\n            // Shortcuts\n            var base64StrLength = base64Str.length;\n            var map = this._map;\n\n            // Ignore padding\n            var paddingChar = map.charAt(64);\n            if (paddingChar) {\n                var paddingIndex = base64Str.indexOf(paddingChar);\n                if (paddingIndex != -1) {\n                    base64StrLength = paddingIndex;\n                }\n            }\n\n            // Convert\n            var words = [];\n            var nBytes = 0;\n            for (var i = 0; i < base64StrLength; i++) {\n                if (i % 4) {\n                    var bits1 = map.indexOf(base64Str.charAt(i - 1)) << ((i % 4) * 2);\n                    var bits2 = map.indexOf(base64Str.charAt(i)) >>> (6 - (i % 4) * 2);\n                    words[nBytes >>> 2] |= (bits1 | bits2) << (24 - (nBytes % 4) * 8);\n                    nBytes++;\n                }\n            }\n\n            return WordArray.create(words, nBytes);\n        },\n\n        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n    };\n}());\n\nif(typeof module === 'object'){\n    module.exports = CryptoJS;\n}else{\n    window.CryptoJS = CryptoJS;\n}\n", "'use strict'\n\n/**\n * \"Shallow freezes\" an object to render it immutable.\n * Uses `Object.freeze` if available,\n * otherwise the immutability is only in the type.\n *\n * Is used to create \"enum like\" objects.\n *\n * @template T\n * @param {T} object the object to freeze\n * @param {Pick<ObjectConstructor, 'freeze'> = Object} oc `Object` by default,\n * \t\t\t\tallows to inject custom object constructor for tests\n * @returns {Readonly<T>}\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n */\nfunction freeze(object, oc) {\n\tif (oc === undefined) {\n\t\toc = Object\n\t}\n\treturn oc && typeof oc.freeze === 'function' ? oc.freeze(object) : object\n}\n\n/**\n * Since we can not rely on `Object.assign` we provide a simplified version\n * that is sufficient for our needs.\n *\n * @param {Object} target\n * @param {Object | null | undefined} source\n *\n * @returns {Object} target\n * @throws TypeError if target is not an object\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n * @see https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object.assign\n */\nfunction assign(target, source) {\n\tif (target === null || typeof target !== 'object') {\n\t\tthrow new TypeError('target is not an object')\n\t}\n\tfor (var key in source) {\n\t\tif (Object.prototype.hasOwnProperty.call(source, key)) {\n\t\t\ttarget[key] = source[key]\n\t\t}\n\t}\n\treturn target\n}\n\n/**\n * All mime types that are allowed as input to `DOMParser.parseFromString`\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString#Argument02 MDN\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#domparsersupportedtype WHATWG HTML Spec\n * @see DOMParser.prototype.parseFromString\n */\nvar MIME_TYPE = freeze({\n\t/**\n\t * `text/html`, the only mime type that triggers treating an XML document as HTML.\n\t *\n\t * @see DOMParser.SupportedType.isHTML\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring WHATWG HTML Spec\n\t */\n\tHTML: 'text/html',\n\n\t/**\n\t * Helper method to check a mime type if it indicates an HTML document\n\t *\n\t * @param {string} [value]\n\t * @returns {boolean}\n\t *\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring \t */\n\tisHTML: function (value) {\n\t\treturn value === MIME_TYPE.HTML\n\t},\n\n\t/**\n\t * `application/xml`, the standard mime type for XML documents.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xml IANA MimeType registration\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.1 RFC 7303\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_APPLICATION: 'application/xml',\n\n\t/**\n\t * `text/html`, an alias for `application/xml`.\n\t *\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.2 RFC 7303\n\t * @see https://www.iana.org/assignments/media-types/text/xml IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_TEXT: 'text/xml',\n\n\t/**\n\t * `application/xhtml+xml`, indicates an XML document that has the default HTML namespace,\n\t * but is parsed as an XML document.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xhtml+xml IANA MimeType registration\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument WHATWG DOM Spec\n\t * @see https://en.wikipedia.org/wiki/XHTML Wikipedia\n\t */\n\tXML_XHTML_APPLICATION: 'application/xhtml+xml',\n\n\t/**\n\t * `image/svg+xml`,\n\t *\n\t * @see https://www.iana.org/assignments/media-types/image/svg+xml IANA MimeType registration\n\t * @see https://www.w3.org/TR/SVG11/ W3C SVG 1.1\n\t * @see https://en.wikipedia.org/wiki/Scalable_Vector_Graphics Wikipedia\n\t */\n\tXML_SVG_IMAGE: 'image/svg+xml',\n})\n\n/**\n * Namespaces that are used in this code base.\n *\n * @see http://www.w3.org/TR/REC-xml-names\n */\nvar NAMESPACE = freeze({\n\t/**\n\t * The XHTML namespace.\n\t *\n\t * @see http://www.w3.org/1999/xhtml\n\t */\n\tHTML: 'http://www.w3.org/1999/xhtml',\n\n\t/**\n\t * Checks if `uri` equals `NAMESPACE.HTML`.\n\t *\n\t * @param {string} [uri]\n\t *\n\t * @see NAMESPACE.HTML\n\t */\n\tisHTML: function (uri) {\n\t\treturn uri === NAMESPACE.HTML\n\t},\n\n\t/**\n\t * The SVG namespace.\n\t *\n\t * @see http://www.w3.org/2000/svg\n\t */\n\tSVG: 'http://www.w3.org/2000/svg',\n\n\t/**\n\t * The `xml:` namespace.\n\t *\n\t * @see http://www.w3.org/XML/1998/namespace\n\t */\n\tXML: 'http://www.w3.org/XML/1998/namespace',\n\n\t/**\n\t * The `xmlns:` namespace\n\t *\n\t * @see https://www.w3.org/2000/xmlns/\n\t */\n\tXMLNS: 'http://www.w3.org/2000/xmlns/',\n})\n\nexports.assign = assign;\nexports.freeze = freeze;\nexports.MIME_TYPE = MIME_TYPE;\nexports.NAMESPACE = NAMESPACE;\n", "var conventions = require(\"./conventions\");\n\nvar NAMESPACE = conventions.NAMESPACE;\n\n/**\n * A prerequisite for `[].filter`, to drop elements that are empty\n * @param {string} input\n * @returns {boolean}\n */\nfunction notEmptyString (input) {\n\treturn input !== ''\n}\n/**\n * @see https://infra.spec.whatwg.org/#split-on-ascii-whitespace\n * @see https://infra.spec.whatwg.org/#ascii-whitespace\n *\n * @param {string} input\n * @returns {string[]} (can be empty)\n */\nfunction splitOnASCIIWhitespace(input) {\n\t// U+0009 TAB, U+000A LF, U+000C FF, U+000D CR, U+0020 SPACE\n\treturn input ? input.split(/[\\t\\n\\f\\r ]+/).filter(notEmptyString) : []\n}\n\n/**\n * Adds element as a key to current if it is not already present.\n *\n * @param {Record<string, boolean | undefined>} current\n * @param {string} element\n * @returns {Record<string, boolean | undefined>}\n */\nfunction orderedSetReducer (current, element) {\n\tif (!current.hasOwnProperty(element)) {\n\t\tcurrent[element] = true;\n\t}\n\treturn current;\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#ordered-set\n * @param {string} input\n * @returns {string[]}\n */\nfunction toOrderedSet(input) {\n\tif (!input) return [];\n\tvar list = splitOnASCIIWhitespace(input);\n\treturn Object.keys(list.reduce(orderedSetReducer, {}))\n}\n\n/**\n * Uses `list.indexOf` to implement something like `Array.prototype.includes`,\n * which we can not rely on being available.\n *\n * @param {any[]} list\n * @returns {function(any): boolean}\n */\nfunction arrayIncludes (list) {\n\treturn function(element) {\n\t\treturn list && list.indexOf(element) !== -1;\n\t}\n}\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tdest[p] = src[p];\n\t}\n}\n\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class,Super){\n\tvar pt = Class.prototype;\n\tif(!(pt instanceof Super)){\n\t\tfunction t(){};\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknown Class:\"+Class)\n\t\t}\n\t\tpt.constructor = Class\n\t}\n}\n\n// Node Types\nvar NodeType = {}\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\n\n// ExceptionCode\nvar ExceptionCode = {}\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\n//level2\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n/**\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n */\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n};\nNodeList.prototype = {\n\t/**\n\t * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n\t * @standard level1\n\t */\n\tlength:0, \n\t/**\n\t * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n\t * @standard level1\n\t * @param index  unsigned long \n\t *   Index into the collection.\n\t * @return Node\n\t * \tThe node at the indexth position in the NodeList, or null if that is not a valid index. \n\t */\n\titem: function(index) {\n\t\treturn this[index] || null;\n\t},\n\ttoString:function(isHTML,nodeFilter){\n\t\tfor(var buf = [], i = 0;i<this.length;i++){\n\t\t\tserializeToString(this[i],buf,isHTML,nodeFilter);\n\t\t}\n\t\treturn buf.join('');\n\t}\n};\n\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif(list._inc != inc){\n\t\tvar ls = list._refresh(list._node);\n\t\t//console.log(ls.length)\n\t\t__set__(list,'length',ls.length);\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i];\n}\n\n_extends(LiveNodeList,NodeList);\n\n/**\n * Objects implementing the NamedNodeMap interface are used\n * to represent collections of nodes that can be accessed by name.\n * Note that NamedNodeMap does not inherit from NodeList;\n * NamedNodeMaps are not maintained in any particular order.\n * Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index,\n * but this is simply to allow convenient enumeration of the contents of a NamedNodeMap,\n * and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities \n */\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\t//console.log('remove attr:'+attr)\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i]\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow DOMException(NOT_FOUND_ERR,new Error(el.tagName+'@'+attr))\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n//\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n//\t\t\treturn null;\n//\t\t}\n\t\t//console.log()\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\t//console.log(attr.nodeName,key)\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\t/* returns Node */\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\n\t/* returns Node */\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t\t\n\t\t\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\t\n\t//for level2\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\n\n/**\n * The DOMImplementation interface represents an object providing methods\n * which are not dependent on any particular document.\n * Such an object is returned by the `Document.implementation` property.\n *\n * __The individual methods describe the differences compared to the specs.__\n *\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation MDN\n * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490 DOM Level 1 Core (Initial)\n * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-102161490 DOM Level 2 Core\n * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-102161490 DOM Level 3 Core\n * @see https://dom.spec.whatwg.org/#domimplementation DOM Living Standard\n */\nfunction DOMImplementation() {\n}\n\nDOMImplementation.prototype = {\n\t/**\n\t * The DOMImplementation.hasFeature() method returns a Boolean flag indicating if a given feature is supported.\n\t * The different implementations fairly diverged in what kind of features were reported.\n\t * The latest version of the spec settled to force this method to always return true, where the functionality was accurate and in use.\n\t *\n\t * @deprecated It is deprecated and modern browsers return true in all cases.\n\t *\n\t * @param {string} feature\n\t * @param {string} [version]\n\t * @returns {boolean} always true\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/hasFeature MDN\n\t * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-5CED94D7 DOM Level 1 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-hasfeature DOM Living Standard\n\t */\n\thasFeature: function(feature, version) {\n\t\t\treturn true;\n\t},\n\t/**\n\t * Creates an XML Document object of the specified type with its document element.\n\t *\n\t * __It behaves slightly different from the description in the living standard__:\n\t * - There is no interface/class `XMLDocument`, it returns a `Document` instance.\n\t * - `contentType`, `encoding`, `mode`, `origin`, `url` fields are currently not declared.\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string|null} namespaceURI\n\t * @param {string} qualifiedName\n\t * @param {DocumentType=null} doctype\n\t * @returns {Document}\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocument MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocument DOM Level 2 Core (initial)\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument  DOM Level 2 Core\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocument: function(namespaceURI,  qualifiedName, doctype){\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype || null;\n\t\tif (doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif (qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI, qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\t/**\n\t * Returns a doctype, with the given `qualifiedName`, `publicId`, and `systemId`.\n\t *\n\t * __This behavior is slightly different from the in the specs__:\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string} qualifiedName\n\t * @param {string} [publicId]\n\t * @param {string} [systemId]\n\t * @returns {DocumentType} which can either be used with `DOMImplementation.createDocument` upon document creation\n\t * \t\t\t\t  or can be put into the document via methods like `Node.insertBefore()` or `Node.replaceChild()`\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocumentType MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocType DOM Level 2 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocumenttype DOM Living Standard\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocumentType: function(qualifiedName, publicId, systemId){\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId || '';\n\t\tnode.systemId = systemId || '';\n\n\t\treturn node;\n\t}\n};\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\t// Modified in DOM Level 2:\n\tinsertBefore:function(newChild, refChild){//raises \n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises \n\t\tthis.insertBefore(newChild,oldChild);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\t// Modified in DOM Level 2:\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n  \t// Introduced in DOM Level 2:\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    // Introduced in DOM Level 2:\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n\t/**\n\t * Look up the prefix associated to the given namespace URI, starting from this node.\n\t * **The default namespace declarations are ignored by this method.**\n\t * See Namespace Prefix Lookup for details on the algorithm used by this method.\n\t *\n\t * _Note: The implementation seems to be incomplete when compared to the algorithm described in the specs._\n\t *\n\t * @param {string | null} namespaceURI\n\t * @returns {string | null}\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-lookupNamespacePrefix\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/namespaces-algorithms.html#lookupNamespacePrefixAlgo\n\t * @see https://dom.spec.whatwg.org/#dom-node-lookupprefix\n\t * @see https://github.com/xmldom/xmldom/issues/322\n\t */\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n    \t\t\t\tif(map[n] == namespaceURI){\n    \t\t\t\t\treturn n;\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tif(prefix in map){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';'\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n}\n\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\n\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:'']\n\t}\n}\n\n/**\n * Updates `el.childNodes`, updating the indexed items and it's `length`.\n * Passing `newChild` means it will be appended.\n * Otherwise it's assumed that an item has been removed,\n * and `el.firstNode` and it's `.nextSibling` are used\n * to walk the current list of child nodes.\n *\n * @param {Document} doc\n * @param {Node} el\n * @param {Node} [newChild]\n * @private\n */\nfunction _onUpdateChild (doc, el, newChild) {\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\t//update childNodes\n\t\tvar cs = el.childNodes;\n\t\tif (newChild) {\n\t\t\tcs[cs.length++] = newChild;\n\t\t} else {\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile (child) {\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild = child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t\tdelete cs[cs.length];\n\t\t}\n\t}\n}\n\n/**\n * Removes the connections between `parentNode` and `child`\n * and any existing `child.previousSibling` or `child.nextSibling`.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n *\n * @param {Node} parentNode\n * @param {Node} child\n * @returns {Node} the child that was removed.\n * @private\n */\nfunction _removeChild (parentNode, child) {\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif (previous) {\n\t\tprevious.nextSibling = next;\n\t} else {\n\t\tparentNode.firstChild = next;\n\t}\n\tif (next) {\n\t\tnext.previousSibling = previous;\n\t} else {\n\t\tparentNode.lastChild = previous;\n\t}\n\tchild.parentNode = null;\n\tchild.previousSibling = null;\n\tchild.nextSibling = null;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode);\n\treturn child;\n}\n/**\n * preformance key(refChild == null)\n */\nfunction _insertBefore(parentNode,newChild,nextChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tcp.removeChild(newChild);//remove and update\n\t}\n\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = newChild.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn newChild;\n\t\t}\n\t\tvar newLast = newChild.lastChild;\n\t}else{\n\t\tnewFirst = newLast = newChild;\n\t}\n\tvar pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = nextChild;\n\t\n\t\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparentNode.firstChild = newFirst;\n\t}\n\tif(nextChild == null){\n\t\tparentNode.lastChild = newLast;\n\t}else{\n\t\tnextChild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parentNode;\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parentNode.ownerDocument||parentNode,parentNode);\n\t//console.log(parentNode.lastChild.nextSibling == null)\n\tif (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnewChild.firstChild = newChild.lastChild = null;\n\t}\n\treturn newChild;\n}\n\n/**\n * Appends `newChild` to `parentNode`.\n * If `newChild` is already connected to a `parentNode` it is first removed from it.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n * @param {Node} parentNode\n * @param {Node} newChild\n * @returns {Node}\n * @private\n */\nfunction _appendSingleChild (parentNode, newChild) {\n\tif (newChild.parentNode) {\n\t\tnewChild.parentNode.removeChild(newChild);\n\t}\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = parentNode.lastChild;\n\tnewChild.nextSibling = null;\n\tif (newChild.previousSibling) {\n\t\tnewChild.previousSibling.nextSibling = newChild;\n\t} else {\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode, newChild);\n\treturn newChild;\n}\n\nDocument.prototype = {\n\t//implementation : null,\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\t/**\n\t * The DocumentType node of the document.\n\t *\n\t * @readonly\n\t * @type DocumentType\n\t */\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\n\tinsertBefore :  function(newChild, refChild){//raises\n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\tif(this.documentElement == null && newChild.nodeType == ELEMENT_NODE){\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\n\t\treturn _insertBefore(this,newChild,refChild),(newChild.ownerDocument = this),newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\t// Introduced in DOM Level 2:\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\t// Introduced in DOM Level 2:\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == ELEMENT_NODE){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn rtv;\n\t},\n\n\t/**\n\t * The `getElementsByClassName` method of `Document` interface returns an array-like object\n\t * of all child elements which have **all** of the given class name(s).\n\t *\n\t * Returns an empty list if `classeNames` is an empty string or only contains HTML white space characters.\n\t *\n\t *\n\t * Warning: This is a live LiveNodeList.\n\t * Changes in the DOM will reflect in the array as the changes occur.\n\t * If an element selected by this array no longer qualifies for the selector,\n\t * it will automatically be removed. Be aware of this for iteration purposes.\n\t *\n\t * @param {string} classNames is a string representing the class name(s) to match; multiple class names are separated by (ASCII-)whitespace\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName\n\t * @see https://dom.spec.whatwg.org/#concept-getelementsbyclassname\n\t */\n\tgetElementsByClassName: function(classNames) {\n\t\tvar classNamesSet = toOrderedSet(classNames)\n\t\treturn new LiveNodeList(this, function(base) {\n\t\t\tvar ls = [];\n\t\t\tif (classNamesSet.length > 0) {\n\t\t\t\t_visitNode(base.documentElement, function(node) {\n\t\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE) {\n\t\t\t\t\t\tvar nodeClassNames = node.getAttribute('class')\n\t\t\t\t\t\t// can be null if the attribute does not exist\n\t\t\t\t\t\tif (nodeClassNames) {\n\t\t\t\t\t\t\t// before splitting and iterating just compare them for the most common case\n\t\t\t\t\t\t\tvar matches = classNames === nodeClassNames;\n\t\t\t\t\t\t\tif (!matches) {\n\t\t\t\t\t\t\t\tvar nodeClassNamesSet = toOrderedSet(nodeClassNames)\n\t\t\t\t\t\t\t\tmatches = classNamesSet.every(arrayIncludes(nodeClassNamesSet))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(matches) {\n\t\t\t\t\t\t\t\tls.push(node);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn ls;\n\t\t});\n\t},\n\n\t//document factory method:\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.localName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.target = target;\n\t\tnode.nodeValue= node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name)\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\t\n\t//four real opeartion method\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\t//console.log(this == oldAttr.ownerElement)\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\t//get real attribute name,and remove it by removeAttributeNode\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\t\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\t\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t\t\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\t\n\t},\n\tappendChild:function(newChild){\n\t\tthrow new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n};\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n};\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n};\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n};\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n};\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node,isHtml,nodeFilter){\n\treturn nodeSerializeToString.call(node,isHtml,nodeFilter);\n}\nNode.prototype.toString = nodeSerializeToString;\nfunction nodeSerializeToString(isHtml,nodeFilter){\n\tvar buf = [];\n\tvar refNode = this.nodeType == 9 && this.documentElement || this;\n\tvar prefix = refNode.prefix;\n\tvar uri = refNode.namespaceURI;\n\t\n\tif(uri && prefix == null){\n\t\t//console.log(prefix)\n\t\tvar prefix = refNode.lookupPrefix(uri);\n\t\tif(prefix == null){\n\t\t\t//isHTML = true;\n\t\t\tvar visibleNamespaces=[\n\t\t\t{namespace:uri,prefix:null}\n\t\t\t//{namespace:uri,prefix:''}\n\t\t\t]\n\t\t}\n\t}\n\tserializeToString(this,buf,isHtml,nodeFilter,visibleNamespaces);\n\t//console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\treturn buf.join('');\n}\n\nfunction needNamespaceDefine(node, isHTML, visibleNamespaces) {\n\tvar prefix = node.prefix || '';\n\tvar uri = node.namespaceURI;\n\t// According to [Namespaces in XML 1.0](https://www.w3.org/TR/REC-xml-names/#ns-using) ,\n\t// and more specifically https://www.w3.org/TR/REC-xml-names/#nsc-NoPrefixUndecl :\n\t// > In a namespace declaration for a prefix [...], the attribute value MUST NOT be empty.\n\t// in a similar manner [Namespaces in XML 1.1](https://www.w3.org/TR/xml-names11/#ns-using)\n\t// and more specifically https://www.w3.org/TR/xml-names11/#nsc-NSDeclared :\n\t// > [...] Furthermore, the attribute value [...] must not be an empty string.\n\t// so serializing empty namespace value like xmlns:ds=\"\" would produce an invalid XML document.\n\tif (!uri) {\n\t\treturn false;\n\t}\n\tif (prefix === \"xml\" && uri === NAMESPACE.XML || uri === NAMESPACE.XMLNS) {\n\t\treturn false;\n\t}\n\t\n\tvar i = visibleNamespaces.length \n\twhile (i--) {\n\t\tvar ns = visibleNamespaces[i];\n\t\t// get namespace prefix\n\t\tif (ns.prefix === prefix) {\n\t\t\treturn ns.namespace !== uri;\n\t\t}\n\t}\n\treturn true;\n}\n/**\n * Well-formed constraint: No < in Attribute Values\n * > The replacement text of any entity referred to directly or indirectly\n * > in an attribute value must not contain a <.\n * @see https://www.w3.org/TR/xml11/#CleanAttrVals\n * @see https://www.w3.org/TR/xml11/#NT-AttValue\n *\n * Literal whitespace other than space that appear in attribute values\n * are serialized as their entity references, so they will be preserved.\n * (In contrast to whitespace literals in the input which are normalized to spaces)\n * @see https://www.w3.org/TR/xml11/#AVNormalize\n * @see https://w3c.github.io/DOM-Parsing/#serializing-an-element-s-attributes\n */\nfunction addSerializedAttribute(buf, qualifiedName, value) {\n\tbuf.push(' ', qualifiedName, '=\"', value.replace(/[<>&\"\\t\\n\\r]/g, _xmlEncoder), '\"')\n}\n\nfunction serializeToString(node,buf,isHTML,nodeFilter,visibleNamespaces){\n\tif (!visibleNamespaces) {\n\t\tvisibleNamespaces = [];\n\t}\n\n\tif(nodeFilter){\n\t\tnode = nodeFilter(node);\n\t\tif(node){\n\t\t\tif(typeof node == 'string'){\n\t\t\t\tbuf.push(node);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}else{\n\t\t\treturn;\n\t\t}\n\t\t//buf.sort.apply(attrs, attributeSorter);\n\t}\n\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\t\t\n\t\tisHTML = NAMESPACE.isHTML(node.namespaceURI) || isHTML\n\n\t\tvar prefixedNodeName = nodeName\n\t\tif (!isHTML && !node.prefix && node.namespaceURI) {\n\t\t\tvar defaultNS\n\t\t\t// lookup current default ns from `xmlns` attribute\n\t\t\tfor (var ai = 0; ai < attrs.length; ai++) {\n\t\t\t\tif (attrs.item(ai).name === 'xmlns') {\n\t\t\t\t\tdefaultNS = attrs.item(ai).value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!defaultNS) {\n\t\t\t\t// lookup current default ns in visibleNamespaces\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.prefix === '' && namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tdefaultNS = namespace.namespace\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (defaultNS !== node.namespaceURI) {\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tif (namespace.prefix) {\n\t\t\t\t\t\t\tprefixedNodeName = namespace.prefix + ':' + nodeName\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tbuf.push('<', prefixedNodeName);\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\t// add namespaces for attributes\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (attr.prefix == 'xmlns') {\n\t\t\t\tvisibleNamespaces.push({ prefix: attr.localName, namespace: attr.value });\n\t\t\t}else if(attr.nodeName == 'xmlns'){\n\t\t\t\tvisibleNamespaces.push({ prefix: '', namespace: attr.value });\n\t\t\t}\n\t\t}\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (needNamespaceDefine(attr,isHTML, visibleNamespaces)) {\n\t\t\t\tvar prefix = attr.prefix||'';\n\t\t\t\tvar uri = attr.namespaceURI;\n\t\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t\t}\n\t\t\tserializeToString(attr,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t}\n\n\t\t// add namespace for current node\t\t\n\t\tif (nodeName === prefixedNodeName && needNamespaceDefine(node, isHTML, visibleNamespaces)) {\n\t\t\tvar prefix = node.prefix||'';\n\t\t\tvar uri = node.namespaceURI;\n\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t}\n\t\t\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\t//if is cdata child node\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\twhile(child){\n\t\t\t\t\tif(child.data){\n\t\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\t}\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',prefixedNodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\t// remove added visible namespaces\n\t\t//visibleNamespaces.length = startVisibleNamespaces;\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn addSerializedAttribute(buf, node.name, node.value);\n\tcase TEXT_NODE:\n\t\t/**\n\t\t * The ampersand character (&) and the left angle bracket (<) must not appear in their literal form,\n\t\t * except when used as markup delimiters, or within a comment, a processing instruction, or a CDATA section.\n\t\t * If they are needed elsewhere, they must be escaped using either numeric character references or the strings\n\t\t * `&amp;` and `&lt;` respectively.\n\t\t * The right angle bracket (>) may be represented using the string \" &gt; \", and must, for compatibility,\n\t\t * be escaped using either `&gt;` or a character reference when it appears in the string `]]>` in content,\n\t\t * when that string is not marking the end of a CDATA section.\n\t\t *\n\t\t * In the content of elements, character data is any string of characters\n\t\t * which does not contain the start-delimiter of any markup\n\t\t * and does not include the CDATA-section-close delimiter, `]]>`.\n\t\t *\n\t\t * @see https://www.w3.org/TR/xml/#NT-CharData\n\t\t * @see https://w3c.github.io/DOM-Parsing/#xml-serializing-a-text-node\n\t\t */\n\t\treturn buf.push(node.data\n\t\t\t.replace(/[<&>]/g,_xmlEncoder)\n\t\t);\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC ', pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push(' ', sysid);\n\t\t\t}\n\t\t\tbuf.push('>');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM ', sysid, '>');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE:\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\t\t//var attrs = node2.attributes;\n\t\t//var len = attrs.length;\n\t\t//for(var i=0;i<len;i++){\n\t\t\t//node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n\t\t//}\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t//case ENTITY_REFERENCE_NODE:\n\t//case PROCESSING_INSTRUCTION_NODE:\n\t////case TEXT_NODE:\n\t//case CDATA_SECTION_NODE:\n\t//case COMMENT_NODE:\n\t//\tdeep = false;\n\t//\tbreak;\n\t//case DOCUMENT_NODE:\n\t//case DOCUMENT_TYPE_NODE:\n\t//cannot be imported.\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE\uFF1A\n\t//can not hit in level3\n\t//default:throw e;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n//\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor(var n in node){\n\t\tvar v = node[n];\n\t\tif(typeof v != 'object' ){\n\t\t\tif(v != node2[n]){\n\t\t\t\tnode2[n] = v;\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value\n}\n//do dynamic\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase ELEMENT_NODE:\n\t\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = data;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t\n\t\tfunction getTextContent(node){\n\t\t\tswitch(node.nodeType){\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\tvar buf = [];\n\t\t\t\tnode = node.firstChild;\n\t\t\t\twhile(node){\n\t\t\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t\t\t}\n\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t}\n\t\t\t\treturn buf.join('');\n\t\t\tdefault:\n\t\t\t\treturn node.nodeValue;\n\t\t\t}\n\t\t}\n\n\t\t__set__ = function(object,key,value){\n\t\t\t//console.log(value)\n\t\t\tobject['$$'+key] = value\n\t\t}\n\t}\n}catch(e){//ie8\n}\n\n//if(typeof require == 'function'){\n\texports.DocumentType = DocumentType;\n\texports.DOMException = DOMException;\n\texports.DOMImplementation = DOMImplementation;\n\texports.Element = Element;\n\texports.Node = Node;\n\texports.NodeList = NodeList;\n\texports.XMLSerializer = XMLSerializer;\n//}\n", "var freeze = require('./conventions').freeze;\n\n/**\n * The entities that are predefined in every XML document.\n *\n * @see https://www.w3.org/TR/2006/REC-xml11-20060816/#sec-predefined-ent W3C XML 1.1\n * @see https://www.w3.org/TR/2008/REC-xml-20081126/#sec-predefined-ent W3C XML 1.0\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Predefined_entities_in_XML Wikipedia\n */\nexports.XML_ENTITIES = freeze({amp:'&', apos:\"'\", gt:'>', lt:'<', quot:'\"'})\n\n/**\n * A map of currently 241 entities that are detected in an HTML document.\n * They contain all entries from `XML_ENTITIES`.\n *\n * @see XML_ENTITIES\n * @see DOMParser.parseFromString\n * @see DOMImplementation.prototype.createHTMLDocument\n * @see https://html.spec.whatwg.org/#named-character-references WHATWG HTML(5) Spec\n * @see https://www.w3.org/TR/xml-entity-names/ W3C XML Entity Names\n * @see https://www.w3.org/TR/html4/sgml/entities.html W3C HTML4/SGML\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Character_entity_references_in_HTML Wikipedia (HTML)\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Entities_representing_special_characters_in_XHTML Wikpedia (XHTML)\n */\nexports.HTML_ENTITIES = freeze({\n       lt: '<',\n       gt: '>',\n       amp: '&',\n       quot: '\"',\n       apos: \"'\",\n       Agrave: \"\u00C0\",\n       Aacute: \"\u00C1\",\n       Acirc: \"\u00C2\",\n       Atilde: \"\u00C3\",\n       Auml: \"\u00C4\",\n       Aring: \"\u00C5\",\n       AElig: \"\u00C6\",\n       Ccedil: \"\u00C7\",\n       Egrave: \"\u00C8\",\n       Eacute: \"\u00C9\",\n       Ecirc: \"\u00CA\",\n       Euml: \"\u00CB\",\n       Igrave: \"\u00CC\",\n       Iacute: \"\u00CD\",\n       Icirc: \"\u00CE\",\n       Iuml: \"\u00CF\",\n       ETH: \"\u00D0\",\n       Ntilde: \"\u00D1\",\n       Ograve: \"\u00D2\",\n       Oacute: \"\u00D3\",\n       Ocirc: \"\u00D4\",\n       Otilde: \"\u00D5\",\n       Ouml: \"\u00D6\",\n       Oslash: \"\u00D8\",\n       Ugrave: \"\u00D9\",\n       Uacute: \"\u00DA\",\n       Ucirc: \"\u00DB\",\n       Uuml: \"\u00DC\",\n       Yacute: \"\u00DD\",\n       THORN: \"\u00DE\",\n       szlig: \"\u00DF\",\n       agrave: \"\u00E0\",\n       aacute: \"\u00E1\",\n       acirc: \"\u00E2\",\n       atilde: \"\u00E3\",\n       auml: \"\u00E4\",\n       aring: \"\u00E5\",\n       aelig: \"\u00E6\",\n       ccedil: \"\u00E7\",\n       egrave: \"\u00E8\",\n       eacute: \"\u00E9\",\n       ecirc: \"\u00EA\",\n       euml: \"\u00EB\",\n       igrave: \"\u00EC\",\n       iacute: \"\u00ED\",\n       icirc: \"\u00EE\",\n       iuml: \"\u00EF\",\n       eth: \"\u00F0\",\n       ntilde: \"\u00F1\",\n       ograve: \"\u00F2\",\n       oacute: \"\u00F3\",\n       ocirc: \"\u00F4\",\n       otilde: \"\u00F5\",\n       ouml: \"\u00F6\",\n       oslash: \"\u00F8\",\n       ugrave: \"\u00F9\",\n       uacute: \"\u00FA\",\n       ucirc: \"\u00FB\",\n       uuml: \"\u00FC\",\n       yacute: \"\u00FD\",\n       thorn: \"\u00FE\",\n       yuml: \"\u00FF\",\n       nbsp: \"\\u00a0\",\n       iexcl: \"\u00A1\",\n       cent: \"\u00A2\",\n       pound: \"\u00A3\",\n       curren: \"\u00A4\",\n       yen: \"\u00A5\",\n       brvbar: \"\u00A6\",\n       sect: \"\u00A7\",\n       uml: \"\u00A8\",\n       copy: \"\u00A9\",\n       ordf: \"\u00AA\",\n       laquo: \"\u00AB\",\n       not: \"\u00AC\",\n       shy: \"\u00AD\u00AD\",\n       reg: \"\u00AE\",\n       macr: \"\u00AF\",\n       deg: \"\u00B0\",\n       plusmn: \"\u00B1\",\n       sup2: \"\u00B2\",\n       sup3: \"\u00B3\",\n       acute: \"\u00B4\",\n       micro: \"\u00B5\",\n       para: \"\u00B6\",\n       middot: \"\u00B7\",\n       cedil: \"\u00B8\",\n       sup1: \"\u00B9\",\n       ordm: \"\u00BA\",\n       raquo: \"\u00BB\",\n       frac14: \"\u00BC\",\n       frac12: \"\u00BD\",\n       frac34: \"\u00BE\",\n       iquest: \"\u00BF\",\n       times: \"\u00D7\",\n       divide: \"\u00F7\",\n       forall: \"\u2200\",\n       part: \"\u2202\",\n       exist: \"\u2203\",\n       empty: \"\u2205\",\n       nabla: \"\u2207\",\n       isin: \"\u2208\",\n       notin: \"\u2209\",\n       ni: \"\u220B\",\n       prod: \"\u220F\",\n       sum: \"\u2211\",\n       minus: \"\u2212\",\n       lowast: \"\u2217\",\n       radic: \"\u221A\",\n       prop: \"\u221D\",\n       infin: \"\u221E\",\n       ang: \"\u2220\",\n       and: \"\u2227\",\n       or: \"\u2228\",\n       cap: \"\u2229\",\n       cup: \"\u222A\",\n       'int': \"\u222B\",\n       there4: \"\u2234\",\n       sim: \"\u223C\",\n       cong: \"\u2245\",\n       asymp: \"\u2248\",\n       ne: \"\u2260\",\n       equiv: \"\u2261\",\n       le: \"\u2264\",\n       ge: \"\u2265\",\n       sub: \"\u2282\",\n       sup: \"\u2283\",\n       nsub: \"\u2284\",\n       sube: \"\u2286\",\n       supe: \"\u2287\",\n       oplus: \"\u2295\",\n       otimes: \"\u2297\",\n       perp: \"\u22A5\",\n       sdot: \"\u22C5\",\n       Alpha: \"\u0391\",\n       Beta: \"\u0392\",\n       Gamma: \"\u0393\",\n       Delta: \"\u0394\",\n       Epsilon: \"\u0395\",\n       Zeta: \"\u0396\",\n       Eta: \"\u0397\",\n       Theta: \"\u0398\",\n       Iota: \"\u0399\",\n       Kappa: \"\u039A\",\n       Lambda: \"\u039B\",\n       Mu: \"\u039C\",\n       Nu: \"\u039D\",\n       Xi: \"\u039E\",\n       Omicron: \"\u039F\",\n       Pi: \"\u03A0\",\n       Rho: \"\u03A1\",\n       Sigma: \"\u03A3\",\n       Tau: \"\u03A4\",\n       Upsilon: \"\u03A5\",\n       Phi: \"\u03A6\",\n       Chi: \"\u03A7\",\n       Psi: \"\u03A8\",\n       Omega: \"\u03A9\",\n       alpha: \"\u03B1\",\n       beta: \"\u03B2\",\n       gamma: \"\u03B3\",\n       delta: \"\u03B4\",\n       epsilon: \"\u03B5\",\n       zeta: \"\u03B6\",\n       eta: \"\u03B7\",\n       theta: \"\u03B8\",\n       iota: \"\u03B9\",\n       kappa: \"\u03BA\",\n       lambda: \"\u03BB\",\n       mu: \"\u03BC\",\n       nu: \"\u03BD\",\n       xi: \"\u03BE\",\n       omicron: \"\u03BF\",\n       pi: \"\u03C0\",\n       rho: \"\u03C1\",\n       sigmaf: \"\u03C2\",\n       sigma: \"\u03C3\",\n       tau: \"\u03C4\",\n       upsilon: \"\u03C5\",\n       phi: \"\u03C6\",\n       chi: \"\u03C7\",\n       psi: \"\u03C8\",\n       omega: \"\u03C9\",\n       thetasym: \"\u03D1\",\n       upsih: \"\u03D2\",\n       piv: \"\u03D6\",\n       OElig: \"\u0152\",\n       oelig: \"\u0153\",\n       Scaron: \"\u0160\",\n       scaron: \"\u0161\",\n       Yuml: \"\u0178\",\n       fnof: \"\u0192\",\n       circ: \"\u02C6\",\n       tilde: \"\u02DC\",\n       ensp: \"\u2002\",\n       emsp: \"\u2003\",\n       thinsp: \"\u2009\",\n       zwnj: \"\u200C\",\n       zwj: \"\u200D\",\n       lrm: \"\u200E\",\n       rlm: \"\u200F\",\n       ndash: \"\u2013\",\n       mdash: \"\u2014\",\n       lsquo: \"\u2018\",\n       rsquo: \"\u2019\",\n       sbquo: \"\u201A\",\n       ldquo: \"\u201C\",\n       rdquo: \"\u201D\",\n       bdquo: \"\u201E\",\n       dagger: \"\u2020\",\n       Dagger: \"\u2021\",\n       bull: \"\u2022\",\n       hellip: \"\u2026\",\n       permil: \"\u2030\",\n       prime: \"\u2032\",\n       Prime: \"\u2033\",\n       lsaquo: \"\u2039\",\n       rsaquo: \"\u203A\",\n       oline: \"\u203E\",\n       euro: \"\u20AC\",\n       trade: \"\u2122\",\n       larr: \"\u2190\",\n       uarr: \"\u2191\",\n       rarr: \"\u2192\",\n       darr: \"\u2193\",\n       harr: \"\u2194\",\n       crarr: \"\u21B5\",\n       lceil: \"\u2308\",\n       rceil: \"\u2309\",\n       lfloor: \"\u230A\",\n       rfloor: \"\u230B\",\n       loz: \"\u25CA\",\n       spades: \"\u2660\",\n       clubs: \"\u2663\",\n       hearts: \"\u2665\",\n       diams: \"\u2666\"\n});\n\n/**\n * @deprecated use `HTML_ENTITIES` instead\n * @see HTML_ENTITIES\n */\nexports.entityMap = exports.HTML_ENTITIES\n", "var NAMESPACE = require(\"./conventions\").NAMESPACE;\n\n//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\n//var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\n\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\nvar S_TAG = 0;//tag name offerring\nvar S_ATTR = 1;//attr name offerring\nvar S_ATTR_SPACE=2;//attr name end and space offer\nvar S_EQ = 3;//=space?\nvar S_ATTR_NOQUOT_VALUE = 4;//attr value(no quot value only)\nvar S_ATTR_END = 5;//attr value end and no space(quot end)\nvar S_TAG_SPACE = 6;//(attr value end || tag end ) && (space offer)\nvar S_TAG_CLOSE = 7;//closed el<el />\n\n/**\n * Creates an error that will not be caught by XMLReader aka the SAX parser.\n *\n * @param {string} message\n * @param {any?} locator Optional, can provide details about the location in the source\n * @constructor\n */\nfunction ParseError(message, locator) {\n\tthis.message = message\n\tthis.locator = locator\n\tif(Error.captureStackTrace) Error.captureStackTrace(this, ParseError);\n}\nParseError.prototype = new Error();\nParseError.prototype.name = ParseError.name\n\nfunction XMLReader(){\n\n}\n\nXMLReader.prototype = {\n\tparse:function(source,defaultNSMap,entityMap){\n\t\tvar domBuilder = this.domBuilder;\n\t\tdomBuilder.startDocument();\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\n\t\tparse(source,defaultNSMap,entityMap,\n\t\t\t\tdomBuilder,this.errorHandler);\n\t\tdomBuilder.endDocument();\n\t}\n}\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\n\tfunction fixedFromCharCode(code) {\n\t\t// String.prototype.fromCharCode does not supports\n\t\t// > 2 bytes unicode chars directly\n\t\tif (code > 0xffff) {\n\t\t\tcode -= 0x10000;\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\n\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\n\t\t} else {\n\t\t\treturn String.fromCharCode(code);\n\t\t}\n\t}\n\tfunction entityReplacer(a){\n\t\tvar k = a.slice(1,-1);\n\t\tif (Object.hasOwnProperty.call(entityMap, k)) {\n\t\t\treturn entityMap[k];\n\t\t}else if(k.charAt(0) === '#'){\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\n\t\t}else{\n\t\t\terrorHandler.error('entity not found:'+a);\n\t\t\treturn a;\n\t\t}\n\t}\n\tfunction appendText(end){//has some bugs\n\t\tif(end>start){\n\t\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\tlocator&&position(start);\n\t\t\tdomBuilder.characters(xt,0,end-start);\n\t\t\tstart = end\n\t\t}\n\t}\n\tfunction position(p,m){\n\t\twhile(p>=lineEnd && (m = linePattern.exec(source))){\n\t\t\tlineStart = m.index;\n\t\t\tlineEnd = lineStart + m[0].length;\n\t\t\tlocator.lineNumber++;\n\t\t\t//console.log('line++:',locator,startPos,endPos)\n\t\t}\n\t\tlocator.columnNumber = p-lineStart+1;\n\t}\n\tvar lineStart = 0;\n\tvar lineEnd = 0;\n\tvar linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\n\tvar locator = domBuilder.locator;\n\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\n\tvar closeMap = {};\n\tvar start = 0;\n\twhile(true){\n\t\ttry{\n\t\t\tvar tagStart = source.indexOf('<',start);\n\t\t\tif(tagStart<0){\n\t\t\t\tif(!source.substr(start).match(/^\\s*$/)){\n\t\t\t\t\tvar doc = domBuilder.doc;\n\t    \t\t\tvar text = doc.createTextNode(source.substr(start));\n\t    \t\t\tdoc.appendChild(text);\n\t    \t\t\tdomBuilder.currentElement = text;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(tagStart>start){\n\t\t\t\tappendText(tagStart);\n\t\t\t}\n\t\t\tswitch(source.charAt(tagStart+1)){\n\t\t\tcase '/':\n\t\t\t\tvar end = source.indexOf('>',tagStart+3);\n\t\t\t\tvar tagName = source.substring(tagStart + 2, end).replace(/[ \\t\\n\\r]+$/g, '');\n\t\t\t\tvar config = parseStack.pop();\n\t\t\t\tif(end<0){\n\n\t        \t\ttagName = source.substring(tagStart+2).replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' is not complete:'+config.tagName);\n\t        \t\tend = tagStart+1+tagName.length;\n\t        \t}else if(tagName.match(/\\s</)){\n\t        \t\ttagName = tagName.replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' maybe not complete');\n\t        \t\tend = tagStart+1+tagName.length;\n\t\t\t\t}\n\t\t\t\tvar localNSMap = config.localNSMap;\n\t\t\t\tvar endMatch = config.tagName == tagName;\n\t\t\t\tvar endIgnoreCaseMach = endMatch || config.tagName&&config.tagName.toLowerCase() == tagName.toLowerCase()\n\t\t        if(endIgnoreCaseMach){\n\t\t        \tdomBuilder.endElement(config.uri,config.localName,tagName);\n\t\t\t\t\tif(localNSMap){\n\t\t\t\t\t\tfor(var prefix in localNSMap){\n\t\t\t\t\t\t\tdomBuilder.endPrefixMapping(prefix) ;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!endMatch){\n\t\t            \terrorHandler.fatalError(\"end tag name: \"+tagName+' is not match the current start tagName:'+config.tagName ); // No known test case\n\t\t\t\t\t}\n\t\t        }else{\n\t\t        \tparseStack.push(config)\n\t\t        }\n\n\t\t\t\tend++;\n\t\t\t\tbreak;\n\t\t\t\t// end elment\n\t\t\tcase '?':// <?...?>\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseInstruction(source,tagStart,domBuilder);\n\t\t\t\tbreak;\n\t\t\tcase '!':// <!doctype,<![CDATA,<!--\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseDCC(source,tagStart,domBuilder,errorHandler);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tvar el = new ElementAttributes();\n\t\t\t\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\t\t\t\t//elStartEnd\n\t\t\t\tvar end = parseElementStartPart(source,tagStart,el,currentNSMap,entityReplacer,errorHandler);\n\t\t\t\tvar len = el.length;\n\n\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\n\t\t\t\t\tel.closed = true;\n\t\t\t\t\tif(!entityMap.nbsp){\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(locator && len){\n\t\t\t\t\tvar locator2 = copyLocator(locator,{});\n\t\t\t\t\t//try{//attribute position fixed\n\t\t\t\t\tfor(var i = 0;i<len;i++){\n\t\t\t\t\t\tvar a = el[i];\n\t\t\t\t\t\tposition(a.offset);\n\t\t\t\t\t\ta.locator = copyLocator(locator,{});\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator2\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator;\n\t\t\t\t}else{\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (NAMESPACE.isHTML(el.uri) && !el.closed) {\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\n\t\t\t\t} else {\n\t\t\t\t\tend++;\n\t\t\t\t}\n\t\t\t}\n\t\t}catch(e){\n\t\t\tif (e instanceof ParseError) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\terrorHandler.error('element parse error: '+e)\n\t\t\tend = -1;\n\t\t}\n\t\tif(end>start){\n\t\t\tstart = end;\n\t\t}else{\n\t\t\t//TODO: \u8FD9\u91CC\u6709\u53EF\u80FDsax\u56DE\u9000\uFF0C\u6709\u4F4D\u7F6E\u9519\u8BEF\u98CE\u9669\n\t\t\tappendText(Math.max(tagStart,start)+1);\n\t\t}\n\t}\n}\nfunction copyLocator(f,t){\n\tt.lineNumber = f.lineNumber;\n\tt.columnNumber = f.columnNumber;\n\treturn t;\n}\n\n/**\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\n */\nfunction parseElementStartPart(source,start,el,currentNSMap,entityReplacer,errorHandler){\n\n\t/**\n\t * @param {string} qname\n\t * @param {string} value\n\t * @param {number} startIndex\n\t */\n\tfunction addAttribute(qname, value, startIndex) {\n\t\tif (el.attributeNames.hasOwnProperty(qname)) {\n\t\t\terrorHandler.fatalError('Attribute ' + qname + ' redefined')\n\t\t}\n\t\tel.addValue(\n\t\t\tqname,\n\t\t\t// @see https://www.w3.org/TR/xml/#AVNormalize\n\t\t\t// since the xmldom sax parser does not \"interpret\" DTD the following is not implemented:\n\t\t\t// - recursive replacement of (DTD) entity references\n\t\t\t// - trimming and collapsing multiple spaces into a single one for attributes that are not of type CDATA\n\t\t\tvalue.replace(/[\\t\\n\\r]/g, ' ').replace(/&#?\\w+;/g, entityReplacer),\n\t\t\tstartIndex\n\t\t)\n\t}\n\tvar attrName;\n\tvar value;\n\tvar p = ++start;\n\tvar s = S_TAG;//status\n\twhile(true){\n\t\tvar c = source.charAt(p);\n\t\tswitch(c){\n\t\tcase '=':\n\t\t\tif(s === S_ATTR){//attrName\n\t\t\t\tattrName = source.slice(start,p);\n\t\t\t\ts = S_EQ;\n\t\t\t}else if(s === S_ATTR_SPACE){\n\t\t\t\ts = S_EQ;\n\t\t\t}else{\n\t\t\t\t//fatalError: equal must after attrName or space after attrName\n\t\t\t\tthrow new Error('attribute equal must after attrName'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '\\'':\n\t\tcase '\"':\n\t\t\tif(s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\n\t\t\t\t){//equal\n\t\t\t\tif(s === S_ATTR){\n\t\t\t\t\terrorHandler.warning('attribute value must after \"=\"')\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t}\n\t\t\t\tstart = p+1;\n\t\t\t\tp = source.indexOf(c,start)\n\t\t\t\tif(p>0){\n\t\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\t\taddAttribute(attrName, value, start-1);\n\t\t\t\t\ts = S_ATTR_END;\n\t\t\t\t}else{\n\t\t\t\t\t//fatalError: no end quot match\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\n\t\t\t\t}\n\t\t\t}else if(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\taddAttribute(attrName, value, start);\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\n\t\t\t\tstart = p+1;\n\t\t\t\ts = S_ATTR_END\n\t\t\t}else{\n\t\t\t\t//fatalError: no equal before\n\t\t\t\tthrow new Error('attribute value must after \"=\"'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '/':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\ts =S_TAG_CLOSE;\n\t\t\t\tel.closed = true;\n\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\tcase S_ATTR:\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tbreak;\n\t\t\t//case S_EQ:\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\") // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase ''://end document\n\t\t\terrorHandler.error('unexpected end of input');\n\t\t\tif(s == S_TAG){\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\t}\n\t\t\treturn p;\n\t\tcase '>':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\tbreak;//normal\n\t\t\tcase S_ATTR_NOQUOT_VALUE://Compatible state\n\t\t\tcase S_ATTR:\n\t\t\t\tvalue = source.slice(start,p);\n\t\t\t\tif(value.slice(-1) === '/'){\n\t\t\t\t\tel.closed  = true;\n\t\t\t\t\tvalue = value.slice(0,-1)\n\t\t\t\t}\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tif(s === S_ATTR_SPACE){\n\t\t\t\t\tvalue = attrName;\n\t\t\t\t}\n\t\t\t\tif(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\t}else{\n\t\t\t\t\tif(!NAMESPACE.isHTML(currentNSMap['']) || !value.match(/^(?:disabled|checked|selected)$/i)){\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(value, value, start)\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase S_EQ:\n\t\t\t\tthrow new Error('attribute value missed!!');\n\t\t\t}\n//\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\n\t\t\treturn p;\n\t\t/*xml space '\\x20' | #x9 | #xD | #xA; */\n\t\tcase '\\u0080':\n\t\t\tc = ' ';\n\t\tdefault:\n\t\t\tif(c<= ' '){//space\n\t\t\t\tswitch(s){\n\t\t\t\tcase S_TAG:\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR:\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t\ts = S_ATTR_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\t\t\tvar value = source.slice(start, p);\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\t//case S_TAG_SPACE:\n\t\t\t\t//case S_EQ:\n\t\t\t\t//case S_ATTR_SPACE:\n\t\t\t\t//\tvoid();break;\n\t\t\t\t//case S_TAG_CLOSE:\n\t\t\t\t\t//ignore warning\n\t\t\t\t}\n\t\t\t}else{//not space\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n\t\t\t\tswitch(s){\n\t\t\t\t//case S_TAG:void();break;\n\t\t\t\t//case S_ATTR:void();break;\n\t\t\t\t//case S_ATTR_NOQUOT_VALUE:void();break;\n\t\t\t\tcase S_ATTR_SPACE:\n\t\t\t\t\tvar tagName =  el.tagName;\n\t\t\t\t\tif (!NAMESPACE.isHTML(currentNSMap['']) || !attrName.match(/^(?:disabled|checked|selected)$/i)) {\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead2!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(attrName, attrName, start);\n\t\t\t\t\tstart = p;\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\n\t\t\t\tcase S_TAG_SPACE:\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_EQ:\n\t\t\t\t\ts = S_ATTR_NOQUOT_VALUE;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_TAG_CLOSE:\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\n\t\t\t\t}\n\t\t\t}\n\t\t}//end outer switch\n\t\t//console.log('p++',p)\n\t\tp++;\n\t}\n}\n/**\n * @return true if has new namespace define\n */\nfunction appendElement(el,domBuilder,currentNSMap){\n\tvar tagName = el.tagName;\n\tvar localNSMap = null;\n\t//var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\tvar i = el.length;\n\twhile(i--){\n\t\tvar a = el[i];\n\t\tvar qName = a.qName;\n\t\tvar value = a.value;\n\t\tvar nsp = qName.indexOf(':');\n\t\tif(nsp>0){\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\n\t\t\tvar localName = qName.slice(nsp+1);\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\n\t\t}else{\n\t\t\tlocalName = qName;\n\t\t\tprefix = null\n\t\t\tnsPrefix = qName === 'xmlns' && ''\n\t\t}\n\t\t//can not set prefix,because prefix !== ''\n\t\ta.localName = localName ;\n\t\t//prefix == null for no ns prefix attribute\n\t\tif(nsPrefix !== false){//hack!!\n\t\t\tif(localNSMap == null){\n\t\t\t\tlocalNSMap = {}\n\t\t\t\t//console.log(currentNSMap,0)\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\n\t\t\t\t//console.log(currentNSMap,1)\n\t\t\t}\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n\t\t\ta.uri = NAMESPACE.XMLNS\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value)\n\t\t}\n\t}\n\tvar i = el.length;\n\twhile(i--){\n\t\ta = el[i];\n\t\tvar prefix = a.prefix;\n\t\tif(prefix){//no prefix attribute has no namespace\n\t\t\tif(prefix === 'xml'){\n\t\t\t\ta.uri = NAMESPACE.XML;\n\t\t\t}if(prefix !== 'xmlns'){\n\t\t\t\ta.uri = currentNSMap[prefix || '']\n\n\t\t\t\t//{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\n\t\t\t}\n\t\t}\n\t}\n\tvar nsp = tagName.indexOf(':');\n\tif(nsp>0){\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\n\t}else{\n\t\tprefix = null;//important!!\n\t\tlocalName = el.localName = tagName;\n\t}\n\t//no prefix element has default namespace\n\tvar ns = el.uri = currentNSMap[prefix || ''];\n\tdomBuilder.startElement(ns,localName,tagName,el);\n\t//endPrefixMapping and startPrefixMapping have not any help for dom builder\n\t//localNSMap = null\n\tif(el.closed){\n\t\tdomBuilder.endElement(ns,localName,tagName);\n\t\tif(localNSMap){\n\t\t\tfor(prefix in localNSMap){\n\t\t\t\tdomBuilder.endPrefixMapping(prefix)\n\t\t\t}\n\t\t}\n\t}else{\n\t\tel.currentNSMap = currentNSMap;\n\t\tel.localNSMap = localNSMap;\n\t\t//parseStack.push(el);\n\t\treturn true;\n\t}\n}\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\n\tif(/^(?:script|textarea)$/i.test(tagName)){\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\n\t\tif(/[&<]/.test(text)){\n\t\t\tif(/^script$/i.test(tagName)){\n\t\t\t\t//if(!/\\]\\]>/.test(text)){\n\t\t\t\t\t//lexHandler.startCDATA();\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\t\t//lexHandler.endCDATA();\n\t\t\t\t\treturn elEndStart;\n\t\t\t\t//}\n\t\t\t}//}else{//text area\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\treturn elEndStart;\n\t\t\t//}\n\n\t\t}\n\t}\n\treturn elStartEnd+1;\n}\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\n\t//if(tagName in closeMap){\n\tvar pos = closeMap[tagName];\n\tif(pos == null){\n\t\t//console.log(tagName)\n\t\tpos =  source.lastIndexOf('</'+tagName+'>')\n\t\tif(pos<elStartEnd){//\u5FD8\u8BB0\u95ED\u5408\n\t\t\tpos = source.lastIndexOf('</'+tagName)\n\t\t}\n\t\tcloseMap[tagName] =pos\n\t}\n\treturn pos<elStartEnd;\n\t//}\n}\nfunction _copy(source,target){\n\tfor(var n in source){target[n] = source[n]}\n}\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\n\tvar next= source.charAt(start+2)\n\tswitch(next){\n\tcase '-':\n\t\tif(source.charAt(start + 3) === '-'){\n\t\t\tvar end = source.indexOf('-->',start+4);\n\t\t\t//append comment source.substring(4,end)//<!--\n\t\t\tif(end>start){\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\n\t\t\t\treturn end+3;\n\t\t\t}else{\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}else{\n\t\t\t//error\n\t\t\treturn -1;\n\t\t}\n\tdefault:\n\t\tif(source.substr(start+3,6) == 'CDATA['){\n\t\t\tvar end = source.indexOf(']]>',start+9);\n\t\t\tdomBuilder.startCDATA();\n\t\t\tdomBuilder.characters(source,start+9,end-start-9);\n\t\t\tdomBuilder.endCDATA()\n\t\t\treturn end+3;\n\t\t}\n\t\t//<!DOCTYPE\n\t\t//startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId)\n\t\tvar matchs = split(source,start);\n\t\tvar len = matchs.length;\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\n\t\t\tvar name = matchs[1][0];\n\t\t\tvar pubid = false;\n\t\t\tvar sysid = false;\n\t\t\tif(len>3){\n\t\t\t\tif(/^public$/i.test(matchs[2][0])){\n\t\t\t\t\tpubid = matchs[3][0];\n\t\t\t\t\tsysid = len>4 && matchs[4][0];\n\t\t\t\t}else if(/^system$/i.test(matchs[2][0])){\n\t\t\t\t\tsysid = matchs[3][0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar lastMatch = matchs[len-1]\n\t\t\tdomBuilder.startDTD(name, pubid, sysid);\n\t\t\tdomBuilder.endDTD();\n\n\t\t\treturn lastMatch.index+lastMatch[0].length\n\t\t}\n\t}\n\treturn -1;\n}\n\n\n\nfunction parseInstruction(source,start,domBuilder){\n\tvar end = source.indexOf('?>',start);\n\tif(end){\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\t\tif(match){\n\t\t\tvar len = match[0].length;\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\n\t\t\treturn end+2;\n\t\t}else{//error\n\t\t\treturn -1;\n\t\t}\n\t}\n\treturn -1;\n}\n\nfunction ElementAttributes(){\n\tthis.attributeNames = {}\n}\nElementAttributes.prototype = {\n\tsetTagName:function(tagName){\n\t\tif(!tagNamePattern.test(tagName)){\n\t\t\tthrow new Error('invalid tagName:'+tagName)\n\t\t}\n\t\tthis.tagName = tagName\n\t},\n\taddValue:function(qName, value, offset) {\n\t\tif(!tagNamePattern.test(qName)){\n\t\t\tthrow new Error('invalid attribute:'+qName)\n\t\t}\n\t\tthis.attributeNames[qName] = this.length;\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\n\t},\n\tlength:0,\n\tgetLocalName:function(i){return this[i].localName},\n\tgetLocator:function(i){return this[i].locator},\n\tgetQName:function(i){return this[i].qName},\n\tgetURI:function(i){return this[i].uri},\n\tgetValue:function(i){return this[i].value}\n//\t,getIndex:function(uri, localName)){\n//\t\tif(localName){\n//\n//\t\t}else{\n//\t\t\tvar qName = uri\n//\t\t}\n//\t},\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\n//\tgetType:function(uri,localName){}\n//\tgetType:function(i){},\n}\n\n\n\nfunction split(source,start){\n\tvar match;\n\tvar buf = [];\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n\treg.lastIndex = start;\n\treg.exec(source);//skip <\n\twhile(match = reg.exec(source)){\n\t\tbuf.push(match);\n\t\tif(match[1])return buf;\n\t}\n}\n\nexports.XMLReader = XMLReader;\nexports.ParseError = ParseError;\n", "var conventions = require(\"./conventions\");\nvar dom = require('./dom')\nvar entities = require('./entities');\nvar sax = require('./sax');\n\nvar DOMImplementation = dom.DOMImplementation;\n\nvar NAMESPACE = conventions.NAMESPACE;\n\nvar ParseError = sax.ParseError;\nvar XMLReader = sax.XMLReader;\n\n/**\n * Normalizes line ending according to https://www.w3.org/TR/xml11/#sec-line-ends:\n *\n * > XML parsed entities are often stored in computer files which,\n * > for editing convenience, are organized into lines.\n * > These lines are typically separated by some combination\n * > of the characters CARRIAGE RETURN (#xD) and LINE FEED (#xA).\n * >\n * > To simplify the tasks of applications, the XML processor must behave\n * > as if it normalized all line breaks in external parsed entities (including the document entity)\n * > on input, before parsing, by translating all of the following to a single #xA character:\n * >\n * > 1. the two-character sequence #xD #xA\n * > 2. the two-character sequence #xD #x85\n * > 3. the single character #x85\n * > 4. the single character #x2028\n * > 5. any #xD character that is not immediately followed by #xA or #x85.\n *\n * @param {string} input\n * @returns {string}\n */\nfunction normalizeLineEndings(input) {\n\treturn input\n\t\t.replace(/\\r[\\n\\u0085]/g, '\\n')\n\t\t.replace(/[\\r\\u0085\\u2028]/g, '\\n')\n}\n\n/**\n * @typedef Locator\n * @property {number} [columnNumber]\n * @property {number} [lineNumber]\n */\n\n/**\n * @typedef DOMParserOptions\n * @property {DOMHandler} [domBuilder]\n * @property {Function} [errorHandler]\n * @property {(string) => string} [normalizeLineEndings] used to replace line endings before parsing\n * \t\t\t\t\t\tdefaults to `normalizeLineEndings`\n * @property {Locator} [locator]\n * @property {Record<string, string>} [xmlns]\n *\n * @see normalizeLineEndings\n */\n\n/**\n * The DOMParser interface provides the ability to parse XML or HTML source code\n * from a string into a DOM `Document`.\n *\n * _xmldom is different from the spec in that it allows an `options` parameter,\n * to override the default behavior._\n *\n * @param {DOMParserOptions} [options]\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-parsing-and-serialization\n */\nfunction DOMParser(options){\n\tthis.options = options ||{locator:{}};\n}\n\nDOMParser.prototype.parseFromString = function(source,mimeType){\n\tvar options = this.options;\n\tvar sax =  new XMLReader();\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\n\tvar errorHandler = options.errorHandler;\n\tvar locator = options.locator;\n\tvar defaultNSMap = options.xmlns||{};\n\tvar isHTML = /\\/x?html?$/.test(mimeType);//mimeType.toLowerCase().indexOf('html') > -1;\n  \tvar entityMap = isHTML ? entities.HTML_ENTITIES : entities.XML_ENTITIES;\n\tif(locator){\n\t\tdomBuilder.setDocumentLocator(locator)\n\t}\n\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\n\tsax.domBuilder = options.domBuilder || domBuilder;\n\tif(isHTML){\n\t\tdefaultNSMap[''] = NAMESPACE.HTML;\n\t}\n\tdefaultNSMap.xml = defaultNSMap.xml || NAMESPACE.XML;\n\tvar normalize = options.normalizeLineEndings || normalizeLineEndings;\n\tif (source && typeof source === 'string') {\n\t\tsax.parse(\n\t\t\tnormalize(source),\n\t\t\tdefaultNSMap,\n\t\t\tentityMap\n\t\t)\n\t} else {\n\t\tsax.errorHandler.error('invalid doc source')\n\t}\n\treturn domBuilder.doc;\n}\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\n\tif(!errorImpl){\n\t\tif(domBuilder instanceof DOMHandler){\n\t\t\treturn domBuilder;\n\t\t}\n\t\terrorImpl = domBuilder ;\n\t}\n\tvar errorHandler = {}\n\tvar isCallback = errorImpl instanceof Function;\n\tlocator = locator||{}\n\tfunction build(key){\n\t\tvar fn = errorImpl[key];\n\t\tif(!fn && isCallback){\n\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\n\t\t}\n\t\terrorHandler[key] = fn && function(msg){\n\t\t\tfn('[xmldom '+key+']\\t'+msg+_locator(locator));\n\t\t}||function(){};\n\t}\n\tbuild('warning');\n\tbuild('error');\n\tbuild('fatalError');\n\treturn errorHandler;\n}\n\n//console.log('#\\n\\n\\n\\n\\n\\n\\n####')\n/**\n * +ContentHandler+ErrorHandler\n * +LexicalHandler+EntityResolver2\n * -DeclHandler-DTDHandler\n *\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\n */\nfunction DOMHandler() {\n    this.cdata = false;\n}\nfunction position(locator,node){\n\tnode.lineNumber = locator.lineNumber;\n\tnode.columnNumber = locator.columnNumber;\n}\n/**\n * @see org.xml.sax.ContentHandler#startDocument\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\n */\nDOMHandler.prototype = {\n\tstartDocument : function() {\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null);\n    \tif (this.locator) {\n        \tthis.doc.documentURI = this.locator.systemId;\n    \t}\n\t},\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\n\t\tvar doc = this.doc;\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\n\t    var len = attrs.length;\n\t    appendElement(this, el);\n\t    this.currentElement = el;\n\n\t\tthis.locator && position(this.locator,el)\n\t    for (var i = 0 ; i < len; i++) {\n\t        var namespaceURI = attrs.getURI(i);\n\t        var value = attrs.getValue(i);\n\t        var qName = attrs.getQName(i);\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\n\t\t\tthis.locator &&position(attrs.getLocator(i),attr);\n\t\t\tattr.value = attr.nodeValue = value;\n\t\t\tel.setAttributeNode(attr)\n\t    }\n\t},\n\tendElement:function(namespaceURI, localName, qName) {\n\t\tvar current = this.currentElement\n\t\tvar tagName = current.tagName;\n\t\tthis.currentElement = current.parentNode;\n\t},\n\tstartPrefixMapping:function(prefix, uri) {\n\t},\n\tendPrefixMapping:function(prefix) {\n\t},\n\tprocessingInstruction:function(target, data) {\n\t    var ins = this.doc.createProcessingInstruction(target, data);\n\t    this.locator && position(this.locator,ins)\n\t    appendElement(this, ins);\n\t},\n\tignorableWhitespace:function(ch, start, length) {\n\t},\n\tcharacters:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t\t//console.log(chars)\n\t\tif(chars){\n\t\t\tif (this.cdata) {\n\t\t\t\tvar charNode = this.doc.createCDATASection(chars);\n\t\t\t} else {\n\t\t\t\tvar charNode = this.doc.createTextNode(chars);\n\t\t\t}\n\t\t\tif(this.currentElement){\n\t\t\t\tthis.currentElement.appendChild(charNode);\n\t\t\t}else if(/^\\s*$/.test(chars)){\n\t\t\t\tthis.doc.appendChild(charNode);\n\t\t\t\t//process xml\n\t\t\t}\n\t\t\tthis.locator && position(this.locator,charNode)\n\t\t}\n\t},\n\tskippedEntity:function(name) {\n\t},\n\tendDocument:function() {\n\t\tthis.doc.normalize();\n\t},\n\tsetDocumentLocator:function (locator) {\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\n\t    \tlocator.lineNumber = 0;\n\t    }\n\t},\n\t//LexicalHandler\n\tcomment:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t    var comm = this.doc.createComment(chars);\n\t    this.locator && position(this.locator,comm)\n\t    appendElement(this, comm);\n\t},\n\n\tstartCDATA:function() {\n\t    //used in characters() methods\n\t    this.cdata = true;\n\t},\n\tendCDATA:function() {\n\t    this.cdata = false;\n\t},\n\n\tstartDTD:function(name, publicId, systemId) {\n\t\tvar impl = this.doc.implementation;\n\t    if (impl && impl.createDocumentType) {\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\n\t        this.locator && position(this.locator,dt)\n\t        appendElement(this, dt);\n\t\t\t\t\tthis.doc.doctype = dt;\n\t    }\n\t},\n\t/**\n\t * @see org.xml.sax.ErrorHandler\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\n\t */\n\twarning:function(error) {\n\t\tconsole.warn('[xmldom warning]\\t'+error,_locator(this.locator));\n\t},\n\terror:function(error) {\n\t\tconsole.error('[xmldom error]\\t'+error,_locator(this.locator));\n\t},\n\tfatalError:function(error) {\n\t\tthrow new ParseError(error, this.locator);\n\t}\n}\nfunction _locator(l){\n\tif(l){\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\n\t}\n}\nfunction _toString(chars,start,length){\n\tif(typeof chars == 'string'){\n\t\treturn chars.substr(start,length)\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n\t\tif(chars.length >= start+length || start){\n\t\t\treturn new java.lang.String(chars,start,length)+'';\n\t\t}\n\t\treturn chars;\n\t}\n}\n\n/*\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\n * used method of org.xml.sax.ext.LexicalHandler:\n *  #comment(chars, start, length)\n *  #startCDATA()\n *  #endCDATA()\n *  #startDTD(name, publicId, systemId)\n *\n *\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\n *  #endDTD()\n *  #startEntity(name)\n *  #endEntity(name)\n *\n *\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\n * IGNORED method of org.xml.sax.ext.DeclHandler\n * \t#attributeDecl(eName, aName, type, mode, value)\n *  #elementDecl(name, model)\n *  #externalEntityDecl(name, publicId, systemId)\n *  #internalEntityDecl(name, value)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\n * IGNORED method of org.xml.sax.EntityResolver2\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\n *  #resolveEntity(publicId, systemId)\n *  #getExternalSubset(name, baseURI)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\n * IGNORED method of org.xml.sax.DTDHandler\n *  #notationDecl(name, publicId, systemId) {};\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\n */\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\n\tDOMHandler.prototype[key] = function(){return null}\n})\n\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\nfunction appendElement (hander,node) {\n    if (!hander.currentElement) {\n        hander.doc.appendChild(node);\n    } else {\n        hander.currentElement.appendChild(node);\n    }\n}//appendChild and setAttributeNS are preformance key\n\nexports.__DOMHandler = DOMHandler;\nexports.normalizeLineEndings = normalizeLineEndings;\nexports.DOMParser = DOMParser;\n", "var dom = require('./dom')\nexports.DOMImplementation = dom.DOMImplementation\nexports.XMLSerializer = dom.XMLSerializer\nexports.DOMParser = require('./dom-parser').DOMParser\n", "/* Copyright 2015 William Summers, MetaTribal LLC\n * adapted from https://developer.mozilla.org/en-US/docs/JXON\n *\n * Licensed under the MIT License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://opensource.org/licenses/MIT\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @author William Summers\n * https://github.com/metatribal/xmlToJSON\n */\nvar DOMParser = require('@xmldom/xmldom').DOMParser;\n\nvar xmlToJSON = (function () {\n\n    this.version = \"1.3.5\";\n\n    var options = { // set up the default options\n        mergeCDATA: true, // extract cdata and merge with text\n        normalize: true, // collapse multiple spaces to single space\n        stripElemPrefix: true, // for elements of same name in diff namespaces, you can enable namespaces and access the nskey property\n    };\n\n    var prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n    var trimMatch = new RegExp(/^\\s+|\\s+$/g);\n\n    this.grokType = function (sValue) {\n        if (/^\\s*$/.test(sValue)) {\n            return null;\n        }\n        if (/^(?:true|false)$/i.test(sValue)) {\n            return sValue.toLowerCase() === \"true\";\n        }\n        if (isFinite(sValue)) {\n            return parseFloat(sValue);\n        }\n        return sValue;\n    };\n\n    this.parseString = function (xmlString, opt) {\n        if (xmlString) {\n            var xml = this.stringToXML(xmlString);\n            if (xml.getElementsByTagName('parsererror').length) {\n                return null;\n            } else {\n                return this.parseXML(xml, opt);\n            }\n        } else {\n            return null;\n        }\n    };\n\n    this.parseXML = function (oXMLParent, opt) {\n\n        // initialize options\n        for (var key in opt) {\n            options[key] = opt[key];\n        }\n\n        var vResult = {},\n            nLength = 0,\n            sCollectedTxt = \"\";\n\n        // iterate over the children\n        var childNum = oXMLParent.childNodes.length;\n        if (childNum) {\n            for (var oNode, sProp, vContent, nItem = 0; nItem < oXMLParent.childNodes.length; nItem++) {\n                oNode = oXMLParent.childNodes.item(nItem);\n\n                if (oNode.nodeType === 4) {\n                    if (options.mergeCDATA) {\n                        sCollectedTxt += oNode.nodeValue;\n                    }\n                } /* nodeType is \"CDATASection\" (4) */\n                else if (oNode.nodeType === 3) {\n                    sCollectedTxt += oNode.nodeValue;\n                } /* nodeType is \"Text\" (3) */\n                else if (oNode.nodeType === 1) { /* nodeType is \"Element\" (1) */\n\n                    if (nLength === 0) {\n                        vResult = {};\n                    }\n\n                    // using nodeName to support browser (IE) implementation with no 'localName' property\n                    if (options.stripElemPrefix) {\n                        sProp = oNode.nodeName.replace(prefixMatch, '');\n                    } else {\n                        sProp = oNode.nodeName;\n                    }\n\n                    vContent = xmlToJSON.parseXML(oNode);\n\n                    if (vResult.hasOwnProperty(sProp)) {\n                        if (vResult[sProp].constructor !== Array) {\n                            vResult[sProp] = [vResult[sProp]];\n                        }\n                        vResult[sProp].push(vContent);\n\n                    } else {\n                        vResult[sProp] = vContent;\n                        nLength++;\n                    }\n                }\n            }\n        }\n\n        if (!Object.keys(vResult).length) {\n            // vResult = sCollectedTxt.replace(trimMatch, '') || ''; // by carsonxu \u4FEE\u590D getBucket\u8FD4\u56DE\u7684 Key \u662F \" /\" \u8FD9\u79CD\u573A\u666F\n            vResult = sCollectedTxt || '';\n        }\n\n        return vResult;\n    };\n\n    // Convert xmlDocument to a string\n    // Returns null on failure\n    this.xmlToString = function (xmlDoc) {\n        try {\n            var xmlString = xmlDoc.xml ? xmlDoc.xml : (new XMLSerializer()).serializeToString(xmlDoc);\n            return xmlString;\n        } catch (err) {\n            return null;\n        }\n    };\n\n    // Convert a string to XML Node Structure\n    // Returns null on failure\n    this.stringToXML = function (xmlString) {\n        try {\n            var xmlDoc = null;\n\n            if (window.DOMParser) {\n\n                var parser = new DOMParser();\n                xmlDoc = parser.parseFromString(xmlString, \"text/xml\");\n\n                return xmlDoc;\n            } else {\n                xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\n                xmlDoc.async = false;\n                xmlDoc.loadXML(xmlString);\n\n                return xmlDoc;\n            }\n        } catch (e) {\n            return null;\n        }\n    };\n\n    return this;\n\n}).call({});\n\nvar xml2json = function (xmlString) {\n    return xmlToJSON.parseString(xmlString);\n};\n\nmodule.exports = xml2json;\n", "//copyright Ryan Day 2010 <http://ryanday.org>, Joscha Feth 2013 <http://www.feth.com> [MIT Licensed]\n\nvar element_start_char =\n    \"a-zA-Z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u00FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FFF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\";\nvar element_non_start_char = \"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F\\u2040\";\nvar element_replace = new RegExp(\"^([^\" + element_start_char + \"])|^((x|X)(m|M)(l|L))|([^\" + element_start_char + element_non_start_char + \"])\", \"g\");\nvar not_safe_in_xml = /[^\\x09\\x0A\\x0D\\x20-\\xFF\\x85\\xA0-\\uD7FF\\uE000-\\uFDCF\\uFDE0-\\uFFFD]/gm;\n\nvar objKeys = function (obj) {\n    var l = [];\n    if (obj instanceof Object) {\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                l.push(k);\n            }\n        }\n    }\n    return l;\n};\nvar process_to_xml = function (node_data, options) {\n\n    var makeNode = function (name, content, attributes, level, hasSubNodes) {\n        var indent_value = options.indent !== undefined ? options.indent : \"\\t\";\n        var indent = options.prettyPrint ? '\\n' + new Array(level).join(indent_value) : '';\n        if (options.removeIllegalNameCharacters) {\n            name = name.replace(element_replace, '_');\n        }\n\n        var node = [indent, '<', name, (attributes || '')];\n        if (content && content.length > 0) {\n            node.push('>')\n            node.push(content);\n            hasSubNodes && node.push(indent);\n            node.push('</');\n            node.push(name);\n            node.push('>');\n        } else {\n            node.push('/>');\n        }\n        return node.join('');\n    };\n\n    return (function fn(node_data, node_descriptor, level) {\n        var type = typeof node_data;\n        if ((Array.isArray) ? Array.isArray(node_data) : node_data instanceof Array) {\n            type = 'array';\n        } else if (node_data instanceof Date) {\n            type = 'date';\n        }\n\n        switch (type) {\n            //if value is an array create child nodes from values\n            case 'array':\n                var ret = [];\n                node_data.map(function (v) {\n                    ret.push(fn(v, 1, level + 1));\n                    //entries that are values of an array are the only ones that can be special node descriptors\n                });\n                options.prettyPrint && ret.push('\\n');\n                return ret.join('');\n                break;\n\n            case 'date':\n                // cast dates to ISO 8601 date (soap likes it)\n                return node_data.toJSON ? node_data.toJSON() : node_data + '';\n                break;\n\n            case 'object':\n                var nodes = [];\n                for (var name in node_data) {\n                    if (node_data.hasOwnProperty(name)) {\n                        if (node_data[name] instanceof Array) {\n                            for (var j = 0; j < node_data[name].length; j++) {\n                                if (node_data[name].hasOwnProperty(j)) {\n                                    nodes.push(makeNode(name, fn(node_data[name][j], 0, level + 1), null, level + 1, objKeys(node_data[name][j]).length));\n                                }\n                            }\n                        } else {\n                            nodes.push(makeNode(name, fn(node_data[name], 0, level + 1), null, level + 1));\n                        }\n                    }\n                }\n                options.prettyPrint && nodes.length > 0 && nodes.push('\\n');\n                return nodes.join('');\n                break;\n\n            case 'function':\n                return node_data();\n                break;\n\n            default:\n                return options.escape ? esc(node_data) : '' + node_data;\n        }\n\n    }(node_data, 0, 0))\n};\n\n\nvar xml_header = function (standalone) {\n    var ret = ['<?xml version=\"1.0\" encoding=\"UTF-8\"'];\n\n    if (standalone) {\n        ret.push(' standalone=\"yes\"');\n    }\n    ret.push('?>');\n\n    return ret.join('');\n};\n\nfunction esc(str) {\n    return ('' + str).replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/'/g, '&apos;')\n        .replace(/\"/g, '&quot;')\n        .replace(not_safe_in_xml, '');\n}\n\nmodule.exports = function (obj, options) {\n    if (!options) {\n        options = {\n            xmlHeader: {\n                standalone: true\n            },\n            prettyPrint: true,\n            indent: \"  \",\n            escape: true,\n        };\n    }\n\n    if (typeof obj == 'string') {\n        try {\n            obj = JSON.parse(obj.toString());\n        } catch (e) {\n            return false;\n        }\n    }\n\n    var xmlheader = '';\n    var docType = '';\n    if (options) {\n        if (typeof options == 'object') {\n            // our config is an object\n\n            if (options.xmlHeader) {\n                // the user wants an xml header\n                xmlheader = xml_header(!!options.xmlHeader.standalone);\n            }\n\n            if (typeof options.docType != 'undefined') {\n                docType = '<!DOCTYPE ' + options.docType + '>'\n            }\n        } else {\n            // our config is a boolean value, so just add xml header\n            xmlheader = xml_header();\n        }\n    }\n    options = options || {}\n\n    var ret = [\n        xmlheader,\n        (options.prettyPrint && docType ? '\\n' : ''),\n        docType,\n        process_to_xml(obj, options)\n    ];\n    return ret.join('').replace(/\\n{2,}/g, '\\n').replace(/\\s+$/g, '');\n};", "'use strict';\n\nvar md5 = require('../lib/md5');\nvar CryptoJS = require('../lib/crypto');\nvar xml2json = require('../lib/xml2json');\nvar json2xml = require('../lib/json2xml');\n\nfunction camSafeUrlEncode(str) {\n    return encodeURIComponent(str)\n        .replace(/!/g, '%21')\n        .replace(/'/g, '%27')\n        .replace(/\\(/g, '%28')\n        .replace(/\\)/g, '%29')\n        .replace(/\\*/g, '%2A');\n}\n\nfunction getObjectKeys(obj, forKey) {\n    var list = [];\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            list.push(forKey ? camSafeUrlEncode(key).toLowerCase() : key);\n        }\n    }\n    return list.sort(function (a, b) {\n        a = a.toLowerCase();\n        b = b.toLowerCase();\n        return a === b ? 0 : (a > b ? 1 : -1);\n    });\n};\n\n/**\n * obj\u8F6C\u4E3Astring\n * @param  {Object}  obj                \u9700\u8981\u8F6C\u7684\u5BF9\u8C61\uFF0C\u5FC5\u987B\n * @param  {Boolean} lowerCaseKey       key\u662F\u5426\u8F6C\u4E3A\u5C0F\u5199\uFF0C\u9ED8\u8BA4false\uFF0C\u975E\u5FC5\u987B\n * @return {String}  data               \u8FD4\u56DE\u5B57\u7B26\u4E32\n */\nvar obj2str = function (obj, lowerCaseKey) {\n    var i, key, val;\n    var list = [];\n    var keyList = getObjectKeys(obj);\n    for (i = 0; i < keyList.length; i++) {\n        key = keyList[i];\n        val = (obj[key] === undefined || obj[key] === null) ? '' : ('' + obj[key]);\n        key = lowerCaseKey? camSafeUrlEncode(key).toLowerCase() : camSafeUrlEncode(key);\n        val = camSafeUrlEncode(val) || '';\n        list.push(key + '=' + val)\n    }\n    return list.join('&');\n};\n\n\n// \u53EF\u4EE5\u7B7E\u5165\u7B7E\u540D\u7684headers\nvar signHeaders = ['content-disposition', 'content-encoding', 'content-length', 'content-md5',\n    'expect', 'host', 'if-match', 'if-modified-since', 'if-none-match', 'if-unmodified-since',\n    'origin', 'range', 'response-cache-control', 'response-content-disposition', 'response-content-encoding',\n    'response-content-language', 'response-content-type', 'response-expires', 'transfer-encoding', 'versionid'];\n\nvar getSignHeaderObj = function (headers) {\n    var signHeaderObj = {};\n    for (var i in headers) {\n        var key = i.toLowerCase();\n        if (key.indexOf('x-cos-') > -1 || signHeaders.indexOf(key) > -1) {\n            signHeaderObj[i] = headers[i];\n        }\n    }\n    return signHeaderObj;\n}\n\n//\u6D4B\u8BD5\u7528\u7684key\u540E\u9762\u53EF\u4EE5\u53BB\u6389\nvar getAuth = function (opt) {\n    opt = opt || {};\n\n    var SecretId = opt.SecretId;\n    var SecretKey = opt.SecretKey;\n    var KeyTime = opt.KeyTime;\n    var method = (opt.method || opt.Method || 'get').toLowerCase();\n    var queryParams = clone(opt.Query || opt.params || {});\n    var headers = getSignHeaderObj(clone(opt.Headers || opt.headers || {}));\n\n    var Key = opt.Key || '';\n    var pathname;\n    if (opt.UseRawKey) {\n        pathname = opt.Pathname || opt.pathname || '/' + Key;\n    } else {\n        pathname = opt.Pathname || opt.pathname || Key;\n        pathname.indexOf('/') !== 0 && (pathname = '/' + pathname);\n    }\n\n    // ForceSignHost\u660E\u786E\u4F20\u5165false\u624D\u4E0D\u52A0\u5165host\u7B7E\u540D\n    var forceSignHost = opt.ForceSignHost === false ? false : true;\n\n    // \u5982\u679C\u6709\u4F20\u5165\u5B58\u50A8\u6876\u4E14\u9700\u8981\u5F3A\u5236\u7B7E\u540D\uFF0C\u90A3\u4E48\u7B7E\u540D\u9ED8\u8BA4\u52A0 Host \u53C2\u4E0E\u8BA1\u7B97\uFF0C\u907F\u514D\u8DE8\u6876\u8BBF\u95EE\n    if (!headers.Host && !headers.host && opt.Bucket && opt.Region && forceSignHost) headers.Host = opt.Bucket + '.cos.' + opt.Region + '.myqcloud.com';\n\n    if (!SecretId) throw new Error('missing param SecretId');\n    if (!SecretKey) throw new Error('missing param SecretKey');\n\n    // \u7B7E\u540D\u6709\u6548\u8D77\u6B62\u65F6\u95F4\n    var now = Math.round(getSkewTime(opt.SystemClockOffset) / 1000) - 1;\n    var exp = now;\n\n    var Expires = opt.Expires || opt.expires;\n    if (Expires === undefined) {\n        exp += 900; // \u7B7E\u540D\u8FC7\u671F\u65F6\u95F4\u4E3A\u5F53\u524D + 900s\n    } else {\n        exp += (Expires * 1) || 0;\n    }\n\n    // \u8981\u7528\u5230\u7684 Authorization \u53C2\u6570\u5217\u8868\n    var qSignAlgorithm = 'sha1';\n    var qAk = SecretId;\n    var qSignTime = KeyTime || now + ';' + exp;\n    var qKeyTime = KeyTime || now + ';' + exp;\n    var qHeaderList = getObjectKeys(headers, true).join(';').toLowerCase();\n    var qUrlParamList = getObjectKeys(queryParams, true).join(';').toLowerCase();\n\n    // \u7B7E\u540D\u7B97\u6CD5\u8BF4\u660E\u6587\u6863\uFF1Ahttps://www.qcloud.com/document/product/436/7778\n    // \u6B65\u9AA4\u4E00\uFF1A\u8BA1\u7B97 SignKey\n    var signKey = CryptoJS.HmacSHA1(qKeyTime, SecretKey).toString();\n\n    // \u6B65\u9AA4\u4E8C\uFF1A\u6784\u6210 FormatString\n    var formatString = [method, pathname, util.obj2str(queryParams, true), util.obj2str(headers, true), ''].join('\\n');\n\n    // \u6B65\u9AA4\u4E09\uFF1A\u8BA1\u7B97 StringToSign\n    var stringToSign = ['sha1', qSignTime, CryptoJS.SHA1(formatString).toString(), ''].join('\\n');\n\n    // \u6B65\u9AA4\u56DB\uFF1A\u8BA1\u7B97 Signature\n    var qSignature = CryptoJS.HmacSHA1(stringToSign, signKey).toString();\n\n    // \u6B65\u9AA4\u4E94\uFF1A\u6784\u9020 Authorization\n    var authorization = [\n        'q-sign-algorithm=' + qSignAlgorithm,\n        'q-ak=' + qAk,\n        'q-sign-time=' + qSignTime,\n        'q-key-time=' + qKeyTime,\n        'q-header-list=' + qHeaderList,\n        'q-url-param-list=' + qUrlParamList,\n        'q-signature=' + qSignature\n    ].join('&');\n\n    return authorization;\n\n};\n\nvar readIntBE = function (chunk, size, offset) {\n    var bytes = size / 8;\n    var buf = chunk.slice(offset, offset + bytes);\n    new Uint8Array(buf).reverse();\n    return new ({8: Uint8Array, 16: Uint16Array, 32: Uint32Array})[size](buf)[0];\n};\nvar buf2str = function (chunk, start, end, isUtf8) {\n    var buf = chunk.slice(start, end);\n    var str = '';\n    new Uint8Array(buf).forEach(function (charCode) {\n        str += String.fromCharCode(charCode)\n    });\n    if (isUtf8) str = decodeURIComponent(escape(str));\n    return str;\n};\nvar parseSelectPayload = function (chunk) {\n    var header = {};\n    var body = buf2str(chunk);\n    var result = {records:[]};\n    while (chunk.byteLength) {\n        var totalLength = readIntBE(chunk, 32, 0);\n        var headerLength = readIntBE(chunk, 32, 4);\n        var payloadRestLength = totalLength - headerLength - 16;\n        var offset = 0;\n        var content;\n        chunk = chunk.slice(12);\n        // \u83B7\u53D6 Message \u7684 header \u4FE1\u606F\n        while (offset < headerLength) {\n            var headerNameLength = readIntBE(chunk, 8, offset);\n            var headerName = buf2str(chunk, offset + 1, offset + 1 + headerNameLength);\n            var headerValueLength = readIntBE(chunk, 16, offset + headerNameLength + 2);\n            var headerValue = buf2str(chunk, offset + headerNameLength + 4, offset + headerNameLength + 4 + headerValueLength);\n            header[headerName] = headerValue;\n            offset += headerNameLength + 4 + headerValueLength;\n        }\n        if (header[':event-type'] === 'Records') {\n            content = buf2str(chunk, offset, offset + payloadRestLength, true);\n            result.records.push(content);\n        } else if (header[':event-type'] === 'Stats') {\n            content = buf2str(chunk, offset, offset + payloadRestLength, true);\n            result.stats = util.xml2json(content).Stats;\n        } else if (header[':event-type'] === 'error') {\n            var errCode = header[':error-code'];\n            var errMessage = header[':error-message'];\n            var err = new Error(errMessage);\n            err.message = errMessage;\n            err.name = err.code = errCode;\n            result.error = err;\n        } else if (['Progress', 'Continuation', 'End'].includes(header[':event-type'])) {\n            // do nothing\n        }\n        chunk = chunk.slice(offset + payloadRestLength + 4);\n    }\n    return {\n        payload: result.records.join(''),\n        body: body,\n    };\n};\n\nvar getSourceParams = function (source) {\n    var parser = this.options.CopySourceParser;\n    if (parser) return parser(source);\n    var m = source.match(/^([^.]+-\\d+)\\.cos(v6|-cdc)?\\.([^.]+)\\.myqcloud\\.com\\/(.+)$/);\n    if (!m) return null;\n    return { Bucket: m[1], Region: m[3], Key: m[4] };\n};\n\nvar noop = function () {\n\n};\n\n// \u6E05\u9664\u5BF9\u8C61\u91CC\u503C\u4E3A\u7684 undefined \u6216 null \u7684\u5C5E\u6027\nvar clearKey = function (obj) {\n    var retObj = {};\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key) && obj[key] !== undefined && obj[key] !== null) {\n            retObj[key] = obj[key];\n        }\n    }\n    return retObj;\n};\n\nvar readAsBinaryString = function (blob, callback) {\n    var readFun;\n    var fr = new FileReader();\n    if (FileReader.prototype.readAsBinaryString) {\n        readFun = FileReader.prototype.readAsBinaryString;\n        fr.onload = function () {\n            callback(this.result);\n        };\n    } else if (FileReader.prototype.readAsArrayBuffer) { // \u5728 ie11 \u6DFB\u52A0 readAsBinaryString \u517C\u5BB9\n        readFun = function (fileData) {\n            var binary = \"\";\n            var pt = this;\n            var reader = new FileReader();\n            reader.onload = function (e) {\n                var bytes = new Uint8Array(reader.result);\n                var length = bytes.byteLength;\n                for (var i = 0; i < length; i++) {\n                    binary += String.fromCharCode(bytes[i]);\n                }\n                callback(binary);\n            };\n            reader.readAsArrayBuffer(fileData);\n        };\n    } else {\n        console.error('FileReader not support readAsBinaryString');\n    }\n    readFun.call(fr, blob);\n};\n\nvar fileSliceNeedCopy = (function () {\n    var compareVersion = function(a, b) {\n        a = a.split('.');\n        b = b.split('.');\n        for (var i = 0; i < b.length; i++) {\n            if (a[i] !== b[i]) {\n                return parseInt(a[i]) > parseInt(b[i]) ? 1 : -1;\n            }\n        }\n        return 0;\n    };\n    var check = function (ua) {\n        if (!ua) return false;\n        var ChromeVersion = (ua.match(/Chrome\\/([.\\d]+)/) || [])[1];\n        var QBCoreVersion = (ua.match(/QBCore\\/([.\\d]+)/) || [])[1];\n        var QQBrowserVersion = (ua.match(/QQBrowser\\/([.\\d]+)/) || [])[1];\n        var need = ChromeVersion && compareVersion(ChromeVersion, '53.0.2785.116') < 0\n            && QBCoreVersion && compareVersion(QBCoreVersion, '3.53.991.400') < 0\n            && QQBrowserVersion && compareVersion(QQBrowserVersion, '9.0.2524.400') <= 0 || false;\n        return need;\n    };\n    return check(typeof navigator !== 'undefined' && navigator.userAgent);\n})();\n\n// \u83B7\u53D6\u6587\u4EF6\u5206\u7247\nvar fileSlice = function (file, start, end, isUseToUpload, callback) {\n    var blob;\n    if (file.slice) {\n        blob = file.slice(start, end);\n    } else if (file.mozSlice) {\n        blob = file.mozSlice(start, end);\n    } else if (file.webkitSlice) {\n        blob = file.webkitSlice(start, end);\n    }\n    if (isUseToUpload && fileSliceNeedCopy) {\n        var reader = new FileReader();\n        reader.onload = function (e) {\n            blob = null;\n            callback(new Blob([reader.result]));\n        };\n        reader.readAsArrayBuffer(blob);\n    } else {\n        callback(blob);\n    }\n};\n\n// \u83B7\u53D6\u6587\u4EF6\u5185\u5BB9\u7684 MD5\nvar getBodyMd5 = function (UploadCheckContentMd5, Body, callback, onProgress) {\n    callback = callback || noop;\n    if (UploadCheckContentMd5) {\n        if (typeof Body === 'string') {\n            callback(util.md5(Body, true));\n        } else if (Blob && Body instanceof Blob) {\n            util.getFileMd5(Body, function (err, md5) {\n                callback(md5);\n            }, onProgress);\n        } else {\n            callback();\n        }\n    } else {\n        callback();\n    }\n};\n\n// \u83B7\u53D6\u6587\u4EF6 md5 \u503C\nvar md5ChunkSize = 1024 * 1024;\nvar getFileMd5 = function (blob, callback, onProgress) {\n    var size = blob.size;\n    var loaded = 0;\n    var md5ctx = md5.getCtx();\n    var next = function (start) {\n        if (start >= size) {\n            var hash = md5ctx.digest('hex');\n            callback(null, hash);\n            return;\n        }\n        var end = Math.min(size, start + md5ChunkSize);\n        util.fileSlice(blob, start, end, false, function (chunk) {\n            readAsBinaryString(chunk, function (content) {\n                chunk = null;\n                md5ctx = md5ctx.update(content, true);\n                loaded += content.length;\n                content = null;\n                if (onProgress) onProgress({loaded: loaded, total: size, percent: Math.round(loaded / size * 10000) / 10000});\n                next(start + md5ChunkSize);\n            });\n        });\n    };\n    next(0);\n};\n\nfunction clone(obj) {\n    return map(obj, function (v) {\n        return typeof v === 'object' && v !== null ? clone(v) : v;\n    });\n}\n\nfunction attr(obj, name, defaultValue) {\n    return obj && name in obj ? obj[name] : defaultValue;\n}\n\nfunction extend(target, source) {\n    each(source, function (val, key) {\n        target[key] = source[key];\n    });\n    return target;\n}\n\nfunction isArray(arr) {\n    return arr instanceof Array;\n}\n\nfunction isInArray(arr, item) {\n    var flag = false;\n    for (var i = 0; i < arr.length; i++) {\n        if (item === arr[i]) {\n            flag = true;\n            break;\n        }\n    }\n    return flag;\n}\n\nfunction makeArray(arr) {\n    return isArray(arr) ? arr : [arr];\n}\n\nfunction each(obj, fn) {\n    for (var i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            fn(obj[i], i);\n        }\n    }\n}\n\nfunction map(obj, fn) {\n    var o = isArray(obj) ? [] : {};\n    for (var i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            o[i] = fn(obj[i], i);\n        }\n    }\n    return o;\n}\n\nfunction filter(obj, fn) {\n    var iaArr = isArray(obj);\n    var o = iaArr ? [] : {};\n    for (var i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (fn(obj[i], i)) {\n                if (iaArr) {\n                    o.push(obj[i]);\n                } else {\n                    o[i] = obj[i];\n                }\n            }\n        }\n    }\n    return o;\n}\n\nvar binaryBase64 = function (str) {\n    var i, len, char, res = '';\n    for (i = 0, len = str.length / 2; i < len; i++) {\n        char = parseInt(str[i * 2] + str[i * 2 + 1], 16);\n        res += String.fromCharCode(char);\n    }\n    return btoa(res);\n};\nvar uuid = function () {\n    var S4 = function () {\n        return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n    };\n    return (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\n};\n\nvar hasMissingParams = function (apiName, params) {\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var Domain = this.options.Domain;\n    var checkBucket = !Domain || typeof Domain === 'string' && Domain.indexOf('{Bucket}') > -1;\n    var checkRegion = !Domain || typeof Domain === 'string' && Domain.indexOf('{Region}') > -1;\n    if (apiName.indexOf('Bucket') > -1 || apiName === 'deleteMultipleObject' || apiName === 'multipartList' || apiName === 'listObjectVersions') {\n        if (checkBucket && !Bucket) return 'Bucket';\n        if (checkRegion && !Region) return 'Region';\n    } else if (apiName.indexOf('Object') > -1 || apiName.indexOf('multipart') > -1 || apiName === 'sliceUploadFile' || apiName === 'abortUploadTask') {\n        if (checkBucket && !Bucket) return 'Bucket';\n        if (checkRegion && !Region) return 'Region';\n        if (!Key) return 'Key';\n    }\n    return false;\n};\n\nvar formatParams = function (apiName, params) {\n\n    // \u590D\u5236\u53C2\u6570\u5BF9\u8C61\n    params = extend({}, params);\n\n    // \u7EDF\u4E00\u5904\u7406 Headers\n    if (apiName !== 'getAuth' && apiName !== 'getV4Auth' && apiName !== 'getObjectUrl') {\n        var Headers = params.Headers || {};\n        if (params && typeof params === 'object') {\n            (function () {\n                for (var key in params) {\n                    if (params.hasOwnProperty(key) && key.indexOf('x-cos-') > -1) {\n                        Headers[key] = params[key];\n                    }\n                }\n            })();\n\n            var headerMap = {\n                // params headers\n                'x-cos-mfa': 'MFA',\n                'Content-MD5': 'ContentMD5',\n                'Content-Length': 'ContentLength',\n                'Content-Type': 'ContentType',\n                'Expect': 'Expect',\n                'Expires': 'Expires',\n                'Cache-Control': 'CacheControl',\n                'Content-Disposition': 'ContentDisposition',\n                'Content-Encoding': 'ContentEncoding',\n                'Range': 'Range',\n                'If-Modified-Since': 'IfModifiedSince',\n                'If-Unmodified-Since': 'IfUnmodifiedSince',\n                'If-Match': 'IfMatch',\n                'If-None-Match': 'IfNoneMatch',\n                'x-cos-copy-source': 'CopySource',\n                'x-cos-copy-source-Range': 'CopySourceRange',\n                'x-cos-metadata-directive': 'MetadataDirective',\n                'x-cos-copy-source-If-Modified-Since': 'CopySourceIfModifiedSince',\n                'x-cos-copy-source-If-Unmodified-Since': 'CopySourceIfUnmodifiedSince',\n                'x-cos-copy-source-If-Match': 'CopySourceIfMatch',\n                'x-cos-copy-source-If-None-Match': 'CopySourceIfNoneMatch',\n                'x-cos-acl': 'ACL',\n                'x-cos-grant-read': 'GrantRead',\n                'x-cos-grant-write': 'GrantWrite',\n                'x-cos-grant-full-control': 'GrantFullControl',\n                'x-cos-grant-read-acp': 'GrantReadAcp',\n                'x-cos-grant-write-acp': 'GrantWriteAcp',\n                'x-cos-storage-class': 'StorageClass',\n                'x-cos-traffic-limit': 'TrafficLimit',\n                'x-cos-mime-limit': 'MimeLimit',\n                // SSE-C\n                'x-cos-server-side-encryption-customer-algorithm': 'SSECustomerAlgorithm',\n                'x-cos-server-side-encryption-customer-key': 'SSECustomerKey',\n                'x-cos-server-side-encryption-customer-key-MD5': 'SSECustomerKeyMD5',\n                // SSE-COS\u3001SSE-KMS\n                'x-cos-server-side-encryption': 'ServerSideEncryption',\n                'x-cos-server-side-encryption-cos-kms-key-id': 'SSEKMSKeyId',\n                'x-cos-server-side-encryption-context': 'SSEContext',\n            };\n            util.each(headerMap, function (paramKey, headerKey) {\n                if (params[paramKey] !== undefined) {\n                    Headers[headerKey] = params[paramKey];\n                }\n            });\n\n            params.Headers = clearKey(Headers);\n        }\n    }\n\n    return params;\n};\n\nvar apiWrapper = function (apiName, apiFn) {\n    return function (params, callback) {\n\n        var self = this;\n\n        // \u5904\u7406\u53C2\u6570\n        if (typeof params === 'function') {\n            callback = params;\n            params = {};\n        }\n\n        // \u6574\u7406\u53C2\u6570\u683C\u5F0F\n        params = formatParams(apiName, params);\n\n        // \u4EE3\u7406\u56DE\u8C03\u51FD\u6570\n        var formatResult = function (result) {\n            if (result && result.headers) {\n                result.headers['x-cos-request-id'] && (result.RequestId = result.headers['x-cos-request-id']);\n                result.headers['x-ci-request-id'] && (result.RequestId = result.headers['x-ci-request-id']);\n                result.headers['x-cos-version-id'] && (result.VersionId = result.headers['x-cos-version-id']);\n                result.headers['x-cos-delete-marker'] && (result.DeleteMarker = result.headers['x-cos-delete-marker']);\n            }\n            return result;\n        };\n        var _callback = function (err, data) {\n            callback && callback(formatResult(err), formatResult(data));\n        };\n\n        var checkParams = function () {\n            if (apiName !== 'getService' && apiName !== 'abortUploadTask') {\n                // \u5224\u65AD\u53C2\u6570\u662F\u5426\u5B8C\u6574\n                var missingResult = hasMissingParams.call(self, apiName, params)\n                if (missingResult) {\n                    return 'missing param ' + missingResult;\n                }\n                // \u5224\u65AD region \u683C\u5F0F\n                if (params.Region) {\n                    if (self.options.CompatibilityMode) {\n                        if (!/^([a-z\\d-.]+)$/.test(params.Region)) {\n                            return 'Region format error.';\n                        }\n                    } else {\n                        if (params.Region.indexOf('cos.') > -1) {\n                            return 'param Region should not be start with \"cos.\"';\n                        } else if (!/^([a-z\\d-]+)$/.test(params.Region)) {\n                            return 'Region format error.';\n                        }\n                    }\n                    // \u5224\u65AD region \u683C\u5F0F\n                    if (!self.options.CompatibilityMode\n                        && params.Region.indexOf('-') === -1\n                        && params.Region !== 'yfb'\n                        && params.Region !== 'default'\n                        && params.Region !== 'accelerate' ) {\n                        console.warn('warning: param Region format error, find help here: https://cloud.tencent.com/document/product/436/6224');\n                    }\n                }\n                // \u517C\u5BB9\u4E0D\u5E26 AppId \u7684 Bucket\n                if (params.Bucket) {\n                    if (!/^([a-z\\d-]+)-(\\d+)$/.test(params.Bucket)) {\n                        if (params.AppId) {\n                            params.Bucket = params.Bucket + '-' + params.AppId;\n                        } else if (self.options.AppId) {\n                            params.Bucket = params.Bucket + '-' + self.options.AppId;\n                        } else {\n                            return 'Bucket should format as \"test-1250000000\".';\n                        }\n                    }\n                    if (params.AppId) {\n                        console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g Bucket:\"test-1250000000\" ).');\n                        delete params.AppId;\n                    }\n                }\n                // \u5982\u679C Key \u662F / \u5F00\u5934\uFF0C\u5F3A\u5236\u53BB\u6389\u7B2C\u4E00\u4E2A /\n                if (!self.options.UseRawKey && params.Key && params.Key.substr(0, 1) === '/') {\n                    params.Key = params.Key.substr(1);\n                }\n            }\n        };\n\n        var errMsg = checkParams();\n        var isSync = apiName === 'getAuth' || apiName === 'getObjectUrl';\n        if (typeof Promise === 'function' && !isSync && !callback) {\n            return new Promise(function (resolve, reject) {\n                callback = function (err, data) {\n                    err ? reject(err) : resolve(data);\n                };\n                if (errMsg) return _callback(util.error(new Error(errMsg)));\n                apiFn.call(self, params, _callback);\n            });\n        } else {\n            if (errMsg) return _callback(util.error(new Error(errMsg)));\n            var res = apiFn.call(self, params, _callback);\n            if (isSync) return res;\n        }\n    }\n};\n\nvar throttleOnProgress = function (total, onProgress) {\n    var self = this;\n    var size0 = 0;\n    var size1 = 0;\n    var time0 = Date.now();\n    var time1;\n    var timer;\n\n    function update() {\n        timer = 0;\n        if (onProgress && (typeof onProgress === 'function')) {\n            time1 = Date.now();\n            var speed = Math.max(0, Math.round((size1 - size0) / ((time1 - time0) / 1000) * 100) / 100) || 0;\n            var percent;\n            if (size1 === 0 && total === 0) {\n                percent = 1;\n            } else {\n                percent = Math.floor(size1 / total * 100) / 100 || 0;\n            }\n            time0 = time1;\n            size0 = size1;\n            try {\n                onProgress({loaded: size1, total: total, speed: speed, percent: percent});\n            } catch (e) {\n            }\n        }\n    }\n\n    return function (info, immediately) {\n        if (info) {\n            size1 = info.loaded;\n            total = info.total;\n        }\n        if (immediately) {\n            clearTimeout(timer);\n            update();\n        } else {\n            if (timer) return;\n            timer = setTimeout(update, self.options.ProgressInterval);\n        }\n    };\n};\n\nvar getFileSize = function (api, params, callback) {\n    var size;\n    if (typeof params.Body === 'string') {\n        params.Body = new Blob([params.Body], {type: 'text/plain'});\n    } else if (params.Body instanceof ArrayBuffer) {\n        params.Body = new Blob([params.Body]);\n    }\n    if ((params.Body && (params.Body instanceof Blob || params.Body.toString() === '[object File]' || params.Body.toString() === '[object Blob]'))) {\n        size = params.Body.size;\n    } else {\n        callback(util.error(new Error('params body format error, Only allow File|Blob|String.')));\n        return;\n    }\n    params.ContentLength = size;\n    callback(null, size);\n};\n\n// \u83B7\u53D6\u8C03\u6B63\u7684\u65F6\u95F4\u6233\nvar getSkewTime = function (offset) {\n    return Date.now() + (offset || 0);\n};\n\n\nvar error = function (err, opt) {\n    var sourceErr = err;\n    err.message = err.message || null;\n\n    if (typeof opt === 'string') {\n        err.error = opt;\n        err.message = opt;\n    } else if (typeof opt === 'object' && opt !== null) {\n        extend(err, opt);\n        if (opt.code || opt.name) err.code = opt.code || opt.name;\n        if (opt.message) err.message = opt.message;\n        if (opt.stack) err.stack = opt.stack;\n    }\n\n    if (typeof Object.defineProperty === 'function') {\n        Object.defineProperty(err, 'name', {writable: true, enumerable: false});\n        Object.defineProperty(err, 'message', {enumerable: true});\n    }\n\n    err.name = opt && opt.name || err.name || err.code || 'Error';\n    if (!err.code) err.code = err.name;\n    if (!err.error) err.error = clone(sourceErr); // \u517C\u5BB9\u8001\u7684\u9519\u8BEF\u683C\u5F0F\n\n    return err;\n}\n\nvar isWebWorker = function () {\n    // \u6709\u9650\u5224\u65AD worker \u73AF\u5883\u7684 constructor name \u5176\u6B21\u7528 worker \u72EC\u6709\u7684 FileReaderSync \u515C\u5E95 \u8BE6\u7EC6\u53C2\u8003 https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Workers_API/Using_web_workers\n    return typeof globalThis === 'object' && (globalThis.constructor.name === 'DedicatedWorkerGlobalScope' || globalThis.FileReaderSync);\n}\n\nvar isNode = function () {\n    // \u5F97\u515C\u5E95 web worker \u73AF\u5883\u4E2D webpack \u7528\u4E86 process \u63D2\u4EF6\u4E4B\u7C7B\u7684\u60C5\u51B5\n    return typeof window !== 'object' && typeof process === 'object' && typeof require === 'function' && !isWebWorker();\n}\n\n\n\nvar isCIHost = function(url) {\n    return /^https?:\\/\\/([^/]+\\.)?ci\\.[^/]+/.test(url);\n}\n\nvar util = {\n    noop: noop,\n    formatParams: formatParams,\n    apiWrapper: apiWrapper,\n    xml2json: xml2json,\n    json2xml: json2xml,\n    md5: md5,\n    clearKey: clearKey,\n    fileSlice: fileSlice,\n    getBodyMd5: getBodyMd5,\n    getFileMd5: getFileMd5,\n    binaryBase64: binaryBase64,\n    extend: extend,\n    isArray: isArray,\n    isInArray: isInArray,\n    makeArray: makeArray,\n    each: each,\n    map: map,\n    filter: filter,\n    clone: clone,\n    attr: attr,\n    uuid: uuid,\n    camSafeUrlEncode: camSafeUrlEncode,\n    throttleOnProgress: throttleOnProgress,\n    getFileSize: getFileSize,\n    getSkewTime: getSkewTime,\n    error: error,\n    obj2str: obj2str,\n    getAuth: getAuth,\n    parseSelectPayload: parseSelectPayload,\n    getSourceParams: getSourceParams,\n    isBrowser: true,\n    isNode: isNode,\n    isCIHost: isCIHost,\n};\n\nmodule.exports = util;\n", "var initEvent = function (cos) {\n    var listeners = {};\n    var getList = function (action) {\n        !listeners[action] && (listeners[action] = []);\n        return listeners[action];\n    };\n    cos.on = function (action, callback) {\n        if (action === 'task-list-update') {\n            console.warn('warning: Event \"' + action + '\" has been deprecated. Please use \"list-update\" instead.');\n        }\n        getList(action).push(callback);\n    };\n    cos.off = function (action, callback) {\n        var list = getList(action);\n        for (var i = list.length - 1; i >= 0; i--) {\n            callback === list[i] && list.splice(i, 1);\n        }\n    };\n    cos.emit = function (action, data) {\n        var list = getList(action).map(function (cb) {\n            return cb;\n        });\n        for (var i = 0; i < list.length; i++) {\n            list[i](data);\n        }\n    };\n};\n\nvar EventProxy = function () {\n    initEvent(this);\n};\n\nmodule.exports.init = initEvent;\nmodule.exports.EventProxy = EventProxy;", "var util = require('./util');\n\n// \u6309\u7167\u6587\u4EF6\u7279\u5F81\u503C\uFF0C\u7F13\u5B58 UploadId\nvar cacheKey = 'cos_sdk_upload_cache';\nvar expires = 30 * 24 * 3600;\nvar cache;\nvar timer;\n\nvar getCache = function () {\n    try {\n        var val = JSON.parse(localStorage.getItem(cacheKey));\n    } catch (e) {\n    }\n    if (!val) val = [];\n    cache = val;\n};\nvar setCache = function () {\n    try {\n        localStorage.setItem(cacheKey, JSON.stringify(cache))\n    } catch (e) {\n    }\n};\n\nvar init = function () {\n    if (cache) return;\n    getCache.call(this);\n    // \u6E05\u7406\u592A\u8001\u65E7\u7684\u6570\u636E\n    var changed = false;\n    var now = Math.round(Date.now() / 1000);\n    for (var i = cache.length - 1; i >= 0; i--) {\n        var mtime = cache[i][2];\n        if (!mtime || mtime + expires < now) {\n            cache.splice(i, 1);\n            changed = true;\n        }\n    }\n    changed && setCache();\n};\n\n// \u628A\u7F13\u5B58\u5B58\u5230\u672C\u5730\nvar save = function () {\n    if (timer) return;\n    timer = setTimeout(function () {\n        setCache();\n        timer = null;\n    }, 400);\n};\n\nvar mod = {\n    using: {},\n    // \u6807\u8BB0 UploadId \u6B63\u5728\u4F7F\u7528\n    setUsing: function (uuid) {\n        mod.using[uuid] = true;\n    },\n    // \u6807\u8BB0 UploadId \u5DF2\u7ECF\u6CA1\u5728\u4F7F\u7528\n    removeUsing: function (uuid) {\n        delete mod.using[uuid];\n    },\n    // \u7528\u4E0A\u4F20\u53C2\u6570\u751F\u6210\u54C8\u5E0C\u503C\n    getFileId: function (file, ChunkSize, Bucket, Key) {\n        if (file.name && file.size && file.lastModifiedDate && ChunkSize) {\n            return util.md5([file.name, file.size, file.lastModifiedDate, ChunkSize, Bucket, Key].join('::'));\n        } else {\n            return null;\n        }\n    },\n    // \u83B7\u53D6\u6587\u4EF6\u5BF9\u5E94\u7684 UploadId \u5217\u8868\n    getUploadIdList: function (uuid) {\n        if (!uuid) return null;\n        init.call(this);\n        var list = [];\n        for (var i = 0; i < cache.length; i++) {\n            if (cache[i][0] === uuid)\n                list.push(cache[i][1]);\n        }\n        return list.length ? list : null;\n    },\n    // \u7F13\u5B58 UploadId\n    saveUploadId: function (uuid, UploadId, limit) {\n        init.call(this);\n        if (!uuid) return;\n        // \u6E05\u7406\u6CA1\u7528\u7684 UploadId\uFF0Cjs \u6587\u4EF6\u6CA1\u6709 FilePath \uFF0C\u53EA\u6E05\u7406\u76F8\u540C\u8BB0\u5F55\n        for (var i = cache.length - 1; i >= 0; i--) {\n            var item = cache[i];\n            if (item[0] === uuid && item[1] === UploadId) {\n                cache.splice(i, 1);\n            }\n        }\n        cache.unshift([uuid, UploadId, Math.round(Date.now() / 1000)]);\n        if (cache.length > limit) cache.splice(limit);\n        save();\n    },\n    // UploadId \u5DF2\u7528\u5B8C\uFF0C\u79FB\u9664\u6389\n    removeUploadId: function (UploadId) {\n        init.call(this);\n        delete mod.using[UploadId];\n        for (var i = cache.length - 1; i >= 0; i--) {\n            if (cache[i][1] === UploadId) cache.splice(i, 1)\n        }\n        save();\n    },\n};\n\nmodule.exports = mod;\n", "var session = require('./session');\nvar util = require('./util');\n\nvar originApiMap = {};\nvar transferToTaskMethod = function (apiMap, apiName) {\n    originApiMap[apiName] = apiMap[apiName];\n    apiMap[apiName] = function (params, callback) {\n        if (params.SkipTask) {\n            originApiMap[apiName].call(this, params, callback);\n        } else {\n            this._addTask(apiName, params, callback);\n        }\n    };\n};\n\nvar initTask = function (cos) {\n\n    var queue = [];\n    var tasks = {};\n    var uploadingFileCount = 0;\n    var nextUploadIndex = 0;\n\n    // \u63A5\u53E3\u8FD4\u56DE\u7B80\u7565\u7684\u4EFB\u52A1\u4FE1\u606F\n    var formatTask = function (task) {\n        var t = {\n            id: task.id,\n            Bucket: task.Bucket,\n            Region: task.Region,\n            Key: task.Key,\n            FilePath: task.FilePath,\n            state: task.state,\n            loaded: task.loaded,\n            size: task.size,\n            speed: task.speed,\n            percent: task.percent,\n            hashPercent: task.hashPercent,\n            error: task.error,\n        };\n        if (task.FilePath) t.FilePath = task.FilePath;\n        if (task._custom) t._custom = task._custom; // \u63A7\u5236\u53F0\u4F7F\u7528\n        return t;\n    };\n\n    var emitListUpdate = (function () {\n        var timer;\n        var emit = function () {\n            timer = 0;\n            cos.emit('task-list-update', {list: util.map(queue, formatTask)});\n            cos.emit('list-update', {list: util.map(queue, formatTask)});\n        };\n        return function () {\n            if (!timer) timer = setTimeout(emit);\n        }\n    })();\n\n    var clearQueue = function () {\n        if (queue.length <= cos.options.UploadQueueSize) return;\n        for (var i = 0;\n             i < nextUploadIndex && // \u5C0F\u4E8E\u5F53\u524D\u64CD\u4F5C\u7684 index \u624D\u6E05\u7406\n             i < queue.length && // \u5927\u4E8E\u961F\u5217\u624D\u6E05\u7406\n             queue.length > cos.options.UploadQueueSize // \u5982\u679C\u8FD8\u592A\u591A\uFF0C\u624D\u7EE7\u7EED\u6E05\u7406\n            ;) {\n            var isActive = queue[i].state === 'waiting' || queue[i].state === 'checking' || queue[i].state === 'uploading';\n            if (!queue[i] || !isActive) {\n                tasks[queue[i].id] && (delete tasks[queue[i].id]);\n                queue.splice(i, 1);\n                nextUploadIndex--;\n            } else {\n                i++;\n            }\n        }\n        emitListUpdate();\n    };\n\n    var startNextTask = function () {\n        // \u68C0\u67E5\u662F\u5426\u5141\u8BB8\u589E\u52A0\u6267\u884C\u8FDB\u7A0B\n        if (uploadingFileCount >= cos.options.FileParallelLimit) return;\n        // \u8DF3\u8FC7\u4E0D\u53EF\u6267\u884C\u7684\u4EFB\u52A1\n        while (queue[nextUploadIndex] && queue[nextUploadIndex].state !== 'waiting') nextUploadIndex++;\n        // \u68C0\u67E5\u662F\u5426\u5DF2\u904D\u5386\u7ED3\u675F\n        if (nextUploadIndex >= queue.length) return;\n        // \u4E0A\u4F20\u8BE5\u904D\u5386\u5230\u7684\u4EFB\u52A1\n        var task = queue[nextUploadIndex];\n        nextUploadIndex++;\n        uploadingFileCount++;\n        task.state = 'checking';\n        task.params.onTaskStart && task.params.onTaskStart(formatTask(task));\n        !task.params.UploadData && (task.params.UploadData = {});\n        var apiParams = util.formatParams(task.api, task.params);\n        originApiMap[task.api].call(cos, apiParams, function (err, data) {\n            if (!cos._isRunningTask(task.id)) return;\n            if (task.state === 'checking' || task.state === 'uploading') {\n                task.state = err ? 'error' : 'success';\n                err && (task.error = err);\n                uploadingFileCount--;\n                emitListUpdate();\n                startNextTask();\n                task.callback && task.callback(err, data);\n                if (task.state === 'success') {\n                    if (task.params) {\n                        delete task.params.UploadData;\n                        delete task.params.Body;\n                        delete task.params;\n                    }\n                    delete task.callback;\n                }\n            }\n            clearQueue();\n        });\n        emitListUpdate();\n        // \u5F02\u6B65\u6267\u884C\u4E0B\u4E00\u4E2A\u4EFB\u52A1\n        setTimeout(startNextTask);\n    };\n\n    var killTask = function (id, switchToState) {\n        var task = tasks[id];\n        if (!task) return;\n        var waiting = task && task.state === 'waiting';\n        var running = task && (task.state === 'checking' || task.state === 'uploading');\n        if (switchToState === 'canceled' && task.state !== 'canceled' ||\n            switchToState === 'paused' && waiting ||\n            switchToState === 'paused' && running) {\n            if (switchToState === 'paused' && task.params.Body && typeof task.params.Body.pipe === 'function') {\n                console.error('stream not support pause');\n                return;\n            }\n            task.state = switchToState;\n            cos.emit('inner-kill-task', {TaskId: id, toState: switchToState});\n            try {\n                var UploadId = task && task.params && task.params.UploadData.UploadId\n            } catch(e) {}\n            if (switchToState === 'canceled' && UploadId) session.removeUsing(UploadId)\n            emitListUpdate();\n            if (running) {\n                uploadingFileCount--;\n                startNextTask();\n            }\n            if (switchToState === 'canceled') {\n                if (task.params) {\n                    delete task.params.UploadData;\n                    delete task.params.Body;\n                    delete task.params;\n                }\n                delete task.callback;\n            }\n        }\n        clearQueue();\n    };\n\n    cos._addTasks = function (taskList) {\n        util.each(taskList, function (task) {\n            cos._addTask(task.api, task.params, task.callback, true);\n        });\n        emitListUpdate();\n    };\n\n    var isTaskReadyWarning = true;\n    cos._addTask = function (api, params, callback, ignoreAddEvent) {\n\n        // \u590D\u5236\u53C2\u6570\u5BF9\u8C61\n        params = util.formatParams(api, params);\n\n        // \u751F\u6210 id\n        var id = util.uuid();\n        params.TaskId = id;\n        params.onTaskReady && params.onTaskReady(id);\n        if (params.TaskReady) {\n            params.TaskReady(id);\n            isTaskReadyWarning && console.warn('warning: Param \"TaskReady\" has been deprecated. Please use \"onTaskReady\" instead.');\n            isTaskReadyWarning = false;\n        }\n\n        var task = {\n            // env\n            params: params,\n            callback: callback,\n            api: api,\n            index: queue.length,\n            // task\n            id: id,\n            Bucket: params.Bucket,\n            Region: params.Region,\n            Key: params.Key,\n            FilePath: params.FilePath || '',\n            state: 'waiting',\n            loaded: 0,\n            size: 0,\n            speed: 0,\n            percent: 0,\n            hashPercent: 0,\n            error: null,\n            _custom: params._custom,\n        };\n        var onHashProgress = params.onHashProgress;\n        params.onHashProgress = function (info) {\n            if (!cos._isRunningTask(task.id)) return;\n            task.hashPercent = info.percent;\n            onHashProgress && onHashProgress(info);\n            emitListUpdate();\n        };\n        var onProgress = params.onProgress;\n        params.onProgress = function (info) {\n            if (!cos._isRunningTask(task.id)) return;\n            task.state === 'checking' && (task.state = 'uploading');\n            task.loaded = info.loaded;\n            task.speed = info.speed;\n            task.percent = info.percent;\n            onProgress && onProgress(info);\n            emitListUpdate();\n        };\n\n        // \u5F02\u6B65\u83B7\u53D6 filesize\n        util.getFileSize(api, params, function (err, size) {\n            // \u5F00\u59CB\u5904\u7406\u4E0A\u4F20\n            if (err) return callback(util.error(err)); // \u5982\u679C\u83B7\u53D6\u5927\u5C0F\u51FA\u9519\uFF0C\u4E0D\u52A0\u5165\u961F\u5217\n            // \u83B7\u53D6\u5B8C\u6587\u4EF6\u5927\u5C0F\u518D\u628A\u4EFB\u52A1\u52A0\u5165\u961F\u5217\n            tasks[id] = task;\n            queue.push(task);\n            task.size = size;\n            !ignoreAddEvent && emitListUpdate();\n            startNextTask();\n            clearQueue();\n        });\n        return id;\n    };\n    cos._isRunningTask = function (id) {\n        var task = tasks[id];\n        return !!(task && (task.state === 'checking' || task.state === 'uploading'));\n    };\n    cos.getTaskList = function () {\n        return util.map(queue, formatTask);\n    };\n    cos.cancelTask = function (id) {\n        killTask(id, 'canceled');\n    };\n    cos.pauseTask = function (id) {\n        killTask(id, 'paused');\n    };\n    cos.restartTask = function (id) {\n        var task = tasks[id];\n        if (task && (task.state === 'paused' || task.state === 'error')) {\n            task.state = 'waiting';\n            emitListUpdate();\n            nextUploadIndex = Math.min(nextUploadIndex, task.index);\n            startNextTask();\n        }\n    };\n    cos.isUploadRunning = function () {\n        return uploadingFileCount || nextUploadIndex < queue.length;\n    };\n\n};\n\nmodule.exports.transferToTaskMethod = transferToTaskMethod;\nmodule.exports.init = initTask;\n", "var stringifyPrimitive = function(v) {\n    switch (typeof v) {\n        case 'string':\n            return v;\n        case 'boolean':\n            return v ? 'true' : 'false';\n        case 'number':\n            return isFinite(v) ? v : '';\n        default:\n            return '';\n    }\n};\n\nvar queryStringify = function(obj, sep, eq, name) {\n    sep = sep || '&';\n    eq = eq || '=';\n    if (obj === null) {\n        obj = undefined;\n    }\n    if (typeof obj === 'object') {\n        return Object.keys(obj).map(function(k) {\n            var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n            if (Array.isArray(obj[k])) {\n                return obj[k].map(function(v) {\n                    return ks + encodeURIComponent(stringifyPrimitive(v));\n                }).join(sep);\n            } else {\n                return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n            }\n        }).filter(Boolean).join(sep);\n\n    }\n    if (!name) return '';\n    return encodeURIComponent(stringifyPrimitive(name)) + eq +\n        encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar xhrRes = function (err, xhr, body) {\n    var headers = {};\n    xhr.getAllResponseHeaders().trim().split('\\n').forEach(function (item) {\n        if (item) {\n            var index = item.indexOf(':');\n            var key = item.substr(0, index).trim().toLowerCase();\n            var val = item.substr(index + 1).trim();\n            headers[key] = val;\n        }\n    });\n    return {\n        error: err,\n        statusCode: xhr.status,\n        statusMessage: xhr.statusText,\n        headers: headers,\n        body: body,\n    };\n};\n\nvar xhrBody = function (xhr, dataType) {\n    return !dataType && dataType === 'text' ? xhr.responseText : xhr.response;\n};\n\nvar request = function (opt, callback) {\n\n    // method\n    var method = (opt.method || 'GET').toUpperCase();\n\n    // url\u3001qs\n    var url = opt.url;\n    if (opt.qs) {\n        var qsStr = queryStringify(opt.qs);\n        if (qsStr) {\n            url += (url.indexOf('?') === -1 ? '?' : '&') + qsStr;\n        }\n    }\n\n    // \u521B\u5EFA ajax \u5B9E\u4F8B\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    xhr.responseType = opt.dataType || 'text';\n\n    // \u5904\u7406 xhrFields \u5C5E\u6027\n    if (opt.xhrFields) {\n        for (var xhrField in opt.xhrFields) {\n            xhr[xhrField] = opt.xhrFields[xhrField]\n        }\n    }\n\n    // \u5904\u7406 headers\n    var headers = opt.headers;\n    if (headers) {\n        for (var key in headers) {\n            if (headers.hasOwnProperty(key) &&\n                key.toLowerCase() !== 'content-length' &&\n                key.toLowerCase() !== 'user-agent' &&\n                key.toLowerCase() !== 'origin' &&\n                key.toLowerCase() !== 'host') {\n                xhr.setRequestHeader(key, headers[key]);\n            }\n        }\n    }\n\n    // onprogress\n    if (opt.onProgress && xhr.upload) xhr.upload.onprogress = opt.onProgress;\n    if (opt.onDownloadProgress) xhr.onprogress = opt.onDownloadProgress;\n\n    // timeout\n    if (opt.timeout) xhr.timeout = opt.timeout;\n    xhr.ontimeout = function(event){\n        var error = new Error('timeout');\n        callback(xhrRes(error, xhr));\n    };\n\n    // success 2xx/3xx/4xx\n    xhr.onload = function () {\n        callback(xhrRes(null, xhr, xhrBody(xhr, opt.dataType)));\n    };\n\n    // error 5xx/0 (\u7F51\u7EDC\u9519\u8BEF\u3001\u8DE8\u57DF\u62A5\u9519\u3001Https connect-src \u9650\u5236\u7684\u62A5\u9519\u65F6 statusCode \u4E3A 0)\n    xhr.onerror = function (err) {\n        var body = xhrBody(xhr, opt.dataType);\n        if (body) { // 5xx\n            callback(xhrRes(null, xhr, body));\n        } else { // 0\n            var error = xhr.statusText;\n            if (!error && xhr.status === 0) error = new Error('CORS blocked or network error');\n            callback(xhrRes(error, xhr, body));\n        }\n    };\n\n    // send\n    xhr.send(opt.body || '');\n\n    // \u8FD4\u56DE ajax \u5B9E\u4F8B\uFF0C\u7528\u4E8E\u5916\u90E8\u8C03\u7528 xhr.abort\n    return xhr;\n};\n\nmodule.exports = request;\n", "var REQUEST = require('../lib/request');\nvar util = require('./util');\n\n\n// Bucket \u76F8\u5173\n\n/**\n * \u83B7\u53D6\u7528\u6237\u7684 bucket \u5217\u8868\n * @param  {Object}  params         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\uFF0C\u4E0B\u9762\u4E3A\u53C2\u6570\u5217\u8868\n * \u65E0\u7279\u6B8A\u53C2\u6570\n * @param  {Function}  callback     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n */\nfunction getService(params, callback) {\n\n    if (typeof params === 'function') {\n        callback = params;\n        params = {};\n    }\n    var protocol = this.options.Protocol || (util.isBrowser && location.protocol === 'http:' ? 'http:' : 'https:');\n    var domain = this.options.ServiceDomain;\n    var appId = params.AppId || this.options.appId;\n    var region = params.Region;\n    if (domain) {\n        domain = domain.replace(/\\{\\{AppId\\}\\}/ig, appId || '')\n            .replace(/\\{\\{Region\\}\\}/ig, region || '').replace(/\\{\\{.*?\\}\\}/ig, '');\n        if (!/^[a-zA-Z]+:\\/\\//.test(domain)) {\n            domain = protocol + '//' + domain;\n        }\n        if (domain.slice(-1) === '/') {\n            domain = domain.slice(0, -1);\n        }\n    } else if (region) {\n        domain = protocol + '//cos.' + region + '.myqcloud.com';\n    } else {\n        domain = protocol + '//service.cos.myqcloud.com';\n    }\n\n    var SignHost = '';\n    var standardHost = region ? 'cos.' + region + '.myqcloud.com' : 'service.cos.myqcloud.com';\n    var urlHost = domain.replace(/^https?:\\/\\/([^/]+)(\\/.*)?$/, '$1');\n    if (standardHost === urlHost) SignHost = standardHost;\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetService',\n        url: domain,\n        method: 'GET',\n        headers: params.Headers,\n        SignHost: SignHost,\n    }, function (err, data) {\n        if (err) return callback(err);\n        var buckets = (data && data.ListAllMyBucketsResult && data.ListAllMyBucketsResult.Buckets\n            && data.ListAllMyBucketsResult.Buckets.Bucket) || [];\n        buckets = util.isArray(buckets) ? buckets : [buckets];\n        var owner = (data && data.ListAllMyBucketsResult && data.ListAllMyBucketsResult.Owner) || {};\n        callback(null, {\n            Buckets: buckets,\n            Owner: owner,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u521B\u5EFA Bucket\uFF0C\u5E76\u521D\u59CB\u5316\u8BBF\u95EE\u6743\u9650\n * @param  {Object}  params                         \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket              Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region              \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.ACL                 \u7528\u6237\u81EA\u5B9A\u4E49\u6587\u4EF6\u6743\u9650\uFF0C\u53EF\u4EE5\u8BBE\u7F6E\uFF1Aprivate\uFF0Cpublic-read\uFF1B\u9ED8\u8BA4\u503C\uFF1Aprivate\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantRead           \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u7684\u6743\u9650\uFF0C\u683C\u5F0Fx-cos-grant-read: uin=\" \",uin=\" \"\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantWrite          \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u5199\u7684\u6743\u9650\uFF0C\u683C\u5F0Fx-cos-grant-write: uin=\" \",uin=\" \"\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantFullControl    \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u5199\u6743\u9650\uFF0C\u683C\u5F0Fx-cos-grant-full-control: uin=\" \",uin=\" \"\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                           \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {String}  data.Location             \u64CD\u4F5C\u5730\u5740\n */\nfunction putBucket(params, callback) {\n\n    var self = this;\n\n    var xml = '';\n    if(params['BucketAZConfig']){\n        var CreateBucketConfiguration = {\n            BucketAZConfig: params.BucketAZConfig\n        };\n        xml = util.json2xml({CreateBucketConfiguration: CreateBucketConfiguration});\n    }\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucket',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        body: xml,\n    }, function (err, data) {\n        if (err) return callback(err);\n        var url = getUrl({\n            protocol: self.options.Protocol,\n            domain: self.options.Domain,\n            bucket: params.Bucket,\n            region: params.Region,\n            isLocation: true,\n        });\n        callback(null, {\n            Location: url,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u67E5\u770B\u662F\u5426\u5B58\u5728\u8BE5Bucket\uFF0C\u662F\u5426\u6709\u6743\u9650\u8BBF\u95EE\n * @param  {Object}  params                     \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket          Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region          \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback                 \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                       \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                      \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {Boolean}  data.BucketExist     Bucket\u662F\u5426\u5B58\u5728\n *     @return  {Boolean}  data.BucketAuth      \u662F\u5426\u6709 Bucket \u7684\u8BBF\u95EE\u6743\u9650\n */\nfunction headBucket(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:HeadBucket',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        method: 'HEAD',\n    }, callback);\n}\n\n/**\n * \u83B7\u53D6 Bucket \u4E0B\u7684 object \u5217\u8868\n * @param  {Object}  params                         \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket              Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region              \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Prefix              \u524D\u7F00\u5339\u914D\uFF0C\u7528\u6765\u89C4\u5B9A\u8FD4\u56DE\u7684\u6587\u4EF6\u524D\u7F00\u5730\u5740\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.Delimiter           \u5B9A\u754C\u7B26\u4E3A\u4E00\u4E2A\u7B26\u53F7\uFF0C\u5982\u679C\u6709Prefix\uFF0C\u5219\u5C06Prefix\u5230delimiter\u4E4B\u95F4\u7684\u76F8\u540C\u8DEF\u5F84\u5F52\u4E3A\u4E00\u7C7B\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.Marker              \u9ED8\u8BA4\u4EE5UTF-8\u4E8C\u8FDB\u5236\u987A\u5E8F\u5217\u51FA\u6761\u76EE\uFF0C\u6240\u6709\u5217\u51FA\u6761\u76EE\u4ECEmarker\u5F00\u59CB\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.MaxKeys             \u5355\u6B21\u8FD4\u56DE\u6700\u5927\u7684\u6761\u76EE\u6570\u91CF\uFF0C\u9ED8\u8BA41000\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.EncodingType        \u89C4\u5B9A\u8FD4\u56DE\u503C\u7684\u7F16\u7801\u65B9\u5F0F\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                           \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {Object}  data.ListBucketResult     \u8FD4\u56DE\u7684 object \u5217\u8868\u4FE1\u606F\n */\nfunction getBucket(params, callback) {\n    var reqParams = {};\n    reqParams['prefix'] = params['Prefix'] || '';\n    reqParams['delimiter'] = params['Delimiter'];\n    reqParams['marker'] = params['Marker'];\n    reqParams['max-keys'] = params['MaxKeys'];\n    reqParams['encoding-type'] = params['EncodingType'];\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucket',\n        ResourceKey: reqParams['prefix'],\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        qs: reqParams,\n    }, function (err, data) {\n        if (err) return callback(err);\n        var ListBucketResult = data.ListBucketResult || {};\n        var Contents = ListBucketResult.Contents || [];\n        var CommonPrefixes = ListBucketResult.CommonPrefixes || [];\n\n        Contents = util.isArray(Contents) ? Contents : [Contents];\n        CommonPrefixes = util.isArray(CommonPrefixes) ? CommonPrefixes : [CommonPrefixes];\n\n        var result = util.clone(ListBucketResult);\n        util.extend(result, {\n            Contents: Contents,\n            CommonPrefixes: CommonPrefixes,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n\n        callback(null, result);\n    });\n}\n\n/**\n * \u5220\u9664 Bucket\n * @param  {Object}  params                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                  \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {String}  data.Location     \u64CD\u4F5C\u5730\u5740\n */\nfunction deleteBucket(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucket',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        method: 'DELETE',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u8BBE\u7F6E Bucket \u7684 \u6743\u9650\u5217\u8868\n * @param  {Object}  params                         \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket              Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region              \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.ACL                 \u7528\u6237\u81EA\u5B9A\u4E49\u6587\u4EF6\u6743\u9650\uFF0C\u53EF\u4EE5\u8BBE\u7F6E\uFF1Aprivate\uFF0Cpublic-read\uFF1B\u9ED8\u8BA4\u503C\uFF1Aprivate\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantRead           \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u7684\u6743\u9650\uFF0C\u683C\u5F0Fx-cos-grant-read: uin=\" \",uin=\" \"\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantWrite          \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u5199\u7684\u6743\u9650\uFF0C\u683C\u5F0Fx-cos-grant-write: uin=\" \",uin=\" \"\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantFullControl    \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u5199\u6743\u9650\uFF0C\u683C\u5F0Fx-cos-grant-full-control: uin=\" \",uin=\" \"\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                           \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction putBucketAcl(params, callback) {\n    var headers = params.Headers;\n\n    var xml = '';\n    if (params['AccessControlPolicy']) {\n        var AccessControlPolicy = util.clone(params['AccessControlPolicy'] || {});\n        var Grants = AccessControlPolicy.Grants || AccessControlPolicy.Grant;\n        Grants = util.isArray(Grants) ? Grants : [Grants];\n        delete AccessControlPolicy.Grant;\n        delete AccessControlPolicy.Grants;\n        AccessControlPolicy.AccessControlList = {Grant: Grants};\n        xml = util.json2xml({AccessControlPolicy: AccessControlPolicy});\n\n        headers['Content-Type'] = 'application/xml';\n        headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n    }\n\n    // Grant Header \u53BB\u91CD\n    util.each(headers, function (val, key) {\n        if (key.indexOf('x-cos-grant-') === 0) {\n            headers[key] = uniqGrant(headers[key]);\n        }\n    });\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketACL',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: headers,\n        action: 'acl',\n        body: xml,\n    }, function (err, data) {\n        if (err) return callback(err);\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684 \u6743\u9650\u5217\u8868\n * @param  {Object}  params                         \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket              Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region              \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback                     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                           \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {Object}  data.AccessControlPolicy  \u8BBF\u95EE\u6743\u9650\u4FE1\u606F\n */\nfunction getBucketAcl(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketACL',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'acl',\n    }, function (err, data) {\n        if (err) return callback(err);\n        var AccessControlPolicy = data.AccessControlPolicy || {};\n        var Owner = AccessControlPolicy.Owner || {};\n        var Grant = AccessControlPolicy.AccessControlList.Grant || [];\n        Grant = util.isArray(Grant) ? Grant : [Grant];\n        var result = decodeAcl(AccessControlPolicy);\n        if (data.headers && data.headers['x-cos-acl']) {\n            result.ACL = data.headers['x-cos-acl'];\n        }\n        result = util.extend(result, {\n            Owner: Owner,\n            Grants: Grant,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n        callback(null, result);\n    });\n}\n\n/**\n * \u8BBE\u7F6E Bucket \u7684 \u8DE8\u57DF\u8BBE\u7F6E\n * @param  {Object}  params                             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {Object}  params.CORSConfiguration       \u76F8\u5173\u7684\u8DE8\u57DF\u8BBE\u7F6E\uFF0C\u5FC5\u987B\n * @param  {Array}  params.CORSConfiguration.CORSRules  \u5BF9\u5E94\u7684\u8DE8\u57DF\u89C4\u5219\n * @param  {Function}  callback                         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                              \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction putBucketCors(params, callback) {\n\n    var CORSConfiguration = params['CORSConfiguration'] || {};\n    var CORSRules = CORSConfiguration['CORSRules'] || params['CORSRules'] || [];\n    CORSRules = util.clone(util.isArray(CORSRules) ? CORSRules : [CORSRules]);\n    util.each(CORSRules, function (rule) {\n        util.each(['AllowedOrigin', 'AllowedHeader', 'AllowedMethod', 'ExposeHeader'], function (key) {\n            var sKey = key + 's';\n            var val = rule[sKey] || rule[key] || [];\n            delete rule[sKey];\n            rule[key] = util.isArray(val) ? val : [val];\n        });\n    });\n\n    var Conf = {CORSRule: CORSRules};\n    if (params.ResponseVary) Conf.ResponseVary = params.ResponseVary;\n\n    var xml = util.json2xml({CORSConfiguration: Conf});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketCORS',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'cors',\n        headers: headers,\n    }, function (err, data) {\n        if (err) return callback(err);\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684 \u8DE8\u57DF\u8BBE\u7F6E\n * @param  {Object}  params                         \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket              Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region              \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback                     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                           \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {Object}  data.CORSRules            Bucket\u7684\u8DE8\u57DF\u8BBE\u7F6E\n */\nfunction getBucketCors(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketCORS',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'cors',\n    }, function (err, data) {\n        if (err) {\n            if (err.statusCode === 404 && err.error && err.error.Code === 'NoSuchCORSConfiguration') {\n                var result = {\n                    CORSRules: [],\n                    statusCode: err.statusCode,\n                };\n                err.headers && (result.headers = err.headers);\n                callback(null, result);\n            } else {\n                callback(err);\n            }\n            return;\n        }\n        var CORSConfiguration = data.CORSConfiguration || {};\n        var CORSRules = CORSConfiguration.CORSRules || CORSConfiguration.CORSRule || [];\n        CORSRules = util.clone(util.isArray(CORSRules) ? CORSRules : [CORSRules]);\n        var ResponseVary = CORSConfiguration.ResponseVary;\n\n        util.each(CORSRules, function (rule) {\n            util.each(['AllowedOrigin', 'AllowedHeader', 'AllowedMethod', 'ExposeHeader'], function (key) {\n                var sKey = key + 's';\n                var val = rule[sKey] || rule[key] || [];\n                delete rule[key];\n                rule[sKey] = util.isArray(val) ? val : [val];\n            });\n        });\n\n        callback(null, {\n            CORSRules: CORSRules,\n            ResponseVary: ResponseVary,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u5220\u9664 Bucket \u7684 \u8DE8\u57DF\u8BBE\u7F6E\n * @param  {Object}  params                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                  \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction deleteBucketCors(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketCORS',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'cors',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode || err.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684 \u5730\u57DF\u4FE1\u606F\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\uFF0C\u5305\u542B\u5730\u57DF\u4FE1\u606F LocationConstraint\n */\nfunction getBucketLocation(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketLocation',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'location',\n    }, callback);\n}\n\nfunction putBucketPolicy(params, callback) {\n    var Policy = params['Policy'];\n    try {\n        if (typeof Policy === 'string') Policy = JSON.parse(Policy);\n    } catch (e) {\n    }\n    if (!Policy || typeof Policy === 'string') return callback(util.error(new Error('Policy format error')));\n    var PolicyStr = JSON.stringify(Policy);\n    if (!Policy.version) Policy.version = '2.0';\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/json';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(PolicyStr));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketPolicy',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        action: 'policy',\n        body: PolicyStr,\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684\u8BFB\u53D6\u6743\u9650\u7B56\u7565\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction getBucketPolicy(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketPolicy',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'policy',\n        rawBody: true,\n    }, function (err, data) {\n        if (err) {\n            if (err.statusCode && err.statusCode === 403) {\n                return callback(util.error(err, {ErrorStatus: 'Access Denied'}));\n            }\n            if (err.statusCode && err.statusCode === 405) {\n                return callback(util.error(err, {ErrorStatus: 'Method Not Allowed'}));\n            }\n            if (err.statusCode && err.statusCode === 404) {\n                return callback(util.error(err, {ErrorStatus: 'Policy Not Found'}));\n            }\n            return callback(err);\n        }\n        var Policy = {};\n        try {\n            Policy = JSON.parse(data.body);\n        } catch (e) {\n        }\n        callback(null, {\n            Policy: Policy,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u5220\u9664 Bucket \u7684 \u8DE8\u57DF\u8BBE\u7F6E\n * @param  {Object}  params                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                  \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction deleteBucketPolicy(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketPolicy',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'policy',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode || err.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u8BBE\u7F6E Bucket \u7684\u6807\u7B7E\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {Array}   params.TagSet  \u6807\u7B7E\u8BBE\u7F6E\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction putBucketTagging(params, callback) {\n\n    var Tagging = params['Tagging'] || {};\n    var Tags = Tagging.TagSet || Tagging.Tags || params['Tags'] || [];\n    Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n    var xml = util.json2xml({Tagging: {TagSet: {Tag: Tags}}});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketTagging',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'tagging',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684\u6807\u7B7E\u8BBE\u7F6E\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction getBucketTagging(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketTagging',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'tagging',\n    }, function (err, data) {\n        if (err) {\n            if (err.statusCode === 404 && err.error && (err.error === \"Not Found\" || err.error.Code === 'NoSuchTagSet')) {\n                var result = {\n                    Tags: [],\n                    statusCode: err.statusCode,\n                };\n                err.headers && (result.headers = err.headers);\n                callback(null, result);\n            } else {\n                callback(err);\n            }\n            return;\n        }\n        var Tags = [];\n        try {\n            Tags = data.Tagging.TagSet.Tag || [];\n        } catch (e) {\n        }\n        Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n        callback(null, {\n            Tags: Tags,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u5220\u9664 Bucket \u7684 \u6807\u7B7E\u8BBE\u7F6E\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction deleteBucketTagging(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketTagging',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'tagging',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\nfunction putBucketLifecycle(params, callback) {\n\n    var LifecycleConfiguration = params['LifecycleConfiguration'] || {};\n    var Rules = LifecycleConfiguration.Rules || params.Rules || [];\n    Rules = util.clone(Rules);\n    var xml = util.json2xml({LifecycleConfiguration: {Rule: Rules}});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketLifecycle',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'lifecycle',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\nfunction getBucketLifecycle(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketLifecycle',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'lifecycle',\n    }, function (err, data) {\n        if (err) {\n            if (err.statusCode === 404 && err.error && err.error.Code === 'NoSuchLifecycleConfiguration') {\n                var result = {\n                    Rules: [],\n                    statusCode: err.statusCode,\n                };\n                err.headers && (result.headers = err.headers);\n                callback(null, result);\n            } else {\n                callback(err);\n            }\n            return;\n        }\n        var Rules = [];\n        try {\n            Rules = data.LifecycleConfiguration.Rule || [];\n        } catch (e) {\n        }\n        Rules = util.clone(util.isArray(Rules) ? Rules : [Rules]);\n        callback(null, {\n            Rules: Rules,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\nfunction deleteBucketLifecycle(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketLifecycle',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'lifecycle',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\nfunction putBucketVersioning(params, callback) {\n\n    if (!params['VersioningConfiguration']) {\n        callback(util.error(new Error('missing param VersioningConfiguration')));\n        return;\n    }\n    var VersioningConfiguration = params['VersioningConfiguration'] || {};\n    var xml = util.json2xml({VersioningConfiguration: VersioningConfiguration});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketVersioning',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'versioning',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\nfunction getBucketVersioning(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketVersioning',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'versioning',\n    }, function (err, data) {\n        if (!err) {\n            !data.VersioningConfiguration && (data.VersioningConfiguration = {});\n        }\n        callback(err, data);\n    });\n}\n\nfunction putBucketReplication(params, callback) {\n    var ReplicationConfiguration = util.clone(params.ReplicationConfiguration);\n    var xml = util.json2xml({ReplicationConfiguration: ReplicationConfiguration});\n    xml = xml.replace(/<(\\/?)Rules>/ig, '<$1Rule>');\n    xml = xml.replace(/<(\\/?)Tags>/ig, '<$1Tag>');\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketReplication',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'replication',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\nfunction getBucketReplication(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketReplication',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'replication',\n    }, function (err, data) {\n        if (err) {\n            if (err.statusCode === 404 && err.error && (err.error === 'Not Found' || err.error.Code === 'ReplicationConfigurationnotFoundError')) {\n                var result = {\n                    ReplicationConfiguration: {Rules: []},\n                    statusCode: err.statusCode,\n                };\n                err.headers && (result.headers = err.headers);\n                callback(null, result);\n            } else {\n                callback(err);\n            }\n            return;\n        }\n        !data.ReplicationConfiguration && (data.ReplicationConfiguration = {});\n        if (data.ReplicationConfiguration.Rule) {\n            data.ReplicationConfiguration.Rules = util.makeArray(data.ReplicationConfiguration.Rule);\n            delete data.ReplicationConfiguration.Rule;\n        }\n        callback(err, data);\n    });\n}\n\nfunction deleteBucketReplication(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketReplication',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'replication',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u8BBE\u7F6E Bucket \u9759\u6001\u7F51\u7AD9\u914D\u7F6E\u4FE1\u606F\n * @param  {Object}  params                                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {Object}  params.WebsiteConfiguration                        \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *         @param  {Object}   WebsiteConfiguration.IndexDocument            \u7D22\u5F15\u6587\u6863\uFF0C\u5FC5\u987B\n *         @param  {Object}   WebsiteConfiguration.ErrorDocument            \u9519\u8BEF\u6587\u6863\uFF0C\u975E\u5FC5\u987B\n *         @param  {Object}   WebsiteConfiguration.RedirectAllRequestsTo    \u91CD\u5B9A\u5411\u6240\u6709\u8BF7\u6C42\uFF0C\u975E\u5FC5\u987B\n *         @param  {Array}   params.RoutingRules                            \u91CD\u5B9A\u5411\u89C4\u5219\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  \u8FD4\u56DE\u6570\u636E\n */\nfunction putBucketWebsite(params, callback) {\n\n    if (!params['WebsiteConfiguration']) {\n        callback(util.error(new Error('missing param WebsiteConfiguration')));\n        return;\n    }\n\n    var WebsiteConfiguration = util.clone(params['WebsiteConfiguration'] || {});\n    var RoutingRules = WebsiteConfiguration['RoutingRules'] || WebsiteConfiguration['RoutingRule'] || [];\n    RoutingRules = util.isArray(RoutingRules) ? RoutingRules : [RoutingRules];\n    delete WebsiteConfiguration.RoutingRule;\n    delete WebsiteConfiguration.RoutingRules;\n    if (RoutingRules.length) WebsiteConfiguration.RoutingRules = { RoutingRule: RoutingRules };\n    var xml = util.json2xml({ WebsiteConfiguration: WebsiteConfiguration });\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketWebsite',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'website',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684\u9759\u6001\u7F51\u7AD9\u914D\u7F6E\u4FE1\u606F\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction getBucketWebsite(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketWebsite',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        headers: params.Headers,\n        action: 'website',\n    }, function (err, data) {\n        if (err) {\n            if(err.statusCode === 404 && err.error.Code === 'NoSuchWebsiteConfiguration'){\n                var result = {\n                    WebsiteConfiguration: {},\n                    statusCode: err.statusCode,\n                };\n                err.headers && (result.headers = err.headers);\n                callback(null, result);\n            } else {\n                callback(err);\n            }\n            return;\n        }\n\n        var WebsiteConfiguration = data.WebsiteConfiguration || {};\n        if (WebsiteConfiguration['RoutingRules']) {\n            var RoutingRules = util.clone(WebsiteConfiguration['RoutingRules'].RoutingRule || []);\n            RoutingRules = util.makeArray(RoutingRules);\n            WebsiteConfiguration.RoutingRules = RoutingRules;\n        }\n\n        callback(null, {\n            WebsiteConfiguration: WebsiteConfiguration,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u5220\u9664 Bucket \u7684\u9759\u6001\u7F51\u7AD9\u914D\u7F6E\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction deleteBucketWebsite(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketWebsite',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'website',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u8BBE\u7F6E Bucket \u7684\u9632\u76D7\u94FE\u767D\u540D\u5355\u6216\u8005\u9ED1\u540D\u5355\n * @param  {Object}  params                                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {Object}  params.RefererConfiguration                        \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *         @param  {String}   RefererConfiguration.Status                   \u662F\u5426\u5F00\u542F\u9632\u76D7\u94FE\uFF0C\u679A\u4E3E\u503C\uFF1AEnabled\u3001Disabled\n *         @param  {String}   RefererConfiguration.RefererType              \u9632\u76D7\u94FE\u7C7B\u578B\uFF0C\u679A\u4E3E\u503C\uFF1ABlack-List\u3001White-List\uFF0C\u5FC5\u987B\n *         @param  {Array}   RefererConfiguration.DomianList.Domain         \u751F\u6548\u57DF\u540D\uFF0C\u5FC5\u987B\n *         @param  {String}   RefererConfiguration.EmptyReferConfiguration  \uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  \u8FD4\u56DE\u6570\u636E\n */\nfunction putBucketReferer(params, callback) {\n\n    if (!params['RefererConfiguration']) {\n        callback(util.error(new Error('missing param RefererConfiguration')));\n        return;\n    }\n\n    var RefererConfiguration = util.clone(params['RefererConfiguration'] || {});\n    var DomainList = RefererConfiguration['DomainList'] || {};\n    var Domains = DomainList['Domains'] || DomainList['Domain'] || [];\n    Domains = util.isArray(Domains) ? Domains : [Domains];\n    if (Domains.length) RefererConfiguration.DomainList = {Domain: Domains};\n    var xml = util.json2xml({ RefererConfiguration: RefererConfiguration });\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketReferer',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'referer',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684\u9632\u76D7\u94FE\u767D\u540D\u5355\u6216\u8005\u9ED1\u540D\u5355\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction getBucketReferer(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketReferer',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        headers: params.Headers,\n        action: 'referer',\n    }, function (err, data) {\n        if (err) {\n            if(err.statusCode === 404 && err.error.Code === 'NoSuchRefererConfiguration'){\n                var result = {\n                    WebsiteConfiguration: {},\n                    statusCode: err.statusCode,\n                };\n                err.headers && (result.headers = err.headers);\n                callback(null, result);\n            } else {\n                callback(err);\n            }\n            return;\n        }\n\n        var RefererConfiguration = data.RefererConfiguration || {};\n        if (RefererConfiguration['DomainList']) {\n            var Domains = util.makeArray(RefererConfiguration['DomainList'].Domain || []);\n            RefererConfiguration.DomainList = {Domains: Domains};\n        }\n\n        callback(null, {\n            RefererConfiguration: RefererConfiguration,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u8BBE\u7F6E Bucket \u81EA\u5B9A\u4E49\u57DF\u540D\n * @param  {Object}  params                                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback                                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  \u8FD4\u56DE\u6570\u636E\n */\nfunction putBucketDomain(params, callback) {\n\n    var DomainConfiguration = params['DomainConfiguration'] || {};\n    var DomainRule = DomainConfiguration.DomainRule || params.DomainRule || [];\n    DomainRule = util.clone(DomainRule);\n    var xml = util.json2xml({DomainConfiguration: {DomainRule: DomainRule}});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketDomain',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'domain',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684\u81EA\u5B9A\u4E49\u57DF\u540D\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction getBucketDomain(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketDomain',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'domain',\n    }, function (err, data) {\n        if (err) return callback(err);\n\n        var DomainRule = [];\n        try {\n            DomainRule = data.DomainConfiguration.DomainRule || [];\n        } catch (e) {\n        }\n        DomainRule = util.clone(util.isArray(DomainRule) ? DomainRule : [DomainRule]);\n        callback(null, {\n            DomainRule: DomainRule,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u5220\u9664 Bucket \u81EA\u5B9A\u4E49\u57DF\u540D\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction deleteBucketDomain(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketDomain',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'domain',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u8BBE\u7F6E Bucket \u7684\u56DE\u6E90\n * @param  {Object}  params                                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback                                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  \u8FD4\u56DE\u6570\u636E\n */\nfunction putBucketOrigin(params, callback){\n    var OriginConfiguration = params['OriginConfiguration'] || {};\n    var OriginRule = OriginConfiguration.OriginRule || params.OriginRule || [];\n    OriginRule = util.clone(OriginRule);\n    var xml = util.json2xml({OriginConfiguration: {OriginRule: OriginRule}});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketOrigin',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'origin',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684\u56DE\u6E90\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction getBucketOrigin(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketOrigin',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'origin',\n    }, function (err, data) {\n        if (err) return callback(err);\n\n        var OriginRule = [];\n        try {\n            OriginRule = data.OriginConfiguration.OriginRule || [];\n        } catch (e) {\n        }\n        OriginRule = util.clone(util.isArray(OriginRule) ? OriginRule : [OriginRule]);\n        callback(null, {\n            OriginRule: OriginRule,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u5220\u9664 Bucket \u7684\u56DE\u6E90\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction deleteBucketOrigin(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketOrigin',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'origin',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u8BBE\u7F6E Bucket \u7684\u65E5\u5FD7\u8BB0\u5F55\n * @param  {Object}  params                                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {(Object|String)}  params.BucketLoggingStatus                         \u8BF4\u660E\u65E5\u5FD7\u8BB0\u5F55\u914D\u7F6E\u7684\u72B6\u6001\uFF0C\u5982\u679C\u65E0\u5B50\u8282\u70B9\u4FE1\u606F\u5219\u610F\u4E3A\u5173\u95ED\u65E5\u5FD7\u8BB0\u5F55\uFF0C\u5FC5\u987B\n * @param  {Function}  callback                                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  \u8FD4\u56DE\u6570\u636E\n */\nfunction putBucketLogging(params, callback) {\n    var xml = util.json2xml({\n        BucketLoggingStatus: params['BucketLoggingStatus'] || ''\n    });\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketLogging',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'logging',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684\u65E5\u5FD7\u8BB0\u5F55\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction getBucketLogging(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketLogging',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'logging',\n    }, function (err, data) {\n        if (err) return callback(err);\n        callback(null, {\n            BucketLoggingStatus: data.BucketLoggingStatus,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u521B\u5EFA/\u7F16\u8F91 Bucket \u7684\u6E05\u5355\u4EFB\u52A1\n * @param  {Object}  params                                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Id                                          \u6E05\u5355\u4EFB\u52A1\u7684\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {Object}  params.InventoryConfiguration                      \u5305\u542B\u6E05\u5355\u7684\u914D\u7F6E\u53C2\u6570\uFF0C\u5FC5\u987B\n * @param  {Function}  callback                                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  \u8FD4\u56DE\u6570\u636E\n */\nfunction putBucketInventory(params, callback) {\n    var InventoryConfiguration = util.clone(params['InventoryConfiguration']);\n\n    if (InventoryConfiguration.OptionalFields) {\n        var Field = InventoryConfiguration.OptionalFields || [];\n        InventoryConfiguration.OptionalFields = {\n            Field: Field\n        };\n    }\n\n    if (InventoryConfiguration.Destination\n        && InventoryConfiguration.Destination.COSBucketDestination\n        && InventoryConfiguration.Destination.COSBucketDestination.Encryption\n    ) {\n        var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\n        if (Object.keys(Encryption).indexOf('SSECOS') > -1) {\n            Encryption['SSE-COS'] = Encryption['SSECOS'];\n            delete Encryption['SSECOS'];\n        }\n    }\n\n    var xml = util.json2xml({\n        InventoryConfiguration: InventoryConfiguration\n    });\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketInventory',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'inventory',\n        qs: {\n            id: params['Id']\n        },\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684\u6E05\u5355\u4EFB\u52A1\u4FE1\u606F\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Id      \u6E05\u5355\u4EFB\u52A1\u7684\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction getBucketInventory(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketInventory',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'inventory',\n        qs: {\n            id: params['Id']\n        }\n    }, function (err, data) {\n        if (err) return callback(err);\n\n        var InventoryConfiguration = data['InventoryConfiguration'];\n        if (InventoryConfiguration && InventoryConfiguration.OptionalFields && InventoryConfiguration.OptionalFields.Field) {\n            var Field = InventoryConfiguration.OptionalFields.Field;\n            if (!util.isArray(Field)) {\n                Field = [Field];\n            }\n            InventoryConfiguration.OptionalFields = Field;\n        }\n        if (InventoryConfiguration.Destination\n            && InventoryConfiguration.Destination.COSBucketDestination\n            && InventoryConfiguration.Destination.COSBucketDestination.Encryption\n        ) {\n            var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\n            if (Object.keys(Encryption).indexOf('SSE-COS') > -1) {\n                Encryption['SSECOS'] = Encryption['SSE-COS'];\n                delete Encryption['SSE-COS'];\n            }\n        }\n\n        callback(null, {\n            InventoryConfiguration: InventoryConfiguration,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Bucket \u7684\u6E05\u5355\u4EFB\u52A1\u4FE1\u606F\n * @param  {Object}  params                             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.ContinuationToken       \u5F53 COS \u54CD\u5E94\u4F53\u4E2D IsTruncated \u4E3A true\uFF0C\u4E14 NextContinuationToken \u8282\u70B9\u4E2D\u5B58\u5728\u53C2\u6570\u503C\u65F6\uFF0C\u60A8\u53EF\u4EE5\u5C06\u8FD9\u4E2A\u53C2\u6570\u4F5C\u4E3A continuation-token \u53C2\u6570\u503C\uFF0C\u4EE5\u83B7\u53D6\u4E0B\u4E00\u9875\u7684\u6E05\u5355\u4EFB\u52A1\u4FE1\u606F\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                              \u8FD4\u56DE\u6570\u636E\n */\nfunction listBucketInventory(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:ListBucketInventory',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'inventory',\n        qs: {\n            'continuation-token': params['ContinuationToken']\n        }\n    }, function (err, data) {\n        if (err) return callback(err);\n        var ListInventoryConfigurationResult = data['ListInventoryConfigurationResult'];\n        var InventoryConfigurations = ListInventoryConfigurationResult.InventoryConfiguration || [];\n        InventoryConfigurations = util.isArray(InventoryConfigurations) ? InventoryConfigurations : [InventoryConfigurations];\n        delete ListInventoryConfigurationResult['InventoryConfiguration'];\n        util.each(InventoryConfigurations, function (InventoryConfiguration) {\n            if (InventoryConfiguration && InventoryConfiguration.OptionalFields && InventoryConfiguration.OptionalFields.Field) {\n                var Field = InventoryConfiguration.OptionalFields.Field;\n                if (!util.isArray(Field)) {\n                    Field = [Field];\n                }\n                InventoryConfiguration.OptionalFields = Field;\n            }\n\n            if (InventoryConfiguration.Destination\n                && InventoryConfiguration.Destination.COSBucketDestination\n                && InventoryConfiguration.Destination.COSBucketDestination.Encryption\n            ) {\n                var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\n                if (Object.keys(Encryption).indexOf('SSE-COS') > -1) {\n                    Encryption['SSECOS'] = Encryption['SSE-COS'];\n                    delete Encryption['SSE-COS'];\n                }\n            }\n        });\n        ListInventoryConfigurationResult.InventoryConfigurations = InventoryConfigurations;\n        util.extend(ListInventoryConfigurationResult, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n        callback(null, ListInventoryConfigurationResult);\n    });\n}\n\n/**\n * \u5220\u9664 Bucket \u7684\u6E05\u5355\u4EFB\u52A1\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Id      \u6E05\u5355\u4EFB\u52A1\u7684\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction deleteBucketInventory(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketInventory',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'inventory',\n        qs: {\n            id: params['Id']\n        }\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/* \u5168\u7403\u52A0\u901F */\nfunction putBucketAccelerate(params, callback) {\n\n    if (!params['AccelerateConfiguration']) {\n        callback(util.error(new Error('missing param AccelerateConfiguration')));\n        return;\n    }\n\n    var configuration = { AccelerateConfiguration: params.AccelerateConfiguration || {} };\n\n    var xml = util.json2xml(configuration);\n\n    var headers = {};\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketAccelerate',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'accelerate',\n        headers: headers,\n    }, function (err, data) {\n        if (err) return callback(err);\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\nfunction getBucketAccelerate(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketAccelerate',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        action: 'accelerate',\n    }, function (err, data) {\n        if (!err) {\n            !data.AccelerateConfiguration && (data.AccelerateConfiguration = {});\n        }\n        callback(err, data);\n    });\n}\n\nfunction putBucketEncryption(params, callback) {\n    var conf = params.ServerSideEncryptionConfiguration || {};\n    var Rules = conf.Rule || conf.Rules || [];\n    var xml = util.json2xml({ServerSideEncryptionConfiguration: {Rule:Rules}});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutBucketEncryption',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'encryption',\n        headers: headers,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\nfunction getBucketEncryption(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketEncryption',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'encryption',\n    }, function (err, data) {\n        if (err) {\n            if (err.statusCode === 404 && err.code === 'NoSuchEncryptionConfiguration') {\n                var result = {\n                    EncryptionConfiguration: {Rules: []},\n                    statusCode: err.statusCode,\n                };\n                err.headers && (result.headers = err.headers);\n                callback(null, result);\n            } else {\n                callback(err);\n            }\n            return;\n        }\n        var Rules = util.makeArray(data.EncryptionConfiguration && data.EncryptionConfiguration.Rule || []);\n        data.EncryptionConfiguration = {Rules: Rules};\n        callback(err, data);\n    });\n}\n\nfunction deleteBucketEncryption(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteBucketReplication',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'encryption',\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n// Object \u76F8\u5173\n\n/**\n * \u53D6\u56DE\u5BF9\u5E94Object\u7684\u5143\u6570\u636E\uFF0CHead\u7684\u6743\u9650\u4E0EGet\u7684\u6743\u9650\u4E00\u81F4\n * @param  {Object}  params                         \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket              Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region              \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key                 \u6587\u4EF6\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.IfModifiedSince     \u5F53Object\u5728\u6307\u5B9A\u65F6\u95F4\u540E\u88AB\u4FEE\u6539\uFF0C\u5219\u8FD4\u56DE\u5BF9\u5E94Object\u5143\u4FE1\u606F\uFF0C\u5426\u5219\u8FD4\u56DE304\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                           \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          \u4E3A\u6307\u5B9A object \u7684\u5143\u6570\u636E\uFF0C\u5982\u679C\u8BBE\u7F6E\u4E86 IfModifiedSince \uFF0C\u4E14\u6587\u4EF6\u672A\u4FEE\u6539\uFF0C\u5219\u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61\uFF0CNotModified \u5C5E\u6027\u4E3A true\n *     @return  {Boolean}  data.NotModified         \u662F\u5426\u5728 IfModifiedSince \u65F6\u95F4\u70B9\u4E4B\u540E\u672A\u4FEE\u6539\u8BE5 object\uFF0C\u5219\u4E3A true\n */\nfunction headObject(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:HeadObject',\n        method: 'HEAD',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        VersionId: params.VersionId,\n        headers: params.Headers,\n    }, function (err, data) {\n        if (err) {\n            var statusCode = err.statusCode;\n            if (params.Headers['If-Modified-Since'] && statusCode && statusCode === 304) {\n                return callback(null, {\n                    NotModified: true,\n                    statusCode: statusCode,\n                });\n            }\n            return callback(err);\n        }\n        data.ETag = util.attr(data.headers, 'etag', '');\n        callback(null, data);\n    });\n}\n\n\nfunction listObjectVersions(params, callback) {\n    var reqParams = {};\n    reqParams['prefix'] = params['Prefix'] || '';\n    reqParams['delimiter'] = params['Delimiter'];\n    reqParams['key-marker'] = params['KeyMarker'];\n    reqParams['version-id-marker'] = params['VersionIdMarker'];\n    reqParams['max-keys'] = params['MaxKeys'];\n    reqParams['encoding-type'] = params['EncodingType'];\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetBucketObjectVersions',\n        ResourceKey: reqParams['prefix'],\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        qs: reqParams,\n        action: 'versions',\n    }, function (err, data) {\n        if (err) return callback(err);\n        var ListVersionsResult = data.ListVersionsResult || {};\n        var DeleteMarkers = ListVersionsResult.DeleteMarker || [];\n        DeleteMarkers = util.isArray(DeleteMarkers) ? DeleteMarkers : [DeleteMarkers];\n        var Versions = ListVersionsResult.Version || [];\n        Versions = util.isArray(Versions) ? Versions : [Versions];\n\n        var result = util.clone(ListVersionsResult);\n        delete result.DeleteMarker;\n        delete result.Version;\n        util.extend(result, {\n            DeleteMarkers: DeleteMarkers,\n            Versions: Versions,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n\n        callback(null, result);\n    });\n}\n\n/**\n * \u4E0B\u8F7D object\n * @param  {Object}  params                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key                         \u6587\u4EF6\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {WriteStream}  params.Output                 \u6587\u4EF6\u5199\u5165\u6D41\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.IfModifiedSince             \u5F53Object\u5728\u6307\u5B9A\u65F6\u95F4\u540E\u88AB\u4FEE\u6539\uFF0C\u5219\u8FD4\u56DE\u5BF9\u5E94Object\u5143\u4FE1\u606F\uFF0C\u5426\u5219\u8FD4\u56DE304\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.IfUnmodifiedSince           \u5982\u679C\u6587\u4EF6\u4FEE\u6539\u65F6\u95F4\u65E9\u4E8E\u6216\u7B49\u4E8E\u6307\u5B9A\u65F6\u95F4\uFF0C\u624D\u8FD4\u56DE\u6587\u4EF6\u5185\u5BB9\u3002\u5426\u5219\u8FD4\u56DE 412 (precondition failed)\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.IfMatch                     \u5F53 ETag \u4E0E\u6307\u5B9A\u7684\u5185\u5BB9\u4E00\u81F4\uFF0C\u624D\u8FD4\u56DE\u6587\u4EF6\u3002\u5426\u5219\u8FD4\u56DE 412 (precondition failed)\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.IfNoneMatch                 \u5F53 ETag \u4E0E\u6307\u5B9A\u7684\u5185\u5BB9\u4E0D\u4E00\u81F4\uFF0C\u624D\u8FD4\u56DE\u6587\u4EF6\u3002\u5426\u5219\u8FD4\u56DE304 (not modified)\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ResponseContentType         \u8BBE\u7F6E\u8FD4\u56DE\u5934\u90E8\u4E2D\u7684 Content-Type \u53C2\u6570\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ResponseContentLanguage     \u8BBE\u7F6E\u8FD4\u56DE\u5934\u90E8\u4E2D\u7684 Content-Language \u53C2\u6570\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ResponseExpires             \u8BBE\u7F6E\u8FD4\u56DE\u5934\u90E8\u4E2D\u7684 Content-Expires \u53C2\u6570\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ResponseCacheControl        \u8BBE\u7F6E\u8FD4\u56DE\u5934\u90E8\u4E2D\u7684 Cache-Control \u53C2\u6570\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ResponseContentDisposition  \u8BBE\u7F6E\u8FD4\u56DE\u5934\u90E8\u4E2D\u7684 Content-Disposition \u53C2\u6570\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ResponseContentEncoding     \u8BBE\u7F6E\u8FD4\u56DE\u5934\u90E8\u4E2D\u7684 Content-Encoding \u53C2\u6570\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @param  {Object}  err                                    \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @param  {Object}  data                                   \u4E3A\u5BF9\u5E94\u7684 object \u6570\u636E\uFF0C\u5305\u62EC body \u548C headers\n */\nfunction getObject(params, callback) {\n    var reqParams = params.Query || {};\n    var reqParamsStr = params.QueryString || '';\n    var onProgress = util.throttleOnProgress.call(this, 0, params.onProgress);\n\n    reqParams['response-content-type'] = params['ResponseContentType'];\n    reqParams['response-content-language'] = params['ResponseContentLanguage'];\n    reqParams['response-expires'] = params['ResponseExpires'];\n    reqParams['response-cache-control'] = params['ResponseCacheControl'];\n    reqParams['response-content-disposition'] = params['ResponseContentDisposition'];\n    reqParams['response-content-encoding'] = params['ResponseContentEncoding'];\n\n    // \u5982\u679C\u7528\u6237\u81EA\u5DF1\u4F20\u5165\u4E86 output\n    submitRequest.call(this, {\n        Action: 'name/cos:GetObject',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        VersionId: params.VersionId,\n        DataType: params.DataType,\n        headers: params.Headers,\n        qs: reqParams,\n        qsStr: reqParamsStr,\n        rawBody: true,\n        onDownloadProgress: onProgress,\n    }, function (err, data) {\n        onProgress(null, true);\n        if (err) {\n            var statusCode = err.statusCode;\n            if (params.Headers['If-Modified-Since'] && statusCode && statusCode === 304) {\n                return callback(null, {\n                    NotModified: true\n                });\n            }\n            return callback(err);\n        }\n        callback(null, {\n            Body: data.body,\n            ETag: util.attr(data.headers, 'etag', ''),\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n\n}\n\n/**\n * \u4E0A\u4F20 object\n * @param  {Object} params                                          \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                              Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                              \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key                                 \u6587\u4EF6\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {File || Blob || String}  params.Body                \u4E0A\u4F20\u6587\u4EF6\u5BF9\u8C61\u6216\u5B57\u7B26\u4E32\uFF0C\u5FC5\u987B\n *     @param  {String}  params.CacheControl                        RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u7F13\u5B58\u7B56\u7565\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentDisposition                  RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u6587\u4EF6\u540D\u79F0\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentEncoding                     RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u7F16\u7801\u683C\u5F0F\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentLength                       RFC 2616 \u4E2D\u5B9A\u4E49\u7684 HTTP \u8BF7\u6C42\u5185\u5BB9\u957F\u5EA6\uFF08\u5B57\u8282\uFF09\uFF0C\u5FC5\u987B\n *     @param  {String}  params.ContentType                         RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u5185\u5BB9\u7C7B\u578B\uFF08MIME\uFF09\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.Expect                              \u5F53\u4F7F\u7528 Expect: 100-continue \u65F6\uFF0C\u5728\u6536\u5230\u670D\u52A1\u7AEF\u786E\u8BA4\u540E\uFF0C\u624D\u4F1A\u53D1\u9001\u8BF7\u6C42\u5185\u5BB9\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.Expires                             RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u8FC7\u671F\u65F6\u95F4\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ACL                                 \u5141\u8BB8\u7528\u6237\u81EA\u5B9A\u4E49\u6587\u4EF6\u6743\u9650\uFF0C\u6709\u6548\u503C\uFF1Aprivate | public-read\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantRead                           \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u53D6\u5BF9\u8C61\u7684\u6743\u9650\uFF0C\u683C\u5F0F\uFF1Aid=\"[OwnerUin]\"\uFF0C\u53EF\u4F7F\u7528\u534A\u89D2\u9017\u53F7\uFF08,\uFF09\u5206\u9694\u591A\u7EC4\u88AB\u6388\u6743\u8005\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantReadAcp                        \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u53D6\u5BF9\u8C61\u7684\u8BBF\u95EE\u63A7\u5236\u5217\u8868\uFF08ACL\uFF09\u7684\u6743\u9650\uFF0C\u683C\u5F0F\uFF1Aid=\"[OwnerUin]\"\uFF0C\u53EF\u4F7F\u7528\u534A\u89D2\u9017\u53F7\uFF08,\uFF09\u5206\u9694\u591A\u7EC4\u88AB\u6388\u6743\u8005\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantWriteAcp                       \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u5199\u5165\u5BF9\u8C61\u7684\u8BBF\u95EE\u63A7\u5236\u5217\u8868\uFF08ACL\uFF09\u7684\u6743\u9650\uFF0C\u683C\u5F0F\uFF1Aid=\"[OwnerUin]\"\uFF0C\u53EF\u4F7F\u7528\u534A\u89D2\u9017\u53F7\uFF08,\uFF09\u5206\u9694\u591A\u7EC4\u88AB\u6388\u6743\u8005\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantFullControl                    \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u64CD\u4F5C\u5BF9\u8C61\u7684\u6240\u6709\u6743\u9650\uFF0C\u683C\u5F0F\uFF1Aid=\"[OwnerUin]\"\uFF0C\u53EF\u4F7F\u7528\u534A\u89D2\u9017\u53F7\uFF08,\uFF09\u5206\u9694\u591A\u7EC4\u88AB\u6388\u6743\u8005\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.StorageClass                        \u8BBE\u7F6E\u5BF9\u8C61\u7684\u5B58\u50A8\u7EA7\u522B\uFF0C\u679A\u4E3E\u503C\uFF1ASTANDARD\u3001STANDARD_IA\u3001ARCHIVE\uFF0C\u9ED8\u8BA4\u503C\uFF1ASTANDARD\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.x-cos-meta-*                        \u5141\u8BB8\u7528\u6237\u81EA\u5B9A\u4E49\u7684\u5934\u90E8\u4FE1\u606F\uFF0C\u5C06\u4F5C\u4E3A\u5BF9\u8C61\u7684\u5143\u6570\u636E\u4FDD\u5B58\u3002\u5927\u5C0F\u9650\u52362KB\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentSha1                         RFC 3174 \u4E2D\u5B9A\u4E49\u7684 160-bit \u5185\u5BB9 SHA-1 \u7B97\u6CD5\u6821\u9A8C\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ServerSideEncryption                \u652F\u6301\u6309\u7167\u6307\u5B9A\u7684\u52A0\u5BC6\u7B97\u6CD5\u8FDB\u884C\u670D\u52A1\u7AEF\u6570\u636E\u52A0\u5BC6\uFF0C\u683C\u5F0F x-cos-server-side-encryption: \"AES256\"\uFF0C\u975E\u5FC5\u987B\n *     @param  {Function}  params.onProgress                        \u4E0A\u4F20\u8FDB\u5EA6\u56DE\u8C03\u51FD\u6570\n * @param  {Function}  callback                                     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                           \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                          \u4E3A\u5BF9\u5E94\u7684 object \u6570\u636E\n *     @return  {String}  data.ETag                                 \u4E3A\u5BF9\u5E94\u4E0A\u4F20\u6587\u4EF6\u7684 ETag \u503C\n */\nfunction putObject(params, callback) {\n    var self = this;\n    var FileSize = params.ContentLength;\n    var onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress);\n\n    // \u7279\u6B8A\u5904\u7406 Cache-Control\u3001Content-Type\uFF0C\u907F\u514D\u4EE3\u7406\u66F4\u6539\u8FD9\u4E24\u4E2A\u5B57\u6BB5\u5BFC\u81F4\u5199\u5165\u5230 Object \u5C5E\u6027\u91CC\n    var headers = params.Headers;\n    if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n    if (!headers['Content-Type'] && !headers['content-type']) headers['Content-Type'] = params.Body && params.Body.type || '';\n    var needCalcMd5 = params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5 || self.options.UploadCheckContentMd5;\n    util.getBodyMd5(needCalcMd5, params.Body, function (md5) {\n        if (md5) {\n            if (self.options.UploadCheckContentMd5) headers['Content-MD5'] = util.binaryBase64(md5);\n            if (params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5) headers['x-cos-meta-md5'] = md5;\n        }\n        if (params.ContentLength !== undefined) headers['Content-Length'] = params.ContentLength;\n        onProgress(null, true); // \u4EFB\u52A1\u72B6\u6001\u5F00\u59CB uploading\n        submitRequest.call(self, {\n            Action: 'name/cos:PutObject',\n            TaskId: params.TaskId,\n            method: 'PUT',\n            Bucket: params.Bucket,\n            Region: params.Region,\n            Key: params.Key,\n            headers: params.Headers,\n            qs: params.Query,\n            body: params.Body,\n            onProgress: onProgress,\n        }, function (err, data) {\n            if (err) {\n                onProgress(null, true);\n                return callback(err);\n            }\n            onProgress({loaded: FileSize, total: FileSize}, true);\n            var url = getUrl({\n                ForcePathStyle: self.options.ForcePathStyle,\n                protocol: self.options.Protocol,\n                domain: self.options.Domain,\n                bucket: params.Bucket,\n                region: !self.options.UseAccelerate ? params.Region : 'accelerate',\n                object: params.Key,\n            });\n            url = url.substr(url.indexOf('://') + 3);\n            data.Location = url;\n            data.ETag = util.attr(data.headers, 'etag', '');\n            callback(null, data);\n        });\n    }, params.onHashProgress);\n}\n\n/**\n * \u5220\u9664 object\n * @param  {Object}  params                     \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket          Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region          \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key             object\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback                 \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @param  {Object}  err                        \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @param  {Object}  data                       \u5220\u9664\u64CD\u4F5C\u6210\u529F\u4E4B\u540E\u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction deleteObject(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteObject',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        headers: params.Headers,\n        VersionId: params.VersionId,\n        action: params.Recursive ? 'recursive' : '',\n    }, function (err, data) {\n        if (err) {\n            var statusCode = err.statusCode;\n            if (statusCode && statusCode === 404) {\n                return callback(null, {BucketNotFound: true, statusCode: statusCode,});\n            } else {\n                return callback(err);\n            }\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 object \u7684 \u6743\u9650\u5217\u8868\n * @param  {Object}  params                         \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket              Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region              \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key                 object\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback                     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                           \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {Object}  data.AccessControlPolicy  \u6743\u9650\u5217\u8868\n */\nfunction getObjectAcl(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetObjectACL',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        headers: params.Headers,\n        action: 'acl',\n    }, function (err, data) {\n        if (err) return callback(err);\n        var AccessControlPolicy = data.AccessControlPolicy || {};\n        var Owner = AccessControlPolicy.Owner || {};\n        var Grant = AccessControlPolicy.AccessControlList && AccessControlPolicy.AccessControlList.Grant || [];\n        Grant = util.isArray(Grant) ? Grant : [Grant];\n        var result = decodeAcl(AccessControlPolicy);\n        delete result.GrantWrite;\n        if (data.headers && data.headers['x-cos-acl']) {\n            result.ACL = data.headers['x-cos-acl'];\n        }\n        result = util.extend(result, {\n            Owner: Owner,\n            Grants: Grant,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n        callback(null, result);\n    });\n}\n\n/**\n * \u8BBE\u7F6E object \u7684 \u6743\u9650\u5217\u8868\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key     object\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction putObjectAcl(params, callback) {\n    var headers = params.Headers;\n\n    var xml = '';\n    if (params['AccessControlPolicy']) {\n        var AccessControlPolicy = util.clone(params['AccessControlPolicy'] || {});\n        var Grants = AccessControlPolicy.Grants || AccessControlPolicy.Grant;\n        Grants = util.isArray(Grants) ? Grants : [Grants];\n        delete AccessControlPolicy.Grant;\n        delete AccessControlPolicy.Grants;\n        AccessControlPolicy.AccessControlList = {Grant: Grants};\n        xml = util.json2xml({AccessControlPolicy: AccessControlPolicy});\n\n        headers['Content-Type'] = 'application/xml';\n        headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n    }\n\n    // Grant Header \u53BB\u91CD\n    util.each(headers, function (val, key) {\n        if (key.indexOf('x-cos-grant-') === 0) {\n            headers[key] = uniqGrant(headers[key]);\n        }\n    });\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutObjectACL',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        action: 'acl',\n        headers: headers,\n        body: xml,\n    }, function (err, data) {\n        if (err) return callback(err);\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * Options Object\u8BF7\u6C42\u5B9E\u73B0\u8DE8\u57DF\u8BBF\u95EE\u7684\u9884\u8BF7\u6C42\u3002\u5373\u53D1\u51FA\u4E00\u4E2A OPTIONS \u8BF7\u6C42\u7ED9\u670D\u52A1\u5668\u4EE5\u786E\u8BA4\u662F\u5426\u53EF\u4EE5\u8FDB\u884C\u8DE8\u57DF\u64CD\u4F5C\u3002\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key     object\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction optionsObject(params, callback) {\n\n    var headers = params.Headers;\n    headers['Origin'] = params['Origin'];\n    headers['Access-Control-Request-Method'] = params['AccessControlRequestMethod'];\n    headers['Access-Control-Request-Headers'] = params['AccessControlRequestHeaders'];\n\n    submitRequest.call(this, {\n        Action: 'name/cos:OptionsObject',\n        method: 'OPTIONS',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        headers: headers,\n    }, function (err, data) {\n        if (err) {\n            if (err.statusCode && err.statusCode === 403) {\n                return callback(null, {\n                    OptionsForbidden: true,\n                    statusCode: err.statusCode\n                });\n            }\n            return callback(err);\n        }\n\n        var headers = data.headers || {};\n        callback(null, {\n            AccessControlAllowOrigin: headers['access-control-allow-origin'],\n            AccessControlAllowMethods: headers['access-control-allow-methods'],\n            AccessControlAllowHeaders: headers['access-control-allow-headers'],\n            AccessControlExposeHeaders: headers['access-control-expose-headers'],\n            AccessControlMaxAge: headers['access-control-max-age'],\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * @param  {Object}                                     \u53C2\u6570\u5217\u8868\n *     @param  {String}  Bucket                         Bucket \u540D\u79F0\n *     @param  {String}  Region                         \u5730\u57DF\u540D\u79F0\n *     @param  {String}  Key                            \u6587\u4EF6\u540D\u79F0\n *     @param  {String}  CopySource                     \u6E90\u6587\u4EF6URL\u7EDD\u5BF9\u8DEF\u5F84\uFF0C\u53EF\u4EE5\u901A\u8FC7versionid\u5B50\u8D44\u6E90\u6307\u5B9A\u5386\u53F2\u7248\u672C\n *     @param  {String}  ACL                            \u5141\u8BB8\u7528\u6237\u81EA\u5B9A\u4E49\u6587\u4EF6\u6743\u9650\u3002\u6709\u6548\u503C\uFF1Aprivate\uFF0Cpublic-read\u9ED8\u8BA4\u503C\uFF1Aprivate\u3002\n *     @param  {String}  GrantRead                      \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u7684\u6743\u9650\uFF0C\u683C\u5F0F x-cos-grant-read: uin=\" \",uin=\" \"\uFF0C\u5F53\u9700\u8981\u7ED9\u5B50\u8D26\u6237\u6388\u6743\u65F6\uFF0Cuin=\"RootAcountID/SubAccountID\"\uFF0C\u5F53\u9700\u8981\u7ED9\u6839\u8D26\u6237\u6388\u6743\u65F6\uFF0Cuin=\"RootAcountID\"\u3002\n *     @param  {String}  GrantWrite                     \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u5199\u7684\u6743\u9650\uFF0C\u683C\u5F0F x-cos-grant-write: uin=\" \",uin=\" \"\uFF0C\u5F53\u9700\u8981\u7ED9\u5B50\u8D26\u6237\u6388\u6743\u65F6\uFF0Cuin=\"RootAcountID/SubAccountID\"\uFF0C\u5F53\u9700\u8981\u7ED9\u6839\u8D26\u6237\u6388\u6743\u65F6\uFF0Cuin=\"RootAcountID\"\u3002\n *     @param  {String}  GrantFullControl               \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u5199\u6743\u9650\uFF0C\u683C\u5F0F x-cos-grant-full-control: uin=\" \",uin=\" \"\uFF0C\u5F53\u9700\u8981\u7ED9\u5B50\u8D26\u6237\u6388\u6743\u65F6\uFF0Cuin=\"RootAcountID/SubAccountID\"\uFF0C\u5F53\u9700\u8981\u7ED9\u6839\u8D26\u6237\u6388\u6743\u65F6\uFF0Cuin=\"RootAcountID\"\u3002\n *     @param  {String}  MetadataDirective              \u662F\u5426\u62F7\u8D1D\u5143\u6570\u636E\uFF0C\u679A\u4E3E\u503C\uFF1ACopy, Replaced\uFF0C\u9ED8\u8BA4\u503CCopy\u3002\u5047\u5982\u6807\u8BB0\u4E3ACopy\uFF0C\u5FFD\u7565Header\u4E2D\u7684\u7528\u6237\u5143\u6570\u636E\u4FE1\u606F\u76F4\u63A5\u590D\u5236\uFF1B\u5047\u5982\u6807\u8BB0\u4E3AReplaced\uFF0C\u6309Header\u4FE1\u606F\u4FEE\u6539\u5143\u6570\u636E\u3002\u5F53\u76EE\u6807\u8DEF\u5F84\u548C\u539F\u8DEF\u5F84\u4E00\u81F4\uFF0C\u5373\u7528\u6237\u8BD5\u56FE\u4FEE\u6539\u5143\u6570\u636E\u65F6\uFF0C\u5FC5\u987B\u4E3AReplaced\n *     @param  {String}  CopySourceIfModifiedSince      \u5F53Object\u5728\u6307\u5B9A\u65F6\u95F4\u540E\u88AB\u4FEE\u6539\uFF0C\u5219\u6267\u884C\u64CD\u4F5C\uFF0C\u5426\u5219\u8FD4\u56DE412\u3002\u53EF\u4E0Ex-cos-copy-source-If-None-Match\u4E00\u8D77\u4F7F\u7528\uFF0C\u4E0E\u5176\u4ED6\u6761\u4EF6\u8054\u5408\u4F7F\u7528\u8FD4\u56DE\u51B2\u7A81\u3002\n *     @param  {String}  CopySourceIfUnmodifiedSince    \u5F53Object\u5728\u6307\u5B9A\u65F6\u95F4\u540E\u672A\u88AB\u4FEE\u6539\uFF0C\u5219\u6267\u884C\u64CD\u4F5C\uFF0C\u5426\u5219\u8FD4\u56DE412\u3002\u53EF\u4E0Ex-cos-copy-source-If-Match\u4E00\u8D77\u4F7F\u7528\uFF0C\u4E0E\u5176\u4ED6\u6761\u4EF6\u8054\u5408\u4F7F\u7528\u8FD4\u56DE\u51B2\u7A81\u3002\n *     @param  {String}  CopySourceIfMatch              \u5F53Object\u7684ETag\u548C\u7ED9\u5B9A\u4E00\u81F4\u65F6\uFF0C\u5219\u6267\u884C\u64CD\u4F5C\uFF0C\u5426\u5219\u8FD4\u56DE412\u3002\u53EF\u4E0Ex-cos-copy-source-If-Unmodified-Since\u4E00\u8D77\u4F7F\u7528\uFF0C\u4E0E\u5176\u4ED6\u6761\u4EF6\u8054\u5408\u4F7F\u7528\u8FD4\u56DE\u51B2\u7A81\u3002\n *     @param  {String}  CopySourceIfNoneMatch          \u5F53Object\u7684ETag\u548C\u7ED9\u5B9A\u4E0D\u4E00\u81F4\u65F6\uFF0C\u5219\u6267\u884C\u64CD\u4F5C\uFF0C\u5426\u5219\u8FD4\u56DE412\u3002\u53EF\u4E0Ex-cos-copy-source-If-Modified-Since\u4E00\u8D77\u4F7F\u7528\uFF0C\u4E0E\u5176\u4ED6\u6761\u4EF6\u8054\u5408\u4F7F\u7528\u8FD4\u56DE\u51B2\u7A81\u3002\n *     @param  {String}  StorageClass                   \u5B58\u50A8\u7EA7\u522B\uFF0C\u679A\u4E3E\u503C\uFF1A\u5B58\u50A8\u7EA7\u522B\uFF0C\u679A\u4E3E\u503C\uFF1AStandard, Standard_IA\uFF0CArchive\uFF1B\u9ED8\u8BA4\u503C\uFF1AStandard\n *     @param  {String}  CacheControl                   \u6307\u5B9A\u6240\u6709\u7F13\u5B58\u673A\u5236\u5728\u6574\u4E2A\u8BF7\u6C42/\u54CD\u5E94\u94FE\u4E2D\u5FC5\u987B\u670D\u4ECE\u7684\u6307\u4EE4\u3002\n *     @param  {String}  ContentDisposition             MIME \u534F\u8BAE\u7684\u6269\u5C55\uFF0CMIME \u534F\u8BAE\u6307\u793A MIME \u7528\u6237\u4EE3\u7406\u5982\u4F55\u663E\u793A\u9644\u52A0\u7684\u6587\u4EF6\n *     @param  {String}  ContentEncoding                HTTP \u4E2D\u7528\u6765\u5BF9\u300C\u91C7\u7528\u4F55\u79CD\u7F16\u7801\u683C\u5F0F\u4F20\u8F93\u6B63\u6587\u300D\u8FDB\u884C\u534F\u5B9A\u7684\u4E00\u5BF9\u5934\u90E8\u5B57\u6BB5\n *     @param  {String}  ContentLength                  \u8BBE\u7F6E\u54CD\u5E94\u6D88\u606F\u7684\u5B9E\u4F53\u5185\u5BB9\u7684\u5927\u5C0F\uFF0C\u5355\u4F4D\u4E3A\u5B57\u8282\n *     @param  {String}  ContentType                    RFC 2616 \u4E2D\u5B9A\u4E49\u7684 HTTP \u8BF7\u6C42\u5185\u5BB9\u7C7B\u578B\uFF08MIME\uFF09\uFF0C\u4F8B\u5982text/plain\n *     @param  {String}  Expect                         \u8BF7\u6C42\u7684\u7279\u5B9A\u7684\u670D\u52A1\u5668\u884C\u4E3A\n *     @param  {String}  Expires                        \u54CD\u5E94\u8FC7\u671F\u7684\u65E5\u671F\u548C\u65F6\u95F4\n *     @param  {String}  params.ServerSideEncryption   \u652F\u6301\u6309\u7167\u6307\u5B9A\u7684\u52A0\u5BC6\u7B97\u6CD5\u8FDB\u884C\u670D\u52A1\u7AEF\u6570\u636E\u52A0\u5BC6\uFF0C\u683C\u5F0F x-cos-server-side-encryption: \"AES256\"\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  ContentLanguage                \u6307\u5B9A\u5185\u5BB9\u8BED\u8A00\n *     @param  {String}  x-cos-meta-*                   \u5141\u8BB8\u7528\u6237\u81EA\u5B9A\u4E49\u7684\u5934\u90E8\u4FE1\u606F\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u8FD4\u56DE\u3002\u5927\u5C0F\u9650\u52362K\u3002\n */\nfunction putObjectCopy(params, callback) {\n\n    // \u7279\u6B8A\u5904\u7406 Cache-Control\n    var self = this;\n    var headers = params.Headers;\n    if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n\n    var CopySource = params.CopySource || '';\n    var m = util.getSourceParams.call(this, CopySource);\n    if (!m) {\n        callback(util.error(new Error('CopySource format error')));\n        return;\n    }\n\n    var SourceBucket = m[1];\n    var SourceRegion = m[3];\n    var SourceKey = decodeURIComponent(m[4]);\n\n    submitRequest.call(this, {\n        Scope: [{\n            action: 'name/cos:GetObject',\n            bucket: SourceBucket,\n            region: SourceRegion,\n            prefix: SourceKey,\n        }, {\n            action: 'name/cos:PutObject',\n            bucket: params.Bucket,\n            region: params.Region,\n            prefix: params.Key,\n        }],\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        VersionId: params.VersionId,\n        headers: params.Headers,\n    }, function (err, data) {\n        if (err) return callback(err);\n        var result = util.clone(data.CopyObjectResult || {});\n        var url = getUrl({\n            ForcePathStyle: self.options.ForcePathStyle,\n            protocol: self.options.Protocol,\n            domain: self.options.Domain,\n            bucket: params.Bucket,\n            region: params.Region,\n            object: params.Key,\n            isLocation: true,\n        });\n        util.extend(result, {\n            Location: url,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n        callback(null, result);\n    });\n}\n\nfunction uploadPartCopy(params, callback) {\n\n    var CopySource = params.CopySource || '';\n    var m = util.getSourceParams.call(this, CopySource);\n    if (!m) {\n        callback(util.error(new Error('CopySource format error')));\n        return;\n    }\n\n    var SourceBucket = m[1];\n    var SourceRegion = m[3];\n    var SourceKey = decodeURIComponent(m[4]);\n\n    submitRequest.call(this, {\n        Scope: [{\n            action: 'name/cos:GetObject',\n            bucket: SourceBucket,\n            region: SourceRegion,\n            prefix: SourceKey,\n        }, {\n            action: 'name/cos:PutObject',\n            bucket: params.Bucket,\n            region: params.Region,\n            prefix: params.Key,\n        }],\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        VersionId: params.VersionId,\n        qs: {\n            partNumber: params['PartNumber'],\n            uploadId: params['UploadId'],\n        },\n        headers: params.Headers,\n    }, function (err, data) {\n        if (err) return callback(err);\n        var result = util.clone(data.CopyPartResult || {});\n        util.extend(result, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n        callback(null, result);\n    });\n}\n\nfunction deleteMultipleObject(params, callback) {\n    var Objects = params.Objects || [];\n    var Quiet = params.Quiet;\n    Objects = util.isArray(Objects) ? Objects : [Objects];\n\n    var xml = util.json2xml({Delete: {Object: Objects, Quiet: Quiet || false}});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    var Scope = util.map(Objects, function (v) {\n        return {\n            action: 'name/cos:DeleteObject',\n            bucket: params.Bucket,\n            region: params.Region,\n            prefix: v.Key,\n        };\n    });\n\n    submitRequest.call(this, {\n        Scope: Scope,\n        method: 'POST',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        body: xml,\n        action: 'delete',\n        headers: headers,\n    }, function (err, data) {\n        if (err) return callback(err);\n        var DeleteResult = data.DeleteResult || {};\n        var Deleted = DeleteResult.Deleted || [];\n        var Errors = DeleteResult.Error || [];\n\n        Deleted = util.isArray(Deleted) ? Deleted : [Deleted];\n        Errors = util.isArray(Errors) ? Errors : [Errors];\n\n        var result = util.clone(DeleteResult);\n        util.extend(result, {\n            Error: Errors,\n            Deleted: Deleted,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n        callback(null, result);\n    });\n}\n\nfunction restoreObject(params, callback) {\n    var headers = params.Headers;\n    if (!params['RestoreRequest']) {\n        callback(util.error(new Error('missing param RestoreRequest')));\n        return;\n    }\n\n    var RestoreRequest = params.RestoreRequest || {};\n    var xml = util.json2xml({RestoreRequest: RestoreRequest});\n\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:RestoreObject',\n        method: 'POST',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        VersionId: params.VersionId,\n        body: xml,\n        action: 'restore',\n        headers: headers,\n    }, callback);\n}\n\n/**\n * \u8BBE\u7F6E Object \u7684\u6807\u7B7E\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {Array}   params.TagSet  \u6807\u7B7E\u8BBE\u7F6E\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/42998\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction putObjectTagging(params, callback) {\n\n    var Tagging = params['Tagging'] || {};\n    var Tags = Tagging.TagSet || Tagging.Tags || params['Tags'] || [];\n    Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n    var xml = util.json2xml({Tagging: {TagSet: {Tag: Tags}}});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:PutObjectTagging',\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Key: params.Key,\n        Region: params.Region,\n        body: xml,\n        action: 'tagging',\n        headers: headers,\n        VersionId: params.VersionId,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u83B7\u53D6 Object \u7684\u6807\u7B7E\u8BBE\u7F6E\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/42998\n * @return  {Object}  data              \u8FD4\u56DE\u6570\u636E\n */\nfunction getObjectTagging(params, callback) {\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetObjectTagging',\n        method: 'GET',\n        Key: params.Key,\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        action: 'tagging',\n        VersionId: params.VersionId,\n    }, function (err, data) {\n        if (err) {\n            if (err.statusCode === 404 && err.error && (err.error === \"Not Found\" || err.error.Code === 'NoSuchTagSet')) {\n                var result = {\n                    Tags: [],\n                    statusCode: err.statusCode,\n                };\n                err.headers && (result.headers = err.headers);\n                callback(null, result);\n            } else {\n                callback(err);\n            }\n            return;\n        }\n        var Tags = [];\n        try {\n            Tags = data.Tagging.TagSet.Tag || [];\n        } catch (e) {\n        }\n        Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n        callback(null, {\n            Tags: Tags,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u5220\u9664 Object \u7684 \u6807\u7B7E\u8BBE\u7F6E\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket  Object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/42998\n * @return  {Object}  data              \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction deleteObjectTagging(params, callback) {\n    submitRequest.call(this, {\n        Action: 'name/cos:DeleteObjectTagging',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        headers: params.Headers,\n        action: 'tagging',\n        VersionId: params.VersionId,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u4F7F\u7528 SQL \u8BED\u53E5\u4ECE\u6307\u5B9A\u5BF9\u8C61\uFF08CSV \u683C\u5F0F\u6216\u8005 JSON \u683C\u5F0F\uFF09\u4E2D\u68C0\u7D22\u5185\u5BB9\n * @param  {Object}  params                   \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket        Object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region        \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {Object}  params.SelectRequest \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n * @param  {Function}  callback               \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                     \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/42998\n * @return  {Object}  data                    \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction selectObjectContent(params, callback) {\n    var SelectType = params['SelectType'];\n    if (!SelectType) return callback(util.error(new Error('missing param SelectType')));\n\n    var SelectRequest = params['SelectRequest'] || {};\n    var xml = util.json2xml({SelectRequest: SelectRequest});\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:GetObject',\n        method: 'POST',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        headers: params.Headers,\n        action: 'select',\n        qs: {\n            'select-type': params['SelectType'],\n        },\n        VersionId: params.VersionId,\n        body: xml,\n        DataType: 'arraybuffer',\n        rawBody: true,\n    }, function (err, data) {\n        if (err && err.statusCode === 204) {\n            return callback(null, {statusCode: err.statusCode});\n        } else if (err) {\n            return callback(err);\n        }\n        var result = util.parseSelectPayload(data.body);\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n            Body: result.body,\n            Payload: result.payload,\n        });\n    });\n}\n\n\n// \u5206\u5757\u4E0A\u4F20\n\n\n/**\n * \u521D\u59CB\u5316\u5206\u5757\u4E0A\u4F20\n * @param  {Object}  params                                     \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                          Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                          \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key                             object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.UploadId                        object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.CacheControl                    RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u7F13\u5B58\u7B56\u7565\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentDisposition              RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u6587\u4EF6\u540D\u79F0\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58    \uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentEncoding                 RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u7F16\u7801\u683C\u5F0F\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentType                     RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u5185\u5BB9\u7C7B\u578B\uFF08MIME\uFF09\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.Expires                         RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u8FC7\u671F\u65F6\u95F4\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ACL                             \u5141\u8BB8\u7528\u6237\u81EA\u5B9A\u4E49\u6587\u4EF6\u6743\u9650\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantRead                       \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u7684\u6743\u9650 \uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantWrite                      \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u5199\u7684\u6743\u9650 \uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantFullControl                \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u5199\u6743\u9650 \uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.StorageClass                    \u8BBE\u7F6EObject\u7684\u5B58\u50A8\u7EA7\u522B\uFF0C\u679A\u4E3E\u503C\uFF1AStandard\uFF0CStandard_IA\uFF0CArchive\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ServerSideEncryption           \u652F\u6301\u6309\u7167\u6307\u5B9A\u7684\u52A0\u5BC6\u7B97\u6CD5\u8FDB\u884C\u670D\u52A1\u7AEF\u6570\u636E\u52A0\u5BC6\uFF0C\u683C\u5F0F x-cos-server-side-encryption: \"AES256\"\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                                 \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                       \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                      \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction multipartInit(params, callback) {\n\n    var self = this;\n    // \u7279\u6B8A\u5904\u7406 Cache-Control\n    var headers = params.Headers;\n\n    // \u7279\u6B8A\u5904\u7406 Cache-Control\u3001Content-Type\n    if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n    if (!headers['Content-Type'] && !headers['content-type']) headers['Content-Type'] = params.Body && params.Body.type || '';\n\n    util.getBodyMd5(params.Body && (params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5), params.Body, function (md5) {\n        if (md5) params.Headers['x-cos-meta-md5'] = md5;\n        submitRequest.call(self, {\n            Action: 'name/cos:InitiateMultipartUpload',\n            method: 'POST',\n            Bucket: params.Bucket,\n            Region: params.Region,\n            Key: params.Key,\n            action: 'uploads',\n            headers: params.Headers,\n            qs: params.Query,\n        }, function (err, data) {\n            if (err) return callback(err);\n            data = util.clone(data || {});\n            if (data && data.InitiateMultipartUploadResult) {\n                return callback(null, util.extend(data.InitiateMultipartUploadResult, {\n                    statusCode: data.statusCode,\n                    headers: data.headers,\n                }));\n            }\n            callback(null, data);\n        });\n    }, params.onHashProgress);\n}\n\n/**\n * \u5206\u5757\u4E0A\u4F20\n * @param  {Object}  params                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key                         object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {File || Blob || String}  params.Body        \u4E0A\u4F20\u6587\u4EF6\u5BF9\u8C61\u6216\u5B57\u7B26\u4E32\n *     @param  {String} params.ContentLength                RFC 2616 \u4E2D\u5B9A\u4E49\u7684 HTTP \u8BF7\u6C42\u5185\u5BB9\u957F\u5EA6\uFF08\u5B57\u8282\uFF09\uFF0C\u975E\u5FC5\u987B\n *     @param  {String} params.Expect                       \u5F53\u4F7F\u7528 Expect: 100-continue \u65F6\uFF0C\u5728\u6536\u5230\u670D\u52A1\u7AEF\u786E\u8BA4\u540E\uFF0C\u624D\u4F1A\u53D1\u9001\u8BF7\u6C42\u5185\u5BB9\uFF0C\u975E\u5FC5\u987B\n *     @param  {String} params.ServerSideEncryption         \u652F\u6301\u6309\u7167\u6307\u5B9A\u7684\u52A0\u5BC6\u7B97\u6CD5\u8FDB\u884C\u670D\u52A1\u7AEF\u6570\u636E\u52A0\u5BC6\uFF0C\u683C\u5F0F x-cos-server-side-encryption: \"AES256\"\uFF0C\u975E\u5FC5\u987B\n *     @param  {String} params.ContentSha1                  RFC 3174 \u4E2D\u5B9A\u4E49\u7684 160-bit \u5185\u5BB9 SHA-1 \u7B97\u6CD5\u6821\u9A8C\u503C\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n *     @return  {Object}  err                               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}  data                              \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {Object}  data.ETag                         \u8FD4\u56DE\u7684\u6587\u4EF6\u5206\u5757 sha1 \u503C\n */\nfunction multipartUpload(params, callback) {\n\n    var self = this;\n    util.getFileSize('multipartUpload', params, function () {\n        util.getBodyMd5(self.options.UploadCheckContentMd5, params.Body, function (md5) {\n            if (md5) params.Headers['Content-MD5'] = util.binaryBase64(md5);\n            submitRequest.call(self, {\n                Action: 'name/cos:UploadPart',\n                TaskId: params.TaskId,\n                method: 'PUT',\n                Bucket: params.Bucket,\n                Region: params.Region,\n                Key: params.Key,\n                qs: {\n                    partNumber: params['PartNumber'],\n                    uploadId: params['UploadId'],\n                },\n                headers: params.Headers,\n                onProgress: params.onProgress,\n                body: params.Body || null\n            }, function (err, data) {\n                if (err) return callback(err);\n                callback(null, {\n                    ETag: util.attr(data.headers, 'etag', ''),\n                    statusCode: data.statusCode,\n                    headers: data.headers,\n                });\n            });\n        });\n    });\n\n}\n\n/**\n * \u5B8C\u6210\u5206\u5757\u4E0A\u4F20\n * @param  {Object}  params                             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                  Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                  \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key                     object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {Array}   params.Parts                   \u5206\u5757\u4FE1\u606F\u5217\u8868\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Parts[i].PartNumber     \u5757\u7F16\u53F7\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Parts[i].ETag           \u5206\u5757\u7684 sha1 \u6821\u9A8C\u503C\n * @param  {Function}  callback                         \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                               \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                              \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {Object}  data.CompleteMultipartUpload  \u5B8C\u6210\u5206\u5757\u4E0A\u4F20\u540E\u7684\u6587\u4EF6\u4FE1\u606F\uFF0C\u5305\u62ECLocation, Bucket, Key \u548C ETag\n */\nfunction multipartComplete(params, callback) {\n    var self = this;\n\n    var UploadId = params.UploadId;\n\n    var Parts = params['Parts'];\n\n    for (var i = 0, len = Parts.length; i < len; i++) {\n        if (Parts[i]['ETag'] && Parts[i]['ETag'].indexOf('\"') === 0) {\n            continue;\n        }\n        Parts[i]['ETag'] = '\"' + Parts[i]['ETag'] + '\"';\n    }\n\n    var xml = util.json2xml({CompleteMultipartUpload: {Part: Parts}});\n    // CSP/ceph CompleteMultipartUpload \u63A5\u53E3 body \u5199\u6B7B\u4E86\u9650\u5236 1MB\uFF0C\u8FD9\u91CC\u9189\u5012 10000 \u7247\u65F6\uFF0Cxml \u5B57\u7B26\u4E32\u53BB\u6389\u7A7A\u683C853KB\n    xml = xml.replace(/\\n\\s*/g, '');\n\n    var headers = params.Headers;\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n\n    submitRequest.call(this, {\n        Action: 'name/cos:CompleteMultipartUpload',\n        method: 'POST',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        qs: {\n            uploadId: UploadId\n        },\n        body: xml,\n        headers: headers,\n    }, function (err, data) {\n        if (err) return callback(err);\n        var url = getUrl({\n            ForcePathStyle: self.options.ForcePathStyle,\n            protocol: self.options.Protocol,\n            domain: self.options.Domain,\n            bucket: params.Bucket,\n            region: params.Region,\n            object: params.Key,\n            isLocation: true,\n        });\n        var res = data.CompleteMultipartUploadResult || {};\n        if (res.ProcessResults) {\n            if (res && res.ProcessResults) {\n                res.UploadResult = {\n                    OriginalInfo: {\n                        Key: res.Key,\n                        Location: url,\n                        ETag: res.ETag,\n                        ImageInfo: res.ImageInfo,\n                    },\n                    ProcessResults: res.ProcessResults,\n                };\n                delete res.ImageInfo;\n                delete res.ProcessResults;\n            }\n        }\n        var result = util.extend(res, {\n            Location: url,\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n        callback(null, result);\n    });\n}\n\n/**\n * \u5206\u5757\u4E0A\u4F20\u4EFB\u52A1\u5217\u8868\u67E5\u8BE2\n * @param  {Object}  params                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Delimiter                   \u5B9A\u754C\u7B26\u4E3A\u4E00\u4E2A\u7B26\u53F7\uFF0C\u5982\u679C\u6709Prefix\uFF0C\u5219\u5C06Prefix\u5230delimiter\u4E4B\u95F4\u7684\u76F8\u540C\u8DEF\u5F84\u5F52\u4E3A\u4E00\u7C7B\uFF0C\u5B9A\u4E49\u4E3ACommon Prefix\uFF0C\u7136\u540E\u5217\u51FA\u6240\u6709Common Prefix\u3002\u5982\u679C\u6CA1\u6709Prefix\uFF0C\u5219\u4ECE\u8DEF\u5F84\u8D77\u70B9\u5F00\u59CB\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.EncodingType                \u89C4\u5B9A\u8FD4\u56DE\u503C\u7684\u7F16\u7801\u65B9\u5F0F\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.Prefix                      \u524D\u7F00\u5339\u914D\uFF0C\u7528\u6765\u89C4\u5B9A\u8FD4\u56DE\u7684\u6587\u4EF6\u524D\u7F00\u5730\u5740\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.MaxUploads                  \u5355\u6B21\u8FD4\u56DE\u6700\u5927\u7684\u6761\u76EE\u6570\u91CF\uFF0C\u9ED8\u8BA41000\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.KeyMarker                   \u4E0Eupload-id-marker\u4E00\u8D77\u4F7F\u7528 </Br>\u5F53upload-id-marker\u672A\u88AB\u6307\u5B9A\u65F6\uFF0CObjectName\u5B57\u6BCD\u987A\u5E8F\u5927\u4E8Ekey-marker\u7684\u6761\u76EE\u5C06\u88AB\u5217\u51FA </Br>\u5F53upload-id-marker\u88AB\u6307\u5B9A\u65F6\uFF0CObjectName\u5B57\u6BCD\u987A\u5E8F\u5927\u4E8Ekey-marker\u7684\u6761\u76EE\u88AB\u5217\u51FA\uFF0CObjectName\u5B57\u6BCD\u987A\u5E8F\u7B49\u4E8Ekey-marker\u540C\u65F6UploadId\u5927\u4E8Eupload-id-marker\u7684\u6761\u76EE\u5C06\u88AB\u5217\u51FA\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.UploadIdMarker              \u4E0Ekey-marker\u4E00\u8D77\u4F7F\u7528 </Br>\u5F53key-marker\u672A\u88AB\u6307\u5B9A\u65F6\uFF0Cupload-id-marker\u5C06\u88AB\u5FFD\u7565 </Br>\u5F53key-marker\u88AB\u6307\u5B9A\u65F6\uFF0CObjectName\u5B57\u6BCD\u987A\u5E8F\u5927\u4E8Ekey-marker\u7684\u6761\u76EE\u88AB\u5217\u51FA\uFF0CObjectName\u5B57\u6BCD\u987A\u5E8F\u7B49\u4E8Ekey-marker\u540C\u65F6UploadId\u5927\u4E8Eupload-id-marker\u7684\u6761\u76EE\u5C06\u88AB\u5217\u51FA\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                  \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {Object}  data.ListMultipartUploadsResult   \u5206\u5757\u4E0A\u4F20\u4EFB\u52A1\u4FE1\u606F\n */\nfunction multipartList(params, callback) {\n    var reqParams = {};\n\n    reqParams['delimiter'] = params['Delimiter'];\n    reqParams['encoding-type'] = params['EncodingType'];\n    reqParams['prefix'] = params['Prefix'] || '';\n\n    reqParams['max-uploads'] = params['MaxUploads'];\n\n    reqParams['key-marker'] = params['KeyMarker'];\n    reqParams['upload-id-marker'] = params['UploadIdMarker'];\n\n    reqParams = util.clearKey(reqParams);\n\n    submitRequest.call(this, {\n        Action: 'name/cos:ListMultipartUploads',\n        ResourceKey: reqParams['prefix'],\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        headers: params.Headers,\n        qs: reqParams,\n        action: 'uploads',\n    }, function (err, data) {\n        if (err) return callback(err);\n\n        if (data && data.ListMultipartUploadsResult) {\n            var Upload = data.ListMultipartUploadsResult.Upload || [];\n            Upload = util.isArray(Upload) ? Upload : [Upload];\n            data.ListMultipartUploadsResult.Upload = Upload;\n        }\n        var result = util.clone(data.ListMultipartUploadsResult || {});\n        util.extend(result, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n        callback(null, result);\n    });\n}\n\n/**\n * \u4E0A\u4F20\u7684\u5206\u5757\u5217\u8868\u67E5\u8BE2\n * @param  {Object}  params                                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key                         object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.UploadId                    \u6807\u793A\u672C\u6B21\u5206\u5757\u4E0A\u4F20\u7684ID\uFF0C\u5FC5\u987B\n *     @param  {String}  params.EncodingType                \u89C4\u5B9A\u8FD4\u56DE\u503C\u7684\u7F16\u7801\u65B9\u5F0F\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.MaxParts                    \u5355\u6B21\u8FD4\u56DE\u6700\u5927\u7684\u6761\u76EE\u6570\u91CF\uFF0C\u9ED8\u8BA41000\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.PartNumberMarker            \u9ED8\u8BA4\u4EE5UTF-8\u4E8C\u8FDB\u5236\u987A\u5E8F\u5217\u51FA\u6761\u76EE\uFF0C\u6240\u6709\u5217\u51FA\u6761\u76EE\u4ECEmarker\u5F00\u59CB\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n * @return  {Object}  err                                   \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                  \u8FD4\u56DE\u7684\u6570\u636E\n *     @return  {Object}  data.ListMultipartUploadsResult   \u5206\u5757\u4FE1\u606F\n */\nfunction multipartListPart(params, callback) {\n    var reqParams = {};\n\n    reqParams['uploadId'] = params['UploadId'];\n    reqParams['encoding-type'] = params['EncodingType'];\n    reqParams['max-parts'] = params['MaxParts'];\n    reqParams['part-number-marker'] = params['PartNumberMarker'];\n\n    submitRequest.call(this, {\n        Action: 'name/cos:ListParts',\n        method: 'GET',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        headers: params.Headers,\n        qs: reqParams,\n    }, function (err, data) {\n        if (err) return callback(err);\n        var ListPartsResult = data.ListPartsResult || {};\n        var Part = ListPartsResult.Part || [];\n        Part = util.isArray(Part) ? Part : [Part];\n\n        ListPartsResult.Part = Part;\n        var result = util.clone(ListPartsResult);\n        util.extend(result, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n        callback(null, result);\n    });\n}\n\n/**\n * \u629B\u5F03\u5206\u5757\u4E0A\u4F20\n * @param  {Object}  params                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key         object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.UploadId    \u6807\u793A\u672C\u6B21\u5206\u5757\u4E0A\u4F20\u7684ID\uFF0C\u5FC5\u987B\n * @param  {Function}  callback             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n *     @return  {Object}    err             \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}    data            \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction multipartAbort(params, callback) {\n    var reqParams = {};\n\n    reqParams['uploadId'] = params['UploadId'];\n    submitRequest.call(this, {\n        Action: 'name/cos:AbortMultipartUpload',\n        method: 'DELETE',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        headers: params.Headers,\n        qs: reqParams,\n    }, function (err, data) {\n        if (err) return callback(err);\n        callback(null, {\n            statusCode: data.statusCode,\n            headers: data.headers,\n        });\n    });\n}\n\n/**\n * \u629B\u5F03\u5206\u5757\u4E0A\u4F20\n * @param  {Object}  params                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key         object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.UploadId    \u6807\u793A\u672C\u6B21\u5206\u5757\u4E0A\u4F20\u7684ID\uFF0C\u5FC5\u987B\n * @param  {Function}  callback             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n *     @return  {Object}    err             \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}    data            \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction request(params, callback) {\n    submitRequest.call(this, {\n        method: params.Method,\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        action: params.Action,\n        headers: params.Headers,\n        qs: params.Query,\n        body: params.Body,\n        Url: params.Url,\n        rawBody: params.RawBody,\n        DataType: params.DataType,\n    }, function (err, data) {\n        if (err) return callback(err);\n        if (data && data.body) {\n            data.Body = data.body;\n            delete data.body;\n        }\n        callback(err, data);\n    });\n}\n\n/**\n * \u8FFD\u52A0\u4E0A\u4F20\n * @param  {Object}  params                                         \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket                              Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region                              \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key                                 object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {File || Blob || String}  params.Body                \u4E0A\u4F20\u6587\u4EF6\u5BF9\u8C61\u6216\u5B57\u7B26\u4E32\n *     @param  {Number}  params.Position                            \u8FFD\u52A0\u64CD\u4F5C\u7684\u8D77\u59CB\u70B9\uFF0C\u5355\u4F4D\u4E3A\u5B57\u8282\uFF0C\u5FC5\u987B\n *     @param  {String}  params.CacheControl                        RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u7F13\u5B58\u7B56\u7565\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentDisposition                  RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u6587\u4EF6\u540D\u79F0\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentEncoding                     RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u7F16\u7801\u683C\u5F0F\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentLength                       RFC 2616 \u4E2D\u5B9A\u4E49\u7684 HTTP \u8BF7\u6C42\u5185\u5BB9\u957F\u5EA6\uFF08\u5B57\u8282\uFF09\uFF0C\u5FC5\u987B\n *     @param  {String}  params.ContentType                         RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u5185\u5BB9\u7C7B\u578B\uFF08MIME\uFF09\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.Expect                              \u5F53\u4F7F\u7528 Expect: 100-continue \u65F6\uFF0C\u5728\u6536\u5230\u670D\u52A1\u7AEF\u786E\u8BA4\u540E\uFF0C\u624D\u4F1A\u53D1\u9001\u8BF7\u6C42\u5185\u5BB9\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.Expires                             RFC 2616 \u4E2D\u5B9A\u4E49\u7684\u8FC7\u671F\u65F6\u95F4\uFF0C\u5C06\u4F5C\u4E3A Object \u5143\u6570\u636E\u4FDD\u5B58\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ACL                                 \u5141\u8BB8\u7528\u6237\u81EA\u5B9A\u4E49\u6587\u4EF6\u6743\u9650\uFF0C\u6709\u6548\u503C\uFF1Aprivate | public-read\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantRead                           \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u53D6\u5BF9\u8C61\u7684\u6743\u9650\uFF0C\u683C\u5F0F\uFF1Aid=\"[OwnerUin]\"\uFF0C\u53EF\u4F7F\u7528\u534A\u89D2\u9017\u53F7\uFF08,\uFF09\u5206\u9694\u591A\u7EC4\u88AB\u6388\u6743\u8005\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantReadAcp                        \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u8BFB\u53D6\u5BF9\u8C61\u7684\u8BBF\u95EE\u63A7\u5236\u5217\u8868\uFF08ACL\uFF09\u7684\u6743\u9650\uFF0C\u683C\u5F0F\uFF1Aid=\"[OwnerUin]\"\uFF0C\u53EF\u4F7F\u7528\u534A\u89D2\u9017\u53F7\uFF08,\uFF09\u5206\u9694\u591A\u7EC4\u88AB\u6388\u6743\u8005\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantWriteAcp                       \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u5199\u5165\u5BF9\u8C61\u7684\u8BBF\u95EE\u63A7\u5236\u5217\u8868\uFF08ACL\uFF09\u7684\u6743\u9650\uFF0C\u683C\u5F0F\uFF1Aid=\"[OwnerUin]\"\uFF0C\u53EF\u4F7F\u7528\u534A\u89D2\u9017\u53F7\uFF08,\uFF09\u5206\u9694\u591A\u7EC4\u88AB\u6388\u6743\u8005\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.GrantFullControl                    \u8D4B\u4E88\u88AB\u6388\u6743\u8005\u64CD\u4F5C\u5BF9\u8C61\u7684\u6240\u6709\u6743\u9650\uFF0C\u683C\u5F0F\uFF1Aid=\"[OwnerUin]\"\uFF0C\u53EF\u4F7F\u7528\u534A\u89D2\u9017\u53F7\uFF08,\uFF09\u5206\u9694\u591A\u7EC4\u88AB\u6388\u6743\u8005\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.StorageClass                        \u8BBE\u7F6E\u5BF9\u8C61\u7684\u5B58\u50A8\u7EA7\u522B\uFF0C\u679A\u4E3E\u503C\uFF1ASTANDARD\u3001STANDARD_IA\u3001ARCHIVE\uFF0C\u9ED8\u8BA4\u503C\uFF1ASTANDARD\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.x-cos-meta-*                        \u5141\u8BB8\u7528\u6237\u81EA\u5B9A\u4E49\u7684\u5934\u90E8\u4FE1\u606F\uFF0C\u5C06\u4F5C\u4E3A\u5BF9\u8C61\u7684\u5143\u6570\u636E\u4FDD\u5B58\u3002\u5927\u5C0F\u9650\u52362KB\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ContentSha1                         RFC 3174 \u4E2D\u5B9A\u4E49\u7684 160-bit \u5185\u5BB9 SHA-1 \u7B97\u6CD5\u6821\u9A8C\uFF0C\u975E\u5FC5\u987B\n *     @param  {String}  params.ServerSideEncryption                \u652F\u6301\u6309\u7167\u6307\u5B9A\u7684\u52A0\u5BC6\u7B97\u6CD5\u8FDB\u884C\u670D\u52A1\u7AEF\u6570\u636E\u52A0\u5BC6\uFF0C\u683C\u5F0F x-cos-server-side-encryption: \"AES256\"\uFF0C\u975E\u5FC5\u987B\n * @param  {Function}  callback                                     \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n *     @return  {Object}    err                                     \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}    data                                    \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction appendObject(params, callback) {\n    // \u7279\u6B8A\u5904\u7406 Cache-Control\u3001Content-Type\uFF0C\u907F\u514D\u4EE3\u7406\u66F4\u6539\u8FD9\u4E24\u4E2A\u5B57\u6BB5\u5BFC\u81F4\u5199\u5165\u5230 Object \u5C5E\u6027\u91CC\n    var headers = params.Headers;\n    if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n    if (!headers['Content-Type'] && !headers['content-type']) headers['Content-Type'] = params.Body && params.Body.type || '';\n    submitRequest.call(this, {\n        Action: 'name/cos:AppendObject',\n        method: 'POST',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        action: 'append',\n        Key: params.Key,\n        body: params.Body,\n        qs: {\n          position: params.Position\n        },\n        headers: params.Headers,\n    }, function (err, data) {\n        if (err) return callback(err);\n        callback(null, data);\n    });\n}\n\n/**\n * \u83B7\u53D6\u7B7E\u540D\n * @param  {Object}  params             \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Method  \u8BF7\u6C42\u65B9\u6CD5\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key     object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Expires \u540D\u8D85\u65F6\u65F6\u95F4\uFF0C\u5355\u4F4D\u79D2\uFF0C\u53EF\u9009\n * @return  {String}  data              \u8FD4\u56DE\u7B7E\u540D\u5B57\u7B26\u4E32\n */\nfunction getAuth(params) {\n    var self = this;\n    return util.getAuth({\n        SecretId: params.SecretId || this.options.SecretId || '',\n        SecretKey: params.SecretKey || this.options.SecretKey || '',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Method: params.Method,\n        Key: params.Key,\n        Query: params.Query,\n        Headers: params.Headers,\n        Expires: params.Expires,\n        UseRawKey: self.options.UseRawKey,\n        SystemClockOffset: self.options.SystemClockOffset,\n    });\n}\n\n/**\n * \u83B7\u53D6\u6587\u4EF6\u4E0B\u8F7D\u94FE\u63A5\n * @param  {Object}  params                 \u53C2\u6570\u5BF9\u8C61\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Bucket      Bucket\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Region      \u5730\u57DF\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Key         object\u540D\u79F0\uFF0C\u5FC5\u987B\n *     @param  {String}  params.Method      \u8BF7\u6C42\u7684\u65B9\u6CD5\uFF0C\u53EF\u9009\n *     @param  {String}  params.Expires     \u7B7E\u540D\u8D85\u65F6\u65F6\u95F4\uFF0C\u5355\u4F4D\u79D2\uFF0C\u53EF\u9009\n * @param  {Function}  callback             \u56DE\u8C03\u51FD\u6570\uFF0C\u5FC5\u987B\n *     @return  {Object}    err             \u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8BF7\u6C42\u6210\u529F\uFF0C\u5219\u4E3A\u7A7A\u3002https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}    data            \u8FD4\u56DE\u7684\u6570\u636E\n */\nfunction getObjectUrl(params, callback) {\n    var self = this;\n    var useAccelerate = params.UseAccelerate === undefined ? self.options.UseAccelerate : params.UseAccelerate;\n    var url = getUrl({\n        ForcePathStyle: self.options.ForcePathStyle,\n        protocol: params.Protocol || self.options.Protocol,\n        domain: params.Domain || self.options.Domain,\n        bucket: params.Bucket,\n        region: useAccelerate ? 'accelerate' : params.Region,\n        object: params.Key,\n    });\n\n    var queryParamsStr = '';\n    if(params.Query){\n      queryParamsStr += util.obj2str(params.Query);\n    }\n    if(params.QueryString){\n      queryParamsStr += (queryParamsStr ? '&' : '') + params.QueryString;\n    }\n\n    var syncUrl = url;\n    if (params.Sign !== undefined && !params.Sign) {\n        queryParamsStr && (syncUrl += '?' + queryParamsStr);\n        callback(null, {Url: syncUrl});\n        return syncUrl;\n    }\n\n    // \u7B7E\u540D\u52A0\u4E0A Host\uFF0C\u907F\u514D\u8DE8\u6876\u8BBF\u95EE\n    var SignHost = getSignHost.call(this, {Bucket: params.Bucket, Region: params.Region, UseAccelerate: params.UseAccelerate, Url: url});\n    var AuthData = getAuthorizationAsync.call(this, {\n        Action: ((params.Method || '').toUpperCase() === 'PUT' ? 'name/cos:PutObject' : 'name/cos:GetObject'),\n        Bucket: params.Bucket || '',\n        Region: params.Region || '',\n        Method: params.Method || 'get',\n        Key: params.Key,\n        Expires: params.Expires,\n        Headers: params.Headers,\n        Query: params.Query,\n        SignHost: SignHost,\n        ForceSignHost: params.ForceSignHost === false ? false : self.options.ForceSignHost, // getObjectUrl\u652F\u6301\u4F20\u53C2ForceSignHost\n    }, function (err, AuthData) {\n        if (!callback) return;\n        if (err) {\n            callback(err);\n            return;\n        }\n\n        // \u517C\u5BB9\u4E07\u8C61url qUrlParamList\u9700\u8981\u518Dencode\u4E00\u6B21\n        var replaceUrlParamList = function(url) {\n            var urlParams = url.match(/q-url-param-list.*?(?=&)/g)[0];\n            var encodedParams = 'q-url-param-list=' + encodeURIComponent(urlParams.replace(/q-url-param-list=/, '')).toLowerCase();\n            var reg = new RegExp(urlParams, 'g');\n            var replacedUrl = url.replace(reg, encodedParams);\n            return replacedUrl;\n        }\n\n        var signUrl = url;\n        signUrl += '?' + (AuthData.Authorization.indexOf('q-signature') > -1 ?\n          replaceUrlParamList(AuthData.Authorization) : 'sign=' + encodeURIComponent(AuthData.Authorization));\n        AuthData.SecurityToken && (signUrl += '&x-cos-security-token=' + AuthData.SecurityToken);\n        AuthData.ClientIP && (signUrl += '&clientIP=' + AuthData.ClientIP);\n        AuthData.ClientUA && (signUrl += '&clientUA=' + AuthData.ClientUA);\n        AuthData.Token && (signUrl += '&token=' + AuthData.Token);\n        queryParamsStr && (signUrl += '&' + queryParamsStr);\n        setTimeout(function () {\n            callback(null, {Url: signUrl});\n        });\n    });\n    if (AuthData) {\n        syncUrl += '?' + AuthData.Authorization +\n            (AuthData.SecurityToken ? '&x-cos-security-token=' + AuthData.SecurityToken : '');\n        queryParamsStr && (syncUrl += '&' + queryParamsStr);\n    } else{\n        queryParamsStr && (syncUrl += '?' + queryParamsStr);\n    }\n    return syncUrl;\n}\n\n/**\n * \u79C1\u6709\u65B9\u6CD5\n */\nfunction decodeAcl(AccessControlPolicy) {\n    var result = {\n        GrantFullControl: [],\n        GrantWrite: [],\n        GrantRead: [],\n        GrantReadAcp: [],\n        GrantWriteAcp: [],\n        ACL: '',\n    };\n    var GrantMap = {\n        'FULL_CONTROL': 'GrantFullControl',\n        'WRITE': 'GrantWrite',\n        'READ': 'GrantRead',\n        'READ_ACP': 'GrantReadAcp',\n        'WRITE_ACP': 'GrantWriteAcp',\n    };\n    var AccessControlList = AccessControlPolicy && AccessControlPolicy.AccessControlList || {};\n    var Grant = AccessControlList.Grant;\n    if (Grant) {\n        Grant = util.isArray(Grant) ? Grant : [Grant];\n    }\n    var PublicAcl = {READ: 0, WRITE: 0, FULL_CONTROL: 0};\n    Grant && Grant.length && util.each(Grant, function (item) {\n        if (item.Grantee.ID === 'qcs::cam::anyone:anyone' || item.Grantee.URI === 'http://cam.qcloud.com/groups/global/AllUsers') {\n            PublicAcl[item.Permission] = 1;\n        } else if (item.Grantee.ID !== AccessControlPolicy.Owner.ID) {\n            result[GrantMap[item.Permission]].push('id=\"' + item.Grantee.ID + '\"');\n        }\n    });\n    if (PublicAcl.FULL_CONTROL || (PublicAcl.WRITE && PublicAcl.READ)) {\n        result.ACL = 'public-read-write';\n    } else if (PublicAcl.READ) {\n        result.ACL = 'public-read';\n    } else {\n        result.ACL = 'private';\n    }\n    util.each(GrantMap, function (item) {\n        result[item] = uniqGrant(result[item].join(','));\n    });\n    return result;\n}\n\n// Grant \u53BB\u91CD\nfunction uniqGrant(str) {\n    var arr = str.split(',');\n    var exist = {};\n    var i, item;\n    for (i = 0; i < arr.length; ) {\n        item = arr[i].trim();\n        if (exist[item]) {\n            arr.splice(i, 1);\n        } else {\n            exist[item] = true;\n            arr[i] = item;\n            i++;\n        }\n    }\n    return arr.join(',');\n}\n\n// \u751F\u6210\u64CD\u4F5C url\nfunction getUrl(params) {\n    var region = params.region || '';\n    var longBucket = params.bucket || '';\n    var shortBucket = longBucket.substr(0, longBucket.lastIndexOf('-'));\n    var appId = longBucket.substr(longBucket.lastIndexOf('-') + 1);\n    var domain = params.domain;\n    var object = params.object;\n    if (typeof domain === 'function') {\n        domain = domain({Bucket: longBucket, Region: region});\n    }\n    var protocol = params.protocol || (util.isBrowser && location.protocol === 'http:' ? 'http:' : 'https:');\n    if (!domain) {\n        if (['cn-south', 'cn-south-2', 'cn-north', 'cn-east', 'cn-southwest', 'sg'].indexOf(region) > -1) {\n            domain = '{Region}.myqcloud.com';\n        } else {\n            domain = 'cos.{Region}.myqcloud.com';\n        }\n        if (!params.ForcePathStyle) {\n            domain = '{Bucket}.' + domain;\n        }\n    }\n    domain = domain.replace(/\\{\\{AppId\\}\\}/ig, appId)\n        .replace(/\\{\\{Bucket\\}\\}/ig, shortBucket)\n        .replace(/\\{\\{Region\\}\\}/ig, region)\n        .replace(/\\{\\{.*?\\}\\}/ig, '');\n    domain = domain.replace(/\\{AppId\\}/ig, appId)\n        .replace(/\\{BucketName\\}/ig, shortBucket)\n        .replace(/\\{Bucket\\}/ig, longBucket)\n        .replace(/\\{Region\\}/ig, region)\n        .replace(/\\{.*?\\}/ig, '');\n    if (!/^[a-zA-Z]+:\\/\\//.test(domain)) {\n        domain = protocol + '//' + domain;\n    }\n\n    // \u53BB\u6389\u57DF\u540D\u6700\u540E\u7684\u659C\u6746\n    if (domain.slice(-1) === '/') {\n        domain = domain.slice(0, -1);\n    }\n    var url = domain;\n\n    if (params.ForcePathStyle) {\n        url += '/' + longBucket;\n    }\n    url += '/';\n    if (object) {\n        url += util.camSafeUrlEncode(object).replace(/%2F/g, '/');\n    }\n\n    if (params.isLocation) {\n        url = url.replace(/^https?:\\/\\//, '');\n    }\n    return url;\n}\n\nvar getSignHost = function (opt) {\n    if (!opt.Bucket || !opt.Region) return '';\n    var useAccelerate = opt.UseAccelerate === undefined ? this.options.UseAccelerate : opt.UseAccelerate;\n    var url = opt.Url || getUrl({\n        ForcePathStyle: this.options.ForcePathStyle,\n        protocol: this.options.Protocol,\n        domain: this.options.Domain,\n        bucket: opt.Bucket,\n        region: useAccelerate ? 'accelerate' : opt.Region,\n    });\n    var urlHost = url.replace(/^https?:\\/\\/([^/]+)(\\/.*)?$/, '$1');\n    var standardHostReg = new RegExp('^([a-z\\\\d-]+-\\\\d+\\\\.)?(cos|cosv6|ci|pic)\\\\.([a-z\\\\d-]+)\\\\.myqcloud\\\\.com$');\n    if (standardHostReg.test(urlHost)) return urlHost;\n    return '';\n}\n\n\n// \u5F02\u6B65\u83B7\u53D6\u7B7E\u540D\nfunction getAuthorizationAsync(params, callback) {\n    var headers = util.clone(params.Headers);\n    var headerHost = '';\n    util.each(headers, function (v, k) {\n        (v === '' || ['content-type', 'cache-control', 'expires'].indexOf(k.toLowerCase()) > -1) && delete headers[k];\n        if (k.toLowerCase() === 'host') headerHost = v;\n    });\n    // ForceSignHost\u660E\u786E\u4F20\u5165false\u624D\u4E0D\u52A0\u5165host\u7B7E\u540D\n    var forceSignHost = params.ForceSignHost === false ? false : true;\n\n    // Host \u52A0\u5165\u7B7E\u540D\u8BA1\u7B97\n    if (!headerHost && params.SignHost && forceSignHost) headers.Host = params.SignHost;\n\n    // \u83B7\u53D6\u51ED\u8BC1\u7684\u56DE\u8C03\uFF0C\u907F\u514D\u7528\u6237 callback \u591A\u6B21\n    var cbDone = false;\n    var cb = function (err, AuthData) {\n        if (cbDone) return;\n        cbDone = true;\n        if (AuthData && AuthData.XCosSecurityToken && !AuthData.SecurityToken) {\n            AuthData = util.clone(AuthData);\n            AuthData.SecurityToken = AuthData.XCosSecurityToken;\n            delete AuthData.XCosSecurityToken;\n        }\n        callback && callback(err, AuthData);\n    };\n\n    var self = this;\n    var Bucket = params.Bucket || '';\n    var Region = params.Region || '';\n\n    // PathName\n    var KeyName = params.Key || '';\n    if (self.options.ForcePathStyle && Bucket) {\n        KeyName = Bucket + '/' + KeyName;\n    }\n    var Pathname = '/' + KeyName;\n\n    // Action\u3001ResourceKey\n    var StsData = {};\n    var Scope = params.Scope;\n    if (!Scope) {\n        var Action = params.Action || '';\n        var ResourceKey = params.ResourceKey || params.Key || '';\n        Scope = params.Scope || [{\n            action: Action,\n            bucket: Bucket,\n            region: Region,\n            prefix: ResourceKey,\n        }];\n    }\n    var ScopeKey  = util.md5(JSON.stringify(Scope));\n\n    // STS\n    self._StsCache = self._StsCache ||[];\n    (function () {\n        var i, AuthData;\n        for (i = self._StsCache.length - 1; i >= 0; i--) {\n            AuthData = self._StsCache[i];\n            var compareTime = Math.round(util.getSkewTime(self.options.SystemClockOffset) / 1000) + 30;\n            if (AuthData.StartTime && compareTime < AuthData.StartTime || compareTime >= AuthData.ExpiredTime) {\n                self._StsCache.splice(i, 1);\n                continue;\n            }\n            if (!AuthData.ScopeLimit || AuthData.ScopeLimit && AuthData.ScopeKey === ScopeKey) {\n                StsData = AuthData;\n                break;\n            }\n        }\n    })();\n\n    var calcAuthByTmpKey = function () {\n        var KeyTime = '';\n        if (StsData.StartTime && params.Expires) KeyTime = StsData.StartTime + ';' + (StsData.StartTime + params.Expires * 1);\n        else if (StsData.StartTime && StsData.ExpiredTime) KeyTime = StsData.StartTime + ';' + StsData.ExpiredTime;\n        var Authorization = util.getAuth({\n            SecretId: StsData.TmpSecretId,\n            SecretKey: StsData.TmpSecretKey,\n            Method: params.Method,\n            Pathname: Pathname,\n            Query: params.Query,\n            Headers: headers,\n            Expires: params.Expires,\n            UseRawKey: self.options.UseRawKey,\n            SystemClockOffset: self.options.SystemClockOffset,\n            KeyTime: KeyTime,\n            ForceSignHost: forceSignHost,\n        });\n        var AuthData = {\n            Authorization: Authorization,\n            SecurityToken: StsData.SecurityToken || StsData.XCosSecurityToken || '',\n            Token: StsData.Token || '',\n            ClientIP: StsData.ClientIP || '',\n            ClientUA: StsData.ClientUA || '',\n        };\n        cb(null, AuthData);\n    };\n    var checkAuthError = function (AuthData) {\n        if (AuthData.Authorization) {\n            // \u68C0\u67E5\u7B7E\u540D\u683C\u5F0F\n            var formatAllow = false;\n            var auth = AuthData.Authorization;\n            if (auth) {\n                if (auth.indexOf(' ') > -1) {\n                    formatAllow = false;\n                } else if (auth.indexOf('q-sign-algorithm=') > -1 &&\n                    auth.indexOf('q-ak=') > -1 &&\n                    auth.indexOf('q-sign-time=') > -1 &&\n                    auth.indexOf('q-key-time=') > -1 &&\n                    auth.indexOf('q-url-param-list=') > -1) {\n                    formatAllow = true;\n                } else {\n                    try {\n                        auth = atob(auth);\n                        if (auth.indexOf('a=') > -1 &&\n                            auth.indexOf('k=') > -1 &&\n                            auth.indexOf('t=') > -1 &&\n                            auth.indexOf('r=') > -1 &&\n                            auth.indexOf('b=') > -1) {\n                            formatAllow = true;\n                        }\n                    } catch (e) {}\n                }\n            }\n            if (!formatAllow) return util.error(new Error('getAuthorization callback params format error'));\n        } else {\n            if (!AuthData.TmpSecretId) return util.error(new Error('getAuthorization callback params missing \"TmpSecretId\"'));\n            if (!AuthData.TmpSecretKey) return util.error(new Error('getAuthorization callback params missing \"TmpSecretKey\"'));\n            if (!AuthData.SecurityToken && !AuthData.XCosSecurityToken) return util.error(new Error('getAuthorization callback params missing \"SecurityToken\"'));\n            if (!AuthData.ExpiredTime) return util.error(new Error('getAuthorization callback params missing \"ExpiredTime\"'));\n            if (AuthData.ExpiredTime && AuthData.ExpiredTime.toString().length !== 10) return util.error(new Error('getAuthorization callback params \"ExpiredTime\" should be 10 digits'));\n            if (AuthData.StartTime && AuthData.StartTime.toString().length !== 10) return util.error(new Error('getAuthorization callback params \"StartTime\" should be 10 StartTime'));\n        }\n        return false;\n    };\n\n    // \u5148\u5224\u65AD\u662F\u5426\u6709\u4E34\u65F6\u5BC6\u94A5\n    if (StsData.ExpiredTime && StsData.ExpiredTime - (util.getSkewTime(self.options.SystemClockOffset) / 1000) > 60) { // \u5982\u679C\u7F13\u5B58\u7684\u4E34\u65F6\u5BC6\u94A5\u6709\u6548\uFF0C\u5E76\u8FD8\u6709\u8D85\u8FC760\u79D2\u6709\u6548\u671F\u5C31\u76F4\u63A5\u4F7F\u7528\n        calcAuthByTmpKey();\n    } else if (self.options.getAuthorization) { // \u5916\u90E8\u8BA1\u7B97\u7B7E\u540D\u6216\u83B7\u53D6\u4E34\u65F6\u5BC6\u94A5\n        self.options.getAuthorization.call(self, {\n            Bucket: Bucket,\n            Region: Region,\n            Method: params.Method,\n            Key: KeyName,\n            Pathname: Pathname,\n            Query: params.Query,\n            Headers: headers,\n            Scope: Scope,\n            SystemClockOffset: self.options.SystemClockOffset,\n            ForceSignHost: forceSignHost,\n        }, function (AuthData) {\n            if (typeof AuthData === 'string') AuthData = {Authorization: AuthData};\n            var AuthError = checkAuthError(AuthData);\n            if (AuthError) return cb(AuthError);\n            if (AuthData.Authorization) {\n                cb(null, AuthData);\n            } else {\n                StsData = AuthData || {};\n                StsData.Scope = Scope;\n                StsData.ScopeKey = ScopeKey;\n                self._StsCache.push(StsData);\n                calcAuthByTmpKey();\n            }\n        });\n    } else if (self.options.getSTS) { // \u5916\u90E8\u83B7\u53D6\u4E34\u65F6\u5BC6\u94A5\n        self.options.getSTS.call(self, {\n            Bucket: Bucket,\n            Region: Region,\n        }, function (data) {\n            StsData = data || {};\n            StsData.Scope = Scope;\n            StsData.ScopeKey = ScopeKey;\n            if (!StsData.TmpSecretId) StsData.TmpSecretId = StsData.SecretId;\n            if (!StsData.TmpSecretKey) StsData.TmpSecretKey = StsData.SecretKey;\n            var AuthError = checkAuthError(StsData);\n            if (AuthError) return cb(AuthError);\n            self._StsCache.push(StsData);\n            calcAuthByTmpKey();\n        });\n    } else { // \u5185\u90E8\u8BA1\u7B97\u83B7\u53D6\u7B7E\u540D\n        return (function () {\n            var Authorization = util.getAuth({\n                SecretId: params.SecretId || self.options.SecretId,\n                SecretKey: params.SecretKey || self.options.SecretKey,\n                Method: params.Method,\n                Pathname: Pathname,\n                Query: params.Query,\n                Headers: headers,\n                Expires: params.Expires,\n                UseRawKey: self.options.UseRawKey,\n                SystemClockOffset: self.options.SystemClockOffset,\n                ForceSignHost: forceSignHost,\n            });\n            var AuthData = {\n                Authorization: Authorization,\n                SecurityToken: self.options.SecurityToken || self.options.XCosSecurityToken,\n            };\n            cb(null, AuthData);\n            return AuthData;\n        })();\n    }\n    return '';\n}\n\n// \u8C03\u6574\u65F6\u95F4\u504F\u5DEE\nfunction allowRetry(err) {\n    var allowRetry = false;\n    var isTimeError = false;\n    var serverDate = (err.headers && (err.headers.date || err.headers.Date)) || (err.error && err.error.ServerTime);\n    try {\n        var errorCode = err.error.Code;\n        var errorMessage = err.error.Message;\n        if (errorCode === 'RequestTimeTooSkewed' ||\n            (errorCode === 'AccessDenied' && errorMessage === 'Request has expired')) {\n            isTimeError = true;\n        }\n    } catch (e) {\n    }\n    if (err) {\n        if (isTimeError && serverDate) {\n            var serverTime = Date.parse(serverDate);\n            if (this.options.CorrectClockSkew && Math.abs(util.getSkewTime(this.options.SystemClockOffset) - serverTime) >= 30000) {\n                console.error('error: Local time is too skewed.');\n                this.options.SystemClockOffset = serverTime - Date.now();\n                allowRetry = true;\n            }\n        } else if (Math.floor(err.statusCode / 100) === 5) {\n            allowRetry = true;\n        }\n    }\n    return allowRetry;\n}\n\n// \u83B7\u53D6\u7B7E\u540D\u5E76\u53D1\u8D77\u8BF7\u6C42\nfunction submitRequest(params, callback) {\n    var self = this;\n\n    // \u5904\u7406 headers\n    !params.headers && (params.headers = {});\n\n    // \u5904\u7406 query\n    !params.qs && (params.qs = {});\n    params.VersionId && (params.qs.versionId = params.VersionId);\n    params.qs = util.clearKey(params.qs);\n\n    // \u6E05\u7406 undefined \u548C null \u5B57\u6BB5\n    params.headers && (params.headers = util.clearKey(params.headers));\n    params.qs && (params.qs = util.clearKey(params.qs));\n\n    var Query = util.clone(params.qs);\n    params.action && (Query[params.action] = '');\n\n    var paramsUrl = params.url || params.Url;\n    var SignHost = params.SignHost || getSignHost.call(this, {Bucket: params.Bucket, Region: params.Region, Url: paramsUrl});\n    var next = function (tryTimes) {\n        var oldClockOffset = self.options.SystemClockOffset;\n        getAuthorizationAsync.call(self, {\n            Bucket: params.Bucket || '',\n            Region: params.Region || '',\n            Method: params.method,\n            Key: params.Key,\n            Query: Query,\n            Headers: params.headers,\n            SignHost: SignHost,\n            Action: params.Action,\n            ResourceKey: params.ResourceKey,\n            Scope: params.Scope,\n            ForceSignHost: self.options.ForceSignHost,\n        }, function (err, AuthData) {\n            if (err) {\n                callback(err);\n                return;\n            }\n            params.AuthData = AuthData;\n            _submitRequest.call(self, params, function (err, data) {\n                if (err && tryTimes < 2 && (oldClockOffset !== self.options.SystemClockOffset || allowRetry.call(self, err))) {\n                    if (params.headers) {\n                        delete params.headers.Authorization;\n                        delete params.headers['token'];\n                        delete params.headers['clientIP'];\n                        delete params.headers['clientUA'];\n                        params.headers['x-cos-security-token'] && (delete params.headers['x-cos-security-token']);\n                        params.headers['x-ci-security-token'] && (delete params.headers['x-ci-security-token']);\n                    }\n                    next(tryTimes + 1);\n                } else {\n                    callback(err, data);\n                }\n            });\n        });\n    };\n    next(1);\n\n}\n\n// \u53D1\u8D77\u8BF7\u6C42\nfunction _submitRequest(params, callback) {\n    var self = this;\n    var TaskId = params.TaskId;\n    if (TaskId && !self._isRunningTask(TaskId)) return;\n\n    var bucket = params.Bucket;\n    var region = params.Region;\n    var object = params.Key;\n    var method = params.method || 'GET';\n    var url = params.Url || params.url;\n    var body = params.body;\n    var rawBody = params.rawBody;\n\n    // url\n    if (self.options.UseAccelerate) {\n        region = 'accelerate';\n    }\n    url = url || getUrl({\n        ForcePathStyle: self.options.ForcePathStyle,\n        protocol: self.options.Protocol,\n        domain: self.options.Domain,\n        bucket: bucket,\n        region: region,\n        object: object,\n    });\n    if (params.action) {\n        url = url + '?' + params.action;\n    }\n    if (params.qsStr) {\n        if(url.indexOf('?') > -1){\n          url = url + '&' + params.qsStr;\n        }else{\n          url = url + '?' + params.qsStr;\n        }\n    }\n\n    var opt = {\n        method: method,\n        url: url,\n        headers: params.headers,\n        qs: params.qs,\n        body: body,\n    };\n\n    // \u517C\u5BB9ci\u63A5\u53E3\n    var token = 'x-cos-security-token';\n    if (util.isCIHost(url)) {\n        token = 'x-ci-security-token';\n    }\n\n    // \u83B7\u53D6\u7B7E\u540D\n    opt.headers.Authorization = params.AuthData.Authorization;\n    params.AuthData.Token && (opt.headers['token'] = params.AuthData.Token);\n    params.AuthData.ClientIP && (opt.headers['clientIP'] = params.AuthData.ClientIP);\n    params.AuthData.ClientUA && (opt.headers['clientUA'] = params.AuthData.ClientUA);\n    params.AuthData.SecurityToken && (opt.headers[token] = params.AuthData.SecurityToken);\n\n    // \u6E05\u7406 undefined \u548C null \u5B57\u6BB5\n    opt.headers && (opt.headers = util.clearKey(opt.headers));\n    opt = util.clearKey(opt);\n\n    // progress\n    if (params.onProgress && typeof params.onProgress === 'function') {\n        var contentLength = body && (body.size || body.length) || 0;\n        opt.onProgress = function (e) {\n            if (TaskId && !self._isRunningTask(TaskId)) return;\n            var loaded = e ? e.loaded : 0;\n            params.onProgress({loaded: loaded, total: contentLength});\n        };\n    }\n    if (params.onDownloadProgress) {\n        opt.onDownloadProgress = params.onDownloadProgress;\n    }\n    if (params.DataType) {\n        opt.dataType = params.DataType;\n    }\n    if (this.options.Timeout) {\n        opt.timeout = this.options.Timeout;\n    }\n\n    self.options.ForcePathStyle && (opt.pathStyle = self.options.ForcePathStyle);\n    self.emit('before-send', opt);\n    var sender = (self.options.Request || REQUEST)(opt, function (r) {\n        if (r.error === 'abort') return;\n\n        var receive = {\n            options: opt,\n            error: err,\n            statusCode: response && response.statusCode || 0,\n            headers: response && response.headers || {},\n            body: body,\n        };\n        self.emit('after-receive', receive);\n        err = receive.error;\n        body = receive.body;\n        response = {\n            statusCode: receive.statusCode,\n            headers: receive.headers,\n        };\n\n        // \u629B\u51FA\u4E8B\u4EF6\uFF0C\u5141\u8BB8\u4FEE\u6539\u8FD4\u56DE\u503C\u7684 error\u3001statusCode\u3001statusMessage\u3001body\n        self.emit('after-receive', r);\n        var response = {statusCode: r.statusCode, statusMessage: r.statusMessage, headers: r.headers};\n        var err = r.error;\n        var body = r.body;\n\n        // \u8FD4\u56DE\u5185\u5BB9\u6DFB\u52A0 \u72B6\u6001\u7801 \u548C headers\n        var hasReturned;\n        var cb = function (err, data) {\n            TaskId && self.off('inner-kill-task', killTask);\n            if (hasReturned) return;\n            hasReturned = true;\n            var attrs = {};\n            response && response.statusCode && (attrs.statusCode = response.statusCode);\n            response && response.headers && (attrs.headers = response.headers);\n\n            if (err) {\n                err = util.extend(err || {}, attrs)\n                callback(err, null);\n            } else {\n                data = util.extend(data || {}, attrs);\n                callback(null, data);\n            }\n            sender = null;\n        };\n\n        // \u8BF7\u6C42\u9519\u8BEF\uFF0C\u53D1\u751F\u7F51\u7EDC\u9519\u8BEF\n        if (err) return cb(util.error(err));\n\n        // \u8BF7\u6C42\u8FD4\u56DE\u7801\u4E0D\u4E3A 200\n        var statusCode = response.statusCode;\n        var statusSuccess = Math.floor(statusCode / 100) === 2; // 200 202 204 206\n\n        // \u4E0D\u5BF9 body \u8FDB\u884C\u8F6C\u6362\uFF0Cbody \u76F4\u63A5\u6302\u8F7D\u8FD4\u56DE\n        if (rawBody && statusSuccess) return cb(null, {body: body});\n\n        // \u89E3\u6790 xml body\n        var json;\n        try {\n            json = body && body.indexOf('<') > -1 && body.indexOf('>') > -1 && util.xml2json(body) || {};\n        } catch (e) {\n            json = {};\n        }\n\n        // \u5904\u7406\u8FD4\u56DE\u503C\n        var xmlError = json && json.Error;\n        if (statusSuccess) { // \u6B63\u786E\u8FD4\u56DE\uFF0C\u72B6\u6001\u7801 2xx \u65F6\uFF0Cbody \u4E0D\u4F1A\u6709 Error\n            cb(null, json);\n        } else if (xmlError) { // \u6B63\u5E38\u8FD4\u56DE\u4E86 xml body\uFF0C\u4E14\u6709 Error \u8282\u70B9\n            cb(util.error(new Error(xmlError.Message), {code: xmlError.Code, error: xmlError}));\n        } else if (statusCode) { // \u6709\u9519\u8BEF\u7684\u72B6\u6001\u7801\n            cb(util.error(new Error(response.statusMessage), {code: '' + statusCode}));\n        } else if (statusCode) { // \u65E0\u72B6\u6001\u7801\uFF0C\u6216\u8005\u83B7\u53D6\u4E0D\u5230\u72B6\u6001\u7801\n            cb(util.error(new Error('statusCode error')));\n        }\n    });\n\n    // kill task\n    var killTask = function (data) {\n        if (data.TaskId === TaskId) {\n            sender && sender.abort && sender.abort();\n            self.off('inner-kill-task', killTask);\n        }\n    };\n    TaskId && self.on('inner-kill-task', killTask);\n\n}\n\n\nvar API_MAP = {\n    // Bucket \u76F8\u5173\u65B9\u6CD5\n    getService: getService,                      // Bucket\n    putBucket: putBucket,\n    headBucket: headBucket,                      // Bucket\n    getBucket: getBucket,\n    deleteBucket: deleteBucket,\n    putBucketAcl: putBucketAcl,                  // BucketACL\n    getBucketAcl: getBucketAcl,\n    putBucketCors: putBucketCors,                // BucketCors\n    getBucketCors: getBucketCors,\n    deleteBucketCors: deleteBucketCors,\n    getBucketLocation: getBucketLocation,        // BucketLocation\n    getBucketPolicy: getBucketPolicy,            // BucketPolicy\n    putBucketPolicy: putBucketPolicy,\n    deleteBucketPolicy: deleteBucketPolicy,\n    putBucketTagging: putBucketTagging,          // BucketTagging\n    getBucketTagging: getBucketTagging,\n    deleteBucketTagging: deleteBucketTagging,\n    putBucketLifecycle: putBucketLifecycle,      // BucketLifecycle\n    getBucketLifecycle: getBucketLifecycle,\n    deleteBucketLifecycle: deleteBucketLifecycle,\n    putBucketVersioning: putBucketVersioning,    // BucketVersioning\n    getBucketVersioning: getBucketVersioning,\n    putBucketReplication: putBucketReplication,  // BucketReplication\n    getBucketReplication: getBucketReplication,\n    deleteBucketReplication: deleteBucketReplication,\n    putBucketWebsite: putBucketWebsite,          // BucketWebsite\n    getBucketWebsite: getBucketWebsite,\n    deleteBucketWebsite: deleteBucketWebsite,\n    putBucketReferer: putBucketReferer,          // BucketReferer\n    getBucketReferer: getBucketReferer,\n    putBucketDomain: putBucketDomain,            // BucketDomain\n    getBucketDomain: getBucketDomain,\n    deleteBucketDomain: deleteBucketDomain,\n    putBucketOrigin: putBucketOrigin,            // BucketOrigin\n    getBucketOrigin: getBucketOrigin,\n    deleteBucketOrigin: deleteBucketOrigin,\n    putBucketLogging: putBucketLogging,             // BucketLogging\n    getBucketLogging: getBucketLogging,\n    putBucketInventory: putBucketInventory,         // BucketInventory\n    getBucketInventory: getBucketInventory,\n    listBucketInventory: listBucketInventory,\n    deleteBucketInventory: deleteBucketInventory,\n    putBucketAccelerate: putBucketAccelerate,\n    getBucketAccelerate: getBucketAccelerate,\n    putBucketEncryption: putBucketEncryption,\n    getBucketEncryption: getBucketEncryption,\n    deleteBucketEncryption: deleteBucketEncryption,\n\n    // Object \u76F8\u5173\u65B9\u6CD5\n    getObject: getObject,\n    headObject: headObject,\n    listObjectVersions: listObjectVersions,\n    putObject: putObject,\n    deleteObject: deleteObject,\n    getObjectAcl: getObjectAcl,\n    putObjectAcl: putObjectAcl,\n    optionsObject: optionsObject,\n    putObjectCopy: putObjectCopy,\n    deleteMultipleObject: deleteMultipleObject,\n    restoreObject: restoreObject,\n    putObjectTagging: putObjectTagging,\n    getObjectTagging: getObjectTagging,\n    deleteObjectTagging: deleteObjectTagging,\n    selectObjectContent: selectObjectContent,\n    appendObject: appendObject,\n\n    // \u5206\u5757\u4E0A\u4F20\u76F8\u5173\u65B9\u6CD5\n    uploadPartCopy: uploadPartCopy,\n    multipartInit: multipartInit,\n    multipartUpload: multipartUpload,\n    multipartComplete: multipartComplete,\n    multipartList: multipartList,\n    multipartListPart: multipartListPart,\n    multipartAbort: multipartAbort,\n\n    // \u5DE5\u5177\u65B9\u6CD5\n    request: request,\n    getObjectUrl: getObjectUrl,\n    getAuth: getAuth,\n};\n\nfunction warnOldApi(apiName, fn, proto) {\n    util.each(['Cors', 'Acl'], function (suffix) {\n        if (apiName.slice(-suffix.length) === suffix) {\n            var oldName = apiName.slice(0, -suffix.length) + suffix.toUpperCase();\n            var apiFn = util.apiWrapper(apiName, fn);\n            var warned = false;\n            proto[oldName] = function () {\n                !warned && console.warn('warning: cos.' + oldName + ' has been deprecated. Please Use cos.' + apiName + ' instead.');\n                warned = true;\n                apiFn.apply(this, arguments);\n            };\n        }\n    });\n}\n\nmodule.exports.init = function (COS, task) {\n    task.transferToTaskMethod(API_MAP, 'putObject');\n    util.each(API_MAP, function (fn, apiName) {\n        COS.prototype[apiName] = util.apiWrapper(apiName, fn);\n        warnOldApi(apiName, fn, COS.prototype);\n    });\n};\n\n\n", "var eachLimit = function (arr, limit, iterator, callback) {\n    callback = callback || function () {};\n    if (!arr.length || limit <= 0) {\n        return callback();\n    }\n\n    var completed = 0;\n    var started = 0;\n    var running = 0;\n\n    (function replenish () {\n        if (completed >= arr.length) {\n            return callback();\n        }\n\n        while (running < limit && started < arr.length) {\n            started += 1;\n            running += 1;\n            iterator(arr[started - 1], function (err) {\n\n                if (err) {\n                    callback(err);\n                    callback = function () {};\n                } else {\n                    completed += 1;\n                    running -= 1;\n                    if (completed >= arr.length) {\n                        callback();\n                    } else {\n                        replenish();\n                    }\n                }\n            });\n        }\n    })();\n};\n\nvar retry = function (times, iterator, callback) {\n    var next = function (index) {\n        iterator(function (err, data) {\n            if (err && index < times) {\n                next(index + 1);\n            } else {\n                callback(err, data);\n            }\n        });\n    };\n    if (times < 1) {\n        callback();\n    } else {\n        next(1);\n    }\n};\n\nvar async = {\n    eachLimit: eachLimit,\n    retry: retry\n};\n\nmodule.exports = async;", "var session = require('./session');\nvar Async = require('./async');\nvar EventProxy = require('./event').EventProxy;\nvar util = require('./util');\n\n// \u6587\u4EF6\u5206\u5757\u4E0A\u4F20\u5168\u8FC7\u7A0B\uFF0C\u66B4\u9732\u7684\u5206\u5757\u4E0A\u4F20\u63A5\u53E3\nfunction sliceUploadFile(params, callback) {\n    var self = this;\n    var ep = new EventProxy();\n    var TaskId = params.TaskId;\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var Body = params.Body;\n    var ChunkSize = params.ChunkSize || params.SliceSize || self.options.ChunkSize;\n    var AsyncLimit = params.AsyncLimit;\n    var StorageClass = params.StorageClass;\n    var ServerSideEncryption = params.ServerSideEncryption;\n    var FileSize;\n\n    var onProgress;\n    var onHashProgress = params.onHashProgress;\n\n    // \u4E0A\u4F20\u8FC7\u7A0B\u4E2D\u51FA\u73B0\u9519\u8BEF\uFF0C\u8FD4\u56DE\u9519\u8BEF\n    ep.on('error', function (err) {\n        if (!self._isRunningTask(TaskId)) return;\n        err.UploadId = params.UploadData.UploadId || '';\n        return callback(err);\n    });\n\n    // \u4E0A\u4F20\u5206\u5757\u5B8C\u6210\uFF0C\u5F00\u59CB uploadSliceComplete \u64CD\u4F5C\n    ep.on('upload_complete', function (UploadCompleteData) {\n        var _UploadCompleteData = util.extend({\n          UploadId: params.UploadData.UploadId || ''\n        }, UploadCompleteData);\n        callback(null, _UploadCompleteData);\n    });\n\n    // \u4E0A\u4F20\u5206\u5757\u5B8C\u6210\uFF0C\u5F00\u59CB uploadSliceComplete \u64CD\u4F5C\n    ep.on('upload_slice_complete', function (UploadData) {\n        var metaHeaders = {};\n        util.each(params.Headers, function (val, k) {\n            var shortKey = k.toLowerCase();\n            if (shortKey.indexOf('x-cos-meta-') === 0 || shortKey === 'pic-operations') metaHeaders[k] = val;\n        });\n        uploadSliceComplete.call(self, {\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n            UploadId: UploadData.UploadId,\n            SliceList: UploadData.SliceList,\n            Headers: metaHeaders,\n        }, function (err, data) {\n            if (!self._isRunningTask(TaskId)) return;\n            session.removeUsing(UploadData.UploadId);\n            if (err) {\n                onProgress(null, true);\n                return ep.emit('error', err);\n            }\n            session.removeUploadId.call(self, UploadData.UploadId);\n            onProgress({loaded: FileSize, total: FileSize}, true);\n            ep.emit('upload_complete', data);\n        });\n    });\n\n    // \u83B7\u53D6 UploadId \u5B8C\u6210\uFF0C\u5F00\u59CB\u4E0A\u4F20\u6BCF\u4E2A\u5206\u7247\n    ep.on('get_upload_data_finish', function (UploadData) {\n\n        // \u5904\u7406 UploadId \u7F13\u5B58\n        var uuid = session.getFileId(Body, params.ChunkSize, Bucket, Key);\n        uuid && session.saveUploadId.call(self, uuid, UploadData.UploadId, self.options.UploadIdCacheLimit); // \u7F13\u5B58 UploadId\n        session.setUsing(UploadData.UploadId); // \u6807\u8BB0 UploadId \u4E3A\u6B63\u5728\u4F7F\u7528\n\n        // \u83B7\u53D6 UploadId\n        onProgress(null, true); // \u4EFB\u52A1\u72B6\u6001\u5F00\u59CB uploading\n        uploadSliceList.call(self, {\n            TaskId: TaskId,\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n            Body: Body,\n            FileSize: FileSize,\n            SliceSize: ChunkSize,\n            AsyncLimit: AsyncLimit,\n            ServerSideEncryption: ServerSideEncryption,\n            UploadData: UploadData,\n            Headers: params.Headers,\n            onProgress: onProgress\n        }, function (err, data) {\n            if (!self._isRunningTask(TaskId)) return;\n            if (err) {\n                onProgress(null, true);\n                return ep.emit('error', err);\n            }\n            ep.emit('upload_slice_complete', data);\n        });\n    });\n\n    // \u5F00\u59CB\u83B7\u53D6\u6587\u4EF6 UploadId\uFF0C\u91CC\u9762\u4F1A\u89C6\u60C5\u51B5\u8BA1\u7B97 ETag\uFF0C\u5E76\u6BD4\u5BF9\uFF0C\u4FDD\u8BC1\u6587\u4EF6\u4E00\u81F4\u6027\uFF0C\u4E5F\u4F18\u5316\u4E0A\u4F20\n    ep.on('get_file_size_finish', function () {\n\n        onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress);\n\n        if (params.UploadData.UploadId) {\n            ep.emit('get_upload_data_finish', params.UploadData);\n        } else {\n            var _params = util.extend({\n                TaskId: TaskId,\n                Bucket: Bucket,\n                Region: Region,\n                Key: Key,\n                Headers: params.Headers,\n                StorageClass: StorageClass,\n                Body: Body,\n                FileSize: FileSize,\n                SliceSize: ChunkSize,\n                onHashProgress: onHashProgress,\n            }, params);\n            getUploadIdAndPartList.call(self, _params, function (err, UploadData) {\n                if (!self._isRunningTask(TaskId)) return;\n                if (err) return ep.emit('error', err);\n                params.UploadData.UploadId = UploadData.UploadId;\n                params.UploadData.PartList = UploadData.PartList;\n                ep.emit('get_upload_data_finish', params.UploadData);\n            });\n        }\n    });\n\n    // \u83B7\u53D6\u4E0A\u4F20\u6587\u4EF6\u5927\u5C0F\n    FileSize = params.ContentLength;\n    delete params.ContentLength;\n    !params.Headers && (params.Headers = {});\n    util.each(params.Headers, function (item, key) {\n        if (key.toLowerCase() === 'content-length') {\n            delete params.Headers[key];\n        }\n    });\n\n    // \u63A7\u5236\u5206\u7247\u5927\u5C0F\n    (function () {\n        var SIZE = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 1024 * 2, 1024 * 4, 1024 * 5];\n        var AutoChunkSize = 1024 * 1024;\n        for (var i = 0; i < SIZE.length; i++) {\n            AutoChunkSize = SIZE[i] * 1024 * 1024;\n            if (FileSize / AutoChunkSize <= self.options.MaxPartNumber) break;\n        }\n        params.ChunkSize = params.SliceSize = ChunkSize = Math.max(ChunkSize, AutoChunkSize);\n    })();\n\n    // \u5F00\u59CB\u4E0A\u4F20\n    if (FileSize === 0) {\n        params.Body = '';\n        params.ContentLength = 0;\n        params.SkipTask = true;\n        self.putObject(params, callback);\n    } else {\n        ep.emit('get_file_size_finish');\n    }\n\n}\n\n// \u83B7\u53D6\u4E0A\u4F20\u4EFB\u52A1\u7684 UploadId\nfunction getUploadIdAndPartList(params, callback) {\n    var TaskId = params.TaskId;\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var StorageClass = params.StorageClass;\n    var self = this;\n\n    // \u8BA1\u7B97 ETag\n    var ETagMap = {};\n    var FileSize = params.FileSize;\n    var SliceSize = params.SliceSize;\n    var SliceCount = Math.ceil(FileSize / SliceSize);\n    var FinishSliceCount = 0;\n    var FinishSize = 0;\n    var onHashProgress = util.throttleOnProgress.call(self, FileSize, params.onHashProgress);\n    var getChunkETag = function (PartNumber, callback) {\n        var start = SliceSize * (PartNumber - 1);\n        var end = Math.min(start + SliceSize, FileSize);\n        var ChunkSize = end - start;\n\n        if (ETagMap[PartNumber]) {\n            callback(null, {\n                PartNumber: PartNumber,\n                ETag: ETagMap[PartNumber],\n                Size: ChunkSize\n            });\n        } else {\n            util.fileSlice(params.Body, start, end, false, function (chunkItem) {\n                util.getFileMd5(chunkItem, function (err, md5) {\n                    if (err) return callback(util.error(err));\n                    var ETag = '\"' + md5 + '\"';\n                    ETagMap[PartNumber] = ETag;\n                    FinishSliceCount += 1;\n                    FinishSize += ChunkSize;\n                    onHashProgress({loaded: FinishSize, total: FileSize});\n                    callback(null, {\n                        PartNumber: PartNumber,\n                        ETag: ETag,\n                        Size: ChunkSize\n                    });\n                });\n            });\n        }\n    };\n\n    // \u901A\u8FC7\u548C\u6587\u4EF6\u7684 md5 \u5BF9\u6BD4\uFF0C\u5224\u65AD UploadId \u662F\u5426\u53EF\u7528\n    var isAvailableUploadList = function (PartList, callback) {\n        var PartCount = PartList.length;\n        // \u5982\u679C\u6CA1\u6709\u5206\u7247\uFF0C\u901A\u8FC7\n        if (PartCount === 0) {\n            return callback(null, true);\n        }\n        // \u68C0\u67E5\u5206\u7247\u6570\u91CF\n        if (PartCount > SliceCount) {\n            return callback(null, false);\n        }\n        // \u68C0\u67E5\u5206\u7247\u5927\u5C0F\n        if (PartCount > 1) {\n            var PartSliceSize = Math.max(PartList[0].Size, PartList[1].Size);\n            if (PartSliceSize !== SliceSize) {\n                return callback(null, false);\n            }\n        }\n        // \u9010\u4E2A\u5206\u7247\u8BA1\u7B97\u5E76\u68C0\u67E5 ETag \u662F\u5426\u4E00\u81F4\n        var next = function (index) {\n            if (index < PartCount) {\n                var Part = PartList[index];\n                getChunkETag(Part.PartNumber, function (err, chunk) {\n                    if (chunk && chunk.ETag === Part.ETag && chunk.Size === Part.Size) {\n                        next(index + 1);\n                    } else {\n                        callback(null, false);\n                    }\n                });\n            } else {\n                callback(null, true);\n            }\n        };\n        next(0);\n    };\n\n    var ep = new EventProxy();\n    ep.on('error', function (errData) {\n        if (!self._isRunningTask(TaskId)) return;\n        return callback(errData);\n    });\n\n    // \u5B58\u5728 UploadId\n    ep.on('upload_id_available', function (UploadData) {\n        // \u8F6C\u6362\u6210 map\n        var map = {};\n        var list = [];\n        util.each(UploadData.PartList, function (item) {\n            map[item.PartNumber] = item;\n        });\n        for (var PartNumber = 1; PartNumber <= SliceCount; PartNumber++) {\n            var item = map[PartNumber];\n            if (item) {\n                item.PartNumber = PartNumber;\n                item.Uploaded = true;\n            } else {\n                item = {\n                    PartNumber: PartNumber,\n                    ETag: null,\n                    Uploaded: false\n                };\n            }\n            list.push(item);\n        }\n        UploadData.PartList = list;\n        callback(null, UploadData);\n    });\n\n    // \u4E0D\u5B58\u5728 UploadId, \u521D\u59CB\u5316\u751F\u6210 UploadId\n    ep.on('no_available_upload_id', function () {\n        if (!self._isRunningTask(TaskId)) return;\n        var _params = util.extend({\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n            Query: util.clone(params.Query),\n            StorageClass: StorageClass,\n            Body: params.Body,\n        }, params);\n        var headers = util.clone(params.Headers)\n        delete headers['x-cos-mime-limit'];\n        _params.Headers = headers;\n        self.multipartInit(_params, function (err, data) {\n            if (!self._isRunningTask(TaskId)) return;\n            if (err) return ep.emit('error', err);\n            var UploadId = data.UploadId;\n            if (!UploadId) {\n                return callback(util.error(new Error('no such upload id')));\n            }\n            ep.emit('upload_id_available', {UploadId: UploadId, PartList: []});\n        });\n    });\n\n    // \u5982\u679C\u5DF2\u5B58\u5728 UploadId\uFF0C\u627E\u4E00\u4E2A\u53EF\u4EE5\u7528\u7684 UploadId\n    ep.on('has_and_check_upload_id', function (UploadIdList) {\n        // \u4E32\u884C\u5730\uFF0C\u627E\u4E00\u4E2A\u5185\u5BB9\u4E00\u81F4\u7684 UploadId\n        UploadIdList = UploadIdList.reverse();\n        Async.eachLimit(UploadIdList, 1, function (UploadId, asyncCallback) {\n            if (!self._isRunningTask(TaskId)) return;\n            // \u5982\u679C\u6B63\u5728\u4E0A\u4F20\uFF0C\u8DF3\u8FC7\n            if (session.using[UploadId]) {\n                asyncCallback(); // \u68C0\u67E5\u4E0B\u4E00\u4E2A UploadId\n                return;\n            }\n            // \u5224\u65AD UploadId \u662F\u5426\u53EF\u7528\n            wholeMultipartListPart.call(self, {\n                Bucket: Bucket,\n                Region: Region,\n                Key: Key,\n                UploadId: UploadId,\n            }, function (err, PartListData) {\n                if (!self._isRunningTask(TaskId)) return;\n                if (err) {\n                    session.removeUsing(UploadId);\n                    return ep.emit('error', err);\n                }\n                var PartList = PartListData.PartList;\n                PartList.forEach(function (item) {\n                    item.PartNumber *= 1;\n                    item.Size *= 1;\n                    item.ETag = item.ETag || '';\n                });\n                isAvailableUploadList(PartList, function (err, isAvailable) {\n                    if (!self._isRunningTask(TaskId)) return;\n                    if (err) return ep.emit('error', err);\n                    if (isAvailable) {\n                        asyncCallback({\n                            UploadId: UploadId,\n                            PartList: PartList\n                        }); // \u9A6C\u4E0A\u7ED3\u675F\n                    } else {\n                        asyncCallback(); // \u68C0\u67E5\u4E0B\u4E00\u4E2A UploadId\n                    }\n                });\n            });\n        }, function (AvailableUploadData) {\n            if (!self._isRunningTask(TaskId)) return;\n            onHashProgress(null, true);\n            if (AvailableUploadData && AvailableUploadData.UploadId) {\n                ep.emit('upload_id_available', AvailableUploadData);\n            } else {\n                ep.emit('no_available_upload_id');\n            }\n        });\n    });\n\n    // \u5728\u672C\u5730\u7F13\u5B58\u627E\u53EF\u7528\u7684 UploadId\n    ep.on('seek_local_avail_upload_id', function (RemoteUploadIdList) {\n        // \u5728\u672C\u5730\u627E\u53EF\u7528\u7684 UploadId\n        var uuid = session.getFileId(params.Body, params.ChunkSize, Bucket, Key);\n        var LocalUploadIdList = session.getUploadIdList.call(self, uuid);\n        if (!uuid || !LocalUploadIdList) {\n            ep.emit('has_and_check_upload_id', RemoteUploadIdList);\n            return;\n        }\n        var next = function (index) {\n            // \u5982\u679C\u672C\u5730\u627E\u4E0D\u5230\u53EF\u7528 UploadId\uFF0C\u518D\u4E00\u4E2A\u4E2A\u904D\u5386\u6821\u9A8C\u8FDC\u7AEF\n            if (index >= LocalUploadIdList.length) {\n                ep.emit('has_and_check_upload_id', RemoteUploadIdList);\n                return;\n            }\n            var UploadId = LocalUploadIdList[index];\n            // \u5982\u679C\u4E0D\u5728\u8FDC\u7AEF UploadId \u5217\u8868\u91CC\uFF0C\u8DF3\u8FC7\u5E76\u5220\u9664\n            if (!util.isInArray(RemoteUploadIdList, UploadId)) {\n                session.removeUploadId.call(self, UploadId);\n                next(index + 1);\n                return;\n            }\n            // \u5982\u679C\u6B63\u5728\u4E0A\u4F20\uFF0C\u8DF3\u8FC7\n            if (session.using[UploadId]) {\n                next(index + 1);\n                return;\n            }\n            // \u5224\u65AD UploadId \u662F\u5426\u5B58\u5728\u7EBF\u4E0A\n            wholeMultipartListPart.call(self, {\n                Bucket: Bucket,\n                Region: Region,\n                Key: Key,\n                UploadId: UploadId,\n            }, function (err, PartListData) {\n                if (!self._isRunningTask(TaskId)) return;\n                if (err) {\n                    // \u5982\u679C UploadId \u83B7\u53D6\u4F1A\u51FA\u9519\uFF0C\u8DF3\u8FC7\u5E76\u5220\u9664\n                    session.removeUploadId.call(self, UploadId);\n                    next(index + 1);\n                } else {\n                    // \u627E\u5230\u53EF\u7528 UploadId\n                    ep.emit('upload_id_available', {\n                        UploadId: UploadId,\n                        PartList: PartListData.PartList,\n                    });\n                }\n            });\n        };\n        next(0);\n    });\n\n    // \u83B7\u53D6\u7EBF\u4E0A UploadId \u5217\u8868\n    ep.on('get_remote_upload_id_list', function () {\n        // \u83B7\u53D6\u7B26\u5408\u6761\u4EF6\u7684 UploadId \u5217\u8868\uFF0C\u56E0\u4E3A\u540C\u4E00\u4E2A\u6587\u4EF6\u53EF\u4EE5\u6709\u591A\u4E2A\u4E0A\u4F20\u4EFB\u52A1\u3002\n        wholeMultipartList.call(self, {\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n        }, function (err, data) {\n            if (!self._isRunningTask(TaskId)) return;\n            if (err) return ep.emit('error', err);\n            // \u6574\u7406\u8FDC\u7AEF UploadId \u5217\u8868\n            var RemoteUploadIdList = util.filter(data.UploadList, function (item) {\n                return item.Key === Key && (!StorageClass || item.StorageClass.toUpperCase() === StorageClass.toUpperCase());\n            }).reverse().map(function (item) {\n                return item.UploadId || item.UploadID;\n            });\n            if (RemoteUploadIdList.length) {\n                ep.emit('seek_local_avail_upload_id', RemoteUploadIdList);\n            } else {\n                // \u8FDC\u7AEF\u6CA1\u6709 UploadId\uFF0C\u6E05\u7406\u7F13\u5B58\u7684 UploadId\n                var uuid = session.getFileId(params.Body, params.ChunkSize, Bucket, Key), LocalUploadIdList;\n                if (uuid && (LocalUploadIdList = session.getUploadIdList.call(self, uuid))) {\n                    util.each(LocalUploadIdList, function (UploadId) {\n                        session.removeUploadId.call(self, UploadId);\n                    });\n                }\n                ep.emit('no_available_upload_id');\n            }\n        });\n    });\n\n    // \u5F00\u59CB\u627E\u53EF\u7528 UploadId\n    ep.emit('get_remote_upload_id_list');\n\n}\n\n// \u83B7\u53D6\u7B26\u5408\u6761\u4EF6\u7684\u5168\u90E8\u4E0A\u4F20\u4EFB\u52A1 (\u6761\u4EF6\u5305\u62EC Bucket, Region, Prefix)\nfunction wholeMultipartList(params, callback) {\n    var self = this;\n    var UploadList = [];\n    var sendParams = {\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Prefix: params.Key\n    };\n    var next = function () {\n        self.multipartList(sendParams, function (err, data) {\n            if (err) return callback(err);\n            UploadList.push.apply(UploadList, data.Upload || []);\n            if (data.IsTruncated === 'true') { // \u5217\u8868\u4E0D\u5B8C\u6574\n                sendParams.KeyMarker = data.NextKeyMarker;\n                sendParams.UploadIdMarker = data.NextUploadIdMarker;\n                next();\n            } else {\n                callback(null, {UploadList: UploadList});\n            }\n        });\n    };\n    next();\n}\n\n// \u83B7\u53D6\u6307\u5B9A\u4E0A\u4F20\u4EFB\u52A1\u7684\u5206\u5757\u5217\u8868\nfunction wholeMultipartListPart(params, callback) {\n    var self = this;\n    var PartList = [];\n    var sendParams = {\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        UploadId: params.UploadId\n    };\n    var next = function () {\n        self.multipartListPart(sendParams, function (err, data) {\n            if (err) return callback(err);\n            PartList.push.apply(PartList, data.Part || []);\n            if (data.IsTruncated === 'true') { // \u5217\u8868\u4E0D\u5B8C\u6574\n                sendParams.PartNumberMarker = data.NextPartNumberMarker;\n                next();\n            } else {\n                callback(null, {PartList: PartList});\n            }\n        });\n    };\n    next();\n}\n\n// \u4E0A\u4F20\u6587\u4EF6\u5206\u5757\uFF0C\u5305\u62EC\n/*\n UploadId (\u4E0A\u4F20\u4EFB\u52A1\u7F16\u53F7)\n AsyncLimit (\u5E76\u53D1\u91CF)\uFF0C\n SliceList (\u4E0A\u4F20\u7684\u5206\u5757\u6570\u7EC4)\uFF0C\n FilePath (\u672C\u5730\u6587\u4EF6\u7684\u4F4D\u7F6E)\uFF0C\n SliceSize (\u6587\u4EF6\u5206\u5757\u5927\u5C0F)\n FileSize (\u6587\u4EF6\u5927\u5C0F)\n onProgress (\u4E0A\u4F20\u6210\u529F\u4E4B\u540E\u7684\u56DE\u8C03\u51FD\u6570)\n */\nfunction uploadSliceList(params, cb) {\n    var self = this;\n    var TaskId = params.TaskId;\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var UploadData = params.UploadData;\n    var FileSize = params.FileSize;\n    var SliceSize = params.SliceSize;\n    var ChunkParallel = Math.min(params.AsyncLimit || self.options.ChunkParallelLimit || 1, 256);\n    var Body = params.Body;\n    var SliceCount = Math.ceil(FileSize / SliceSize);\n    var FinishSize = 0;\n    var ServerSideEncryption = params.ServerSideEncryption;\n    var Headers = params.Headers;\n    var needUploadSlices = util.filter(UploadData.PartList, function (SliceItem) {\n        if (SliceItem['Uploaded']) {\n            FinishSize += SliceItem['PartNumber'] >= SliceCount ? (FileSize % SliceSize || SliceSize) : SliceSize;\n        }\n        return !SliceItem['Uploaded'];\n    });\n    var onProgress = params.onProgress;\n\n    Async.eachLimit(needUploadSlices, ChunkParallel, function (SliceItem, asyncCallback) {\n        if (!self._isRunningTask(TaskId)) return;\n        var PartNumber = SliceItem['PartNumber'];\n        var currentSize = Math.min(FileSize, SliceItem['PartNumber'] * SliceSize) - (SliceItem['PartNumber'] - 1) * SliceSize;\n        var preAddSize = 0;\n        uploadSliceItem.call(self, {\n            TaskId: TaskId,\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n            SliceSize: SliceSize,\n            FileSize: FileSize,\n            PartNumber: PartNumber,\n            ServerSideEncryption: ServerSideEncryption,\n            Body: Body,\n            UploadData: UploadData,\n            Headers: Headers,\n            onProgress: function (data) {\n                FinishSize += data.loaded - preAddSize;\n                preAddSize = data.loaded;\n                onProgress({loaded: FinishSize, total: FileSize});\n            },\n        }, function (err, data) {\n            if (!self._isRunningTask(TaskId)) return;\n            if (!err && !data.ETag) err = 'get ETag error, please add \"ETag\" to CORS ExposeHeader setting.( \u83B7\u53D6ETag\u5931\u8D25\uFF0C\u8BF7\u5728CORS ExposeHeader\u8BBE\u7F6E\u4E2D\u6DFB\u52A0ETag\uFF0C\u8BF7\u53C2\u8003\u6587\u6863\uFF1Ahttps://cloud.tencent.com/document/product/436/13318 )';\n            if (err) {\n                FinishSize -= preAddSize;\n            } else {\n                FinishSize += currentSize - preAddSize;\n                SliceItem.ETag = data.ETag;\n            }\n            onProgress({loaded: FinishSize, total: FileSize});\n            asyncCallback(err || null, data);\n        });\n    }, function (err) {\n        if (!self._isRunningTask(TaskId)) return;\n        if (err) return cb(err);\n        cb(null, {\n            UploadId: UploadData.UploadId,\n            SliceList: UploadData.PartList\n        });\n    });\n}\n\n// \u4E0A\u4F20\u6307\u5B9A\u5206\u7247\nfunction uploadSliceItem(params, callback) {\n    var self = this;\n    var TaskId = params.TaskId;\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var FileSize = params.FileSize;\n    var FileBody = params.Body;\n    var PartNumber = params.PartNumber * 1;\n    var SliceSize = params.SliceSize;\n    var ServerSideEncryption = params.ServerSideEncryption;\n    var UploadData = params.UploadData;\n    var Headers = params.Headers || {};\n    var ChunkRetryTimes = self.options.ChunkRetryTimes + 1;\n\n    var start = SliceSize * (PartNumber - 1);\n\n    var ContentLength = SliceSize;\n\n    var end = start + SliceSize;\n\n    if (end > FileSize) {\n        end = FileSize;\n        ContentLength = end - start;\n    }\n\n    var headersWhiteList = ['x-cos-traffic-limit', 'x-cos-mime-limit'];\n    var headers = {};\n    util.each(Headers, function(v, k) {\n        if (headersWhiteList.indexOf(k) > -1) {\n            headers[k] = v;\n        }\n    });\n\n    var PartItem = UploadData.PartList[PartNumber - 1];\n    Async.retry(ChunkRetryTimes, function (tryCallback) {\n        if (!self._isRunningTask(TaskId)) return;\n        util.fileSlice(FileBody, start, end, true, function (Body) {\n            self.multipartUpload({\n                TaskId: TaskId,\n                Bucket: Bucket,\n                Region: Region,\n                Key: Key,\n                ContentLength: ContentLength,\n                PartNumber: PartNumber,\n                UploadId: UploadData.UploadId,\n                ServerSideEncryption: ServerSideEncryption,\n                Body: Body,\n                Headers: headers,\n                onProgress: params.onProgress,\n            }, function (err, data) {\n                if (!self._isRunningTask(TaskId)) return;\n                if (err) return tryCallback(err);\n                PartItem.Uploaded = true;\n                return tryCallback(null, data);\n            });\n        });\n    }, function (err, data) {\n        if (!self._isRunningTask(TaskId)) return;\n        return callback(err, data);\n    });\n}\n\n\n// \u5B8C\u6210\u5206\u5757\u4E0A\u4F20\nfunction uploadSliceComplete(params, callback) {\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var UploadId = params.UploadId;\n    var SliceList = params.SliceList;\n    var self = this;\n    var ChunkRetryTimes = this.options.ChunkRetryTimes + 1;\n    var Headers = params.Headers;\n    var Parts = SliceList.map(function (item) {\n        return {\n            PartNumber: item.PartNumber,\n            ETag: item.ETag\n        };\n    });\n    // \u5B8C\u6210\u4E0A\u4F20\u7684\u8BF7\u6C42\u4E5F\u505A\u91CD\u8BD5\n    Async.retry(ChunkRetryTimes, function (tryCallback) {\n        self.multipartComplete({\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n            UploadId: UploadId,\n            Parts: Parts,\n            Headers: Headers,\n        }, tryCallback);\n    }, function (err, data) {\n        callback(err, data);\n    });\n}\n\n// \u629B\u5F03\u5206\u5757\u4E0A\u4F20\u4EFB\u52A1\n/*\n AsyncLimit (\u629B\u5F03\u4E0A\u4F20\u4EFB\u52A1\u7684\u5E76\u53D1\u91CF)\uFF0C\n UploadId (\u4E0A\u4F20\u4EFB\u52A1\u7684\u7F16\u53F7\uFF0C\u5F53 Level \u4E3A task \u65F6\u5019\u9700\u8981)\n Level (\u629B\u5F03\u5206\u5757\u4E0A\u4F20\u4EFB\u52A1\u7684\u7EA7\u522B\uFF0Ctask : \u629B\u5F03\u6307\u5B9A\u7684\u4E0A\u4F20\u4EFB\u52A1\uFF0Cfile \uFF1A \u629B\u5F03\u6307\u5B9A\u7684\u6587\u4EF6\u5BF9\u5E94\u7684\u4E0A\u4F20\u4EFB\u52A1\uFF0C\u5176\u4ED6\u503C \uFF1A\u629B\u5F03\u6307\u5B9ABucket \u7684\u5168\u90E8\u4E0A\u4F20\u4EFB\u52A1)\n */\nfunction abortUploadTask(params, callback) {\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var UploadId = params.UploadId;\n    var Level = params.Level || 'task';\n    var AsyncLimit = params.AsyncLimit;\n    var self = this;\n\n    var ep = new EventProxy();\n\n    ep.on('error', function (errData) {\n        return callback(errData);\n    });\n\n    // \u5DF2\u7ECF\u83B7\u53D6\u5230\u9700\u8981\u629B\u5F03\u7684\u4EFB\u52A1\u5217\u8868\n    ep.on('get_abort_array', function (AbortArray) {\n        abortUploadTaskArray.call(self, {\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n            Headers: params.Headers,\n            AsyncLimit: AsyncLimit,\n            AbortArray: AbortArray\n        }, callback);\n    });\n\n    if (Level === 'bucket') {\n        // Bucket \u7EA7\u522B\u7684\u4EFB\u52A1\u629B\u5F03\uFF0C\u629B\u5F03\u8BE5 Bucket \u4E0B\u7684\u5168\u90E8\u4E0A\u4F20\u4EFB\u52A1\n        wholeMultipartList.call(self, {\n            Bucket: Bucket,\n            Region: Region\n        }, function (err, data) {\n            if (err) return callback(err);\n            ep.emit('get_abort_array', data.UploadList || []);\n        });\n    } else if (Level === 'file') {\n        // \u6587\u4EF6\u7EA7\u522B\u7684\u4EFB\u52A1\u629B\u5F03\uFF0C\u629B\u5F03\u8BE5\u6587\u4EF6\u7684\u5168\u90E8\u4E0A\u4F20\u4EFB\u52A1\n        if (!Key) return callback(util.error(new Error('abort_upload_task_no_key')));\n        wholeMultipartList.call(self, {\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key\n        }, function (err, data) {\n            if (err) return callback(err);\n            ep.emit('get_abort_array', data.UploadList || []);\n        });\n    } else if (Level === 'task') {\n        // \u5355\u4E2A\u4EFB\u52A1\u7EA7\u522B\u7684\u4EFB\u52A1\u629B\u5F03\uFF0C\u629B\u5F03\u6307\u5B9A UploadId \u7684\u4E0A\u4F20\u4EFB\u52A1\n        if (!UploadId) return callback(util.error(new Error('abort_upload_task_no_id')));\n        if (!Key) return callback(util.error(new Error('abort_upload_task_no_key')));\n        ep.emit('get_abort_array', [{\n            Key: Key,\n            UploadId: UploadId\n        }]);\n    } else {\n        return callback(util.error(new Error('abort_unknown_level')));\n    }\n}\n\n// \u6279\u91CF\u629B\u5F03\u5206\u5757\u4E0A\u4F20\u4EFB\u52A1\nfunction abortUploadTaskArray(params, callback) {\n\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var AbortArray = params.AbortArray;\n    var AsyncLimit = params.AsyncLimit || 1;\n    var self = this;\n\n    var index = 0;\n    var resultList = new Array(AbortArray.length);\n    Async.eachLimit(AbortArray, AsyncLimit, function (AbortItem, nextItem) {\n        var eachIndex = index;\n        if (Key && Key !== AbortItem.Key) {\n            resultList[eachIndex] = {error: {KeyNotMatch: true}};\n            nextItem(null);\n            return;\n        }\n        var UploadId = AbortItem.UploadId || AbortItem.UploadID;\n\n        self.multipartAbort({\n            Bucket: Bucket,\n            Region: Region,\n            Key: AbortItem.Key,\n            Headers: params.Headers,\n            UploadId: UploadId\n        }, function (err) {\n            var task = {\n                Bucket: Bucket,\n                Region: Region,\n                Key: AbortItem.Key,\n                UploadId: UploadId\n            };\n            resultList[eachIndex] = {error: err, task: task};\n            nextItem(null);\n        });\n        index++;\n\n    }, function (err) {\n        if (err) return callback(err);\n\n        var successList = [];\n        var errorList = [];\n\n        for (var i = 0, len = resultList.length; i < len; i++) {\n            var item = resultList[i];\n            if (item['task']) {\n                if (item['error']) {\n                    errorList.push(item['task']);\n                } else {\n                    successList.push(item['task']);\n                }\n            }\n        }\n\n        return callback(null, {\n            successList: successList,\n            errorList: errorList\n        });\n    });\n}\n\n// \u9AD8\u7EA7\u4E0A\u4F20\nfunction uploadFile(params, callback) {\n    var self = this;\n\n    // \u5224\u65AD\u591A\u5927\u7684\u6587\u4EF6\u4F7F\u7528\u5206\u7247\u4E0A\u4F20\n    var SliceSize = params.SliceSize === undefined ? self.options.SliceSize : params.SliceSize;\n\n    var taskList = [];\n\n    var Body = params.Body;\n    var FileSize = Body.size || Body.length || 0;\n    var fileInfo = {TaskId: ''};\n\n    // \u6574\u7406 option\uFF0C\u7528\u4E8E\u8FD4\u56DE\u7ED9\u56DE\u8C03\n    util.each(params, function (v, k) {\n        if (typeof v !== 'object' && typeof v !== 'function') {\n            fileInfo[k] = v;\n        }\n    });\n\n    // \u5904\u7406\u6587\u4EF6 TaskReady\n    var _onTaskReady = params.onTaskReady;\n    var onTaskReady = function (tid) {\n        fileInfo.TaskId = tid;\n        _onTaskReady && _onTaskReady(tid);\n    };\n    params.onTaskReady = onTaskReady;\n\n    // \u5904\u7406\u6587\u4EF6\u5B8C\u6210\n    var _onFileFinish = params.onFileFinish;\n    var onFileFinish = function (err, data) {\n        _onFileFinish && _onFileFinish(err, data, fileInfo);\n        callback && callback(err, data);\n    };\n\n    // \u6DFB\u52A0\u4E0A\u4F20\u4EFB\u52A1,\u8D85\u8FC7\u9608\u503C\u4F7F\u7528\u5206\u5757\u4E0A\u4F20\uFF0C\u5C0F\u4E8E\u7B49\u4E8E\u5219\u7B80\u5355\u4E0A\u4F20\n    var api = FileSize > SliceSize ? 'sliceUploadFile' : 'putObject';\n    taskList.push({\n        api: api,\n        params: params,\n        callback: onFileFinish,\n    });\n\n    self._addTasks(taskList);\n}\n\n// \u6279\u91CF\u4E0A\u4F20\u6587\u4EF6\nfunction uploadFiles(params, callback) {\n    var self = this;\n\n    // \u5224\u65AD\u591A\u5927\u7684\u6587\u4EF6\u4F7F\u7528\u5206\u7247\u4E0A\u4F20\n    var SliceSize = params.SliceSize === undefined ? self.options.SliceSize : params.SliceSize;\n\n    // \u6C47\u603B\u8FD4\u56DE\u8FDB\u5EA6\n    var TotalSize = 0;\n    var TotalFinish = 0;\n    var onTotalProgress = util.throttleOnProgress.call(self, TotalFinish, params.onProgress);\n\n    // \u6C47\u603B\u8FD4\u56DE\u56DE\u8C03\n    var unFinishCount = params.files.length;\n    var _onTotalFileFinish = params.onFileFinish;\n    var resultList = Array(unFinishCount);\n    var onTotalFileFinish = function (err, data, options) {\n        onTotalProgress(null, true);\n        _onTotalFileFinish && _onTotalFileFinish(err, data, options);\n        resultList[options.Index] = {\n            options: options,\n            error: err,\n            data: data\n        };\n        if (--unFinishCount <= 0 && callback) {\n            callback(null, {files: resultList});\n        }\n    };\n\n    // \u5F00\u59CB\u5904\u7406\u6BCF\u4E2A\u6587\u4EF6\n    var taskList = [];\n    util.each(params.files, function (fileParams, index) {\n        (function () { // \u5BF9\u9F50 nodejs \u7F29\u8FDB\n\n            var Body = fileParams.Body;\n            var FileSize = Body.size || Body.length || 0;\n            var fileInfo = {Index: index, TaskId: ''};\n\n            // \u66F4\u65B0\u6587\u4EF6\u603B\u5927\u5C0F\n            TotalSize += FileSize;\n\n            // \u6574\u7406 option\uFF0C\u7528\u4E8E\u8FD4\u56DE\u7ED9\u56DE\u8C03\n            util.each(fileParams, function (v, k) {\n                if (typeof v !== 'object' && typeof v !== 'function') {\n                    fileInfo[k] = v;\n                }\n            });\n\n            // \u5904\u7406\u5355\u4E2A\u6587\u4EF6 TaskReady\n            var _onTaskReady = fileParams.onTaskReady;\n            var onTaskReady = function (tid) {\n                fileInfo.TaskId = tid;\n                _onTaskReady && _onTaskReady(tid);\n            };\n            fileParams.onTaskReady = onTaskReady;\n\n            // \u5904\u7406\u5355\u4E2A\u6587\u4EF6\u8FDB\u5EA6\n            var PreAddSize = 0;\n            var _onProgress = fileParams.onProgress;\n            var onProgress = function (info) {\n                TotalFinish = TotalFinish - PreAddSize + info.loaded;\n                PreAddSize = info.loaded;\n                _onProgress && _onProgress(info);\n                onTotalProgress({loaded: TotalFinish, total: TotalSize});\n            };\n            fileParams.onProgress = onProgress;\n\n            // \u5904\u7406\u5355\u4E2A\u6587\u4EF6\u5B8C\u6210\n            var _onFileFinish = fileParams.onFileFinish;\n            var onFileFinish = function (err, data) {\n                _onFileFinish && _onFileFinish(err, data);\n                onTotalFileFinish && onTotalFileFinish(err, data, fileInfo);\n            };\n\n            // \u6DFB\u52A0\u4E0A\u4F20\u4EFB\u52A1\n            var api = FileSize > SliceSize ? 'sliceUploadFile' : 'putObject';\n            taskList.push({\n                api: api,\n                params: fileParams,\n                callback: onFileFinish,\n            });\n        })();\n    });\n    self._addTasks(taskList);\n}\n\n// \u5206\u7247\u590D\u5236\u6587\u4EF6\nfunction sliceCopyFile(params, callback) {\n    var ep = new EventProxy();\n\n    var self = this;\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var CopySource = params.CopySource;\n    var m = util.getSourceParams.call(this, CopySource);\n    if (!m) {\n        callback(util.error(new Error('CopySource format error')));\n        return;\n    }\n\n    var SourceBucket = m.Bucket;\n    var SourceRegion = m.Region;\n    var SourceKey = decodeURIComponent(m.Key);\n    var CopySliceSize = params.CopySliceSize === undefined ? self.options.CopySliceSize : params.CopySliceSize;\n    CopySliceSize = Math.max(0, CopySliceSize);\n\n    var ChunkSize = params.CopyChunkSize || this.options.CopyChunkSize;\n    var ChunkParallel = this.options.CopyChunkParallelLimit;\n\n    var FinishSize = 0;\n    var FileSize;\n    var onProgress;\n\n    // \u5206\u7247\u590D\u5236\u5B8C\u6210\uFF0C\u5F00\u59CB multipartComplete \u64CD\u4F5C\n    ep.on('copy_slice_complete', function (UploadData) {\n        var metaHeaders = {};\n        util.each(params.Headers, function (val, k) {\n            if (k.toLowerCase().indexOf('x-cos-meta-') === 0) metaHeaders[k] = val;\n        });\n        var Parts = util.map(UploadData.PartList, function (item) {\n            return {\n                PartNumber: item.PartNumber,\n                ETag: item.ETag,\n            };\n        });\n        self.multipartComplete({\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n            UploadId: UploadData.UploadId,\n            Parts: Parts,\n        },function (err, data) {\n            if (err) {\n                onProgress(null, true);\n                return callback(err);\n            }\n            onProgress({loaded: FileSize, total: FileSize}, true);\n            callback(null, data);\n        });\n    });\n\n    ep.on('get_copy_data_finish',function (UploadData) {\n        Async.eachLimit(UploadData.PartList, ChunkParallel, function (SliceItem, asyncCallback) {\n            var PartNumber = SliceItem.PartNumber;\n            var CopySourceRange = SliceItem.CopySourceRange;\n            var currentSize = SliceItem.end - SliceItem.start;\n\n            copySliceItem.call(self, {\n                Bucket: Bucket,\n                Region: Region,\n                Key: Key,\n                CopySource: CopySource,\n                UploadId: UploadData.UploadId,\n                PartNumber: PartNumber,\n                CopySourceRange: CopySourceRange,\n            },function (err,data) {\n                if (err) return asyncCallback(err);\n                FinishSize += currentSize;\n                onProgress({loaded: FinishSize, total: FileSize});\n                SliceItem.ETag = data.ETag;\n                asyncCallback(err || null, data);\n            });\n        }, function (err) {\n            if (err) {\n                onProgress(null, true);\n                return callback(err);\n            }\n\n            ep.emit('copy_slice_complete', UploadData);\n        });\n    });\n\n    ep.on('get_file_size_finish', function (SourceHeaders) {\n        // \u63A7\u5236\u5206\u7247\u5927\u5C0F\n        (function () {\n            var SIZE = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 1024 * 2, 1024 * 4, 1024 * 5];\n            var AutoChunkSize = 1024 * 1024;\n            for (var i = 0; i < SIZE.length; i++) {\n                AutoChunkSize = SIZE[i] * 1024 * 1024;\n                if (FileSize / AutoChunkSize <= self.options.MaxPartNumber) break;\n            }\n            params.ChunkSize = ChunkSize = Math.max(ChunkSize, AutoChunkSize);\n\n            var ChunkCount = Math.ceil(FileSize / ChunkSize);\n\n            var list = [];\n            for (var partNumber = 1; partNumber <= ChunkCount; partNumber++) {\n                var start = (partNumber - 1) * ChunkSize;\n                var end = partNumber * ChunkSize < FileSize ? (partNumber * ChunkSize - 1) : FileSize - 1;\n                var item = {\n                    PartNumber: partNumber,\n                    start: start,\n                    end: end,\n                    CopySourceRange: \"bytes=\" + start + \"-\" + end,\n                };\n                list.push(item);\n            }\n            params.PartList = list;\n        })();\n\n        var TargetHeader;\n        if (params.Headers['x-cos-metadata-directive'] === 'Replaced') {\n            TargetHeader = params.Headers;\n        } else {\n            TargetHeader = SourceHeaders;\n        }\n        TargetHeader['x-cos-storage-class'] = params.Headers['x-cos-storage-class'] || SourceHeaders['x-cos-storage-class'];\n        TargetHeader = util.clearKey(TargetHeader);\n        /**\n         * \u5BF9\u4E8E\u5F52\u6863\u5B58\u50A8\u7684\u5BF9\u8C61\uFF0C\u5982\u679C\u672A\u6062\u590D\u526F\u672C\uFF0C\u5219\u4E0D\u5141\u8BB8 Copy\n         */\n        if (SourceHeaders['x-cos-storage-class'] === 'ARCHIVE' || SourceHeaders['x-cos-storage-class'] === 'DEEP_ARCHIVE') {\n            var restoreHeader = SourceHeaders['x-cos-restore'];\n            if (!restoreHeader || restoreHeader === 'ongoing-request=\"true\"') {\n                callback(util.error(new Error('Unrestored archive object is not allowed to be copied')));\n                return;\n            }\n        }\n        /**\n         * \u53BB\u9664\u4E00\u4E9B\u65E0\u7528\u7684\u5934\u90E8\uFF0C\u89C4\u907F multipartInit \u51FA\u9519\n         * \u8FD9\u4E9B\u5934\u90E8\u901A\u5E38\u662F\u5728 putObjectCopy \u65F6\u624D\u4F7F\u7528\n         */\n        delete TargetHeader['x-cos-copy-source'];\n        delete TargetHeader['x-cos-metadata-directive'];\n        delete TargetHeader['x-cos-copy-source-If-Modified-Since'];\n        delete TargetHeader['x-cos-copy-source-If-Unmodified-Since'];\n        delete TargetHeader['x-cos-copy-source-If-Match'];\n        delete TargetHeader['x-cos-copy-source-If-None-Match'];\n        self.multipartInit({\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n            Headers: TargetHeader,\n        },function (err,data) {\n            if (err) return callback(err);\n            params.UploadId = data.UploadId;\n            ep.emit('get_copy_data_finish', params);\n        });\n    });\n\n    // \u83B7\u53D6\u8FDC\u7AEF\u590D\u5236\u6E90\u6587\u4EF6\u7684\u5927\u5C0F\n    self.headObject({\n        Bucket: SourceBucket,\n        Region: SourceRegion,\n        Key: SourceKey,\n    },function(err, data) {\n        if (err) {\n            if (err.statusCode && err.statusCode === 404) {\n                callback(util.error(err, {ErrorStatus: SourceKey + ' Not Exist'}));\n            } else {\n                callback(err);\n            }\n            return;\n        }\n\n        FileSize = params.FileSize = data.headers['content-length'];\n        if (FileSize === undefined || !FileSize) {\n            callback(util.error(new Error('get Content-Length error, please add \"Content-Length\" to CORS ExposeHeader setting.\uFF08 \u83B7\u53D6Content-Length\u5931\u8D25\uFF0C\u8BF7\u5728CORS ExposeHeader\u8BBE\u7F6E\u4E2D\u6DFB\u52A0Content-Length\uFF0C\u8BF7\u53C2\u8003\u6587\u6863\uFF1Ahttps://cloud.tencent.com/document/product/436/13318 \uFF09')));\n            return;\n        }\n\n        onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress);\n\n        // \u5F00\u59CB\u4E0A\u4F20\n        if (FileSize <= CopySliceSize) {\n            if (!params.Headers['x-cos-metadata-directive']) {\n                params.Headers['x-cos-metadata-directive'] = 'Copy';\n            }\n            self.putObjectCopy(params, function (err, data) {\n                if (err) {\n                    onProgress(null, true);\n                    return callback(err);\n                }\n                onProgress({loaded: FileSize, total: FileSize}, true);\n                callback(err, data);\n            });\n        } else {\n            var resHeaders = data.headers;\n            var SourceHeaders = {\n                'Cache-Control': resHeaders['cache-control'],\n                'Content-Disposition': resHeaders['content-disposition'],\n                'Content-Encoding': resHeaders['content-encoding'],\n                'Content-Type': resHeaders['content-type'],\n                'Expires': resHeaders['expires'],\n                'x-cos-storage-class': resHeaders['x-cos-storage-class'],\n            };\n            util.each(resHeaders, function (v, k) {\n                var metaPrefix = 'x-cos-meta-';\n                if (k.indexOf(metaPrefix) === 0 && k.length > metaPrefix.length) {\n                    SourceHeaders[k] = v;\n                }\n            });\n            ep.emit('get_file_size_finish', SourceHeaders);\n        }\n    });\n}\n\n// \u590D\u5236\u6307\u5B9A\u5206\u7247\nfunction copySliceItem(params, callback) {\n    var TaskId = params.TaskId;\n    var Bucket = params.Bucket;\n    var Region = params.Region;\n    var Key = params.Key;\n    var CopySource = params.CopySource;\n    var UploadId = params.UploadId;\n    var PartNumber = params.PartNumber * 1;\n    var CopySourceRange = params.CopySourceRange;\n\n    var ChunkRetryTimes = this.options.ChunkRetryTimes + 1;\n    var self = this;\n\n    Async.retry(ChunkRetryTimes, function (tryCallback) {\n        self.uploadPartCopy({\n            TaskId: TaskId,\n            Bucket: Bucket,\n            Region: Region,\n            Key: Key,\n            CopySource: CopySource,\n            UploadId: UploadId,\n            PartNumber:PartNumber,\n            CopySourceRange:CopySourceRange,\n        },function (err,data) {\n            tryCallback(err || null, data);\n        })\n    }, function (err, data) {\n        return callback(err, data);\n    });\n}\n\n\nvar API_MAP = {\n    sliceUploadFile: sliceUploadFile,\n    abortUploadTask: abortUploadTask,\n    uploadFile: uploadFile,\n    uploadFiles: uploadFiles,\n    sliceCopyFile: sliceCopyFile,\n};\n\nmodule.exports.init = function (COS, task) {\n    task.transferToTaskMethod(API_MAP, 'sliceUploadFile');\n    util.each(API_MAP, function (fn, apiName) {\n        COS.prototype[apiName] = util.apiWrapper(apiName, fn);\n    });\n};\n", "'use strict';\n\nvar util = require('./util');\nvar event = require('./event');\nvar task = require('./task');\nvar base = require('./base');\nvar advance = require('./advance');\n\nvar defaultOptions = {\n    AppId: '', // AppId \u5DF2\u5E9F\u5F03\uFF0C\u8BF7\u62FC\u63A5\u5230 Bucket \u540E\u4F20\u5165\uFF0C\u4F8B\u5982\uFF1Atest-1250000000\n    SecretId: '',\n    SecretKey: '',\n    SecurityToken: '', // \u4F7F\u7528\u4E34\u65F6\u5BC6\u94A5\u9700\u8981\u6CE8\u610F\u81EA\u884C\u5237\u65B0 Token\n    ChunkRetryTimes: 2,\n    FileParallelLimit: 3,\n    ChunkParallelLimit: 3,\n    ChunkSize: 1024 * 1024,\n    SliceSize: 1024 * 1024,\n    CopyChunkParallelLimit: 20,\n    CopyChunkSize: 1024 * 1024 * 10,\n    CopySliceSize: 1024 * 1024 * 10,\n    MaxPartNumber: 10000,\n    ProgressInterval: 1000,\n    Domain: '',\n    ServiceDomain: '',\n    Protocol: '',\n    CompatibilityMode: false,\n    ForcePathStyle: false,\n    UseRawKey: false,\n    Timeout: 0, // \u5355\u4F4D\u6BEB\u79D2\uFF0C0 \u4EE3\u8868\u4E0D\u8BBE\u7F6E\u8D85\u65F6\u65F6\u95F4\n    CorrectClockSkew: true,\n    SystemClockOffset: 0, // \u5355\u4F4D\u6BEB\u79D2\uFF0Cms\n    UploadCheckContentMd5: false,\n    UploadQueueSize: 10000,\n    UploadAddMetaMd5: false,\n    UploadIdCacheLimit: 50,\n    UseAccelerate: false,\n    ForceSignHost: true, // \u9ED8\u8BA4\u5C06host\u52A0\u5165\u7B7E\u540D\u8BA1\u7B97\uFF0C\u5173\u95ED\u540E\u53EF\u80FD\u5BFC\u81F4\u8D8A\u6743\u98CE\u9669\uFF0C\u5EFA\u8BAE\u4FDD\u6301\u4E3Atrue\n};\n\n// \u5BF9\u5916\u66B4\u9732\u7684\u7C7B\nvar COS = function (options) {\n    this.options = util.extend(util.clone(defaultOptions), options || {});\n    this.options.FileParallelLimit = Math.max(1, this.options.FileParallelLimit);\n    this.options.ChunkParallelLimit = Math.max(1, this.options.ChunkParallelLimit);\n    this.options.ChunkRetryTimes = Math.max(0, this.options.ChunkRetryTimes);\n    this.options.ChunkSize = Math.max(1024 * 1024, this.options.ChunkSize);\n    this.options.CopyChunkParallelLimit = Math.max(1, this.options.CopyChunkParallelLimit);\n    this.options.CopyChunkSize = Math.max(1024 * 1024, this.options.CopyChunkSize);\n    this.options.CopySliceSize = Math.max(0, this.options.CopySliceSize);\n    this.options.MaxPartNumber = Math.max(1024, Math.min(10000, this.options.MaxPartNumber));\n    this.options.Timeout = Math.max(0, this.options.Timeout);\n    if (this.options.AppId) {\n        console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g: \"test-1250000000\").');\n    }\n    if (this.options.SecretId && this.options.SecretId.indexOf(' ') > -1) {\n        console.error('error: SecretId\u683C\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5');\n        console.error('error: SecretId format is incorrect. Please check');\n    }\n    if (this.options.SecretKey && this.options.SecretKey.indexOf(' ') > -1) {\n      console.error('error: SecretKey\u683C\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5');\n      console.error('error: SecretKey format is incorrect. Please check');\n    }\n    if (util.isNode()) {\n      console.warn('warning: cos-js-sdk-v5 \u4E0D\u652F\u6301 nodejs \u73AF\u5883\u4F7F\u7528\uFF0C\u8BF7\u6539\u7528 cos-nodejs-sdk-v5\uFF0C\u53C2\u8003\u6587\u6863\uFF1A https://cloud.tencent.com/document/product/436/8629');\n      console.warn('warning: cos-js-sdk-v5 does not support nodejs environment. Please use cos-nodejs-sdk-v5 instead. See: https://cloud.tencent.com/document/product/436/8629');\n    }\n    event.init(this);\n    task.init(this);\n};\n\nbase.init(COS, task);\nadvance.init(COS, task);\n\nCOS.util = {\n    md5: util.md5,\n    xml2json: util.xml2json,\n    json2xml: util.json2xml,\n};\nCOS.getAuthorization = util.getAuth;\nCOS.version = '1.3.10';\n\nmodule.exports = COS;\n", "var COS = require('./src/cos');\nmodule.exports = COS;", "export default require(\"./node_modules/cos-js-sdk-v5/index.js\");"],
  "mappings": "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;AAAA,MACR,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,OAAO;AAAA,MACP,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,MAAM;AAAA,MACN,KAAK;AAAA,MACL,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,OAAO;AAAA,MACP,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,MAAM;AAAA,MACN,KAAK;AAAA,MACL,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,MAAM;AAAA,MACN,MAAM;AAAA,MACN,OAAO;AAAA,MACP,MAAM;AAAA,MACN,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,KAAK;AAAA,MACL,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,KAAK;AAAA,MACL,MAAM;AAAA,MACN,MAAM;AAAA,MACN,OAAO;AAAA,MACP,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,MAAM;AAAA,MACN,KAAK;AAAA,MACL,QAAQ;AAAA,MACR,MAAM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",
  "names": ["method", "buffer", "blocks", "buffer8", "exports", "module", "b", "d", "e", "k", "g", "l", "exports", "exports", "t", "root", "XMLSerializer", "getTextContent", "exports", "exports", "a", "end", "value", "exports", "sax", "exports", "exports", "module", "exports", "module", "node_data", "exports", "module", "method", "md5", "self", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "method", "exports", "module", "self", "headers", "AuthData", "url", "allowRetry", "err", "method", "body", "exports", "module", "exports", "module", "self", "callback", "item", "err", "data", "exports", "module", "exports", "module"]
}
